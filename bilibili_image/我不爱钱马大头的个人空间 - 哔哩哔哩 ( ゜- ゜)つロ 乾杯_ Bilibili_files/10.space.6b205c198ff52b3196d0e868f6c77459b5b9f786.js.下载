(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{470:function(t,i,e){},485:function(t,i,e){"use strict";var a=e(132),s={name:"videoRip",data:function(){return{activeVideoStates:a.a,timer1:null,timer2:null,timer3:null,isHover:!1,disabledFrames:0}},props:{link:{type:String,default:"javascript:;",required:!0},state:{type:Number,default:0,required:!0},favState:{type:Number,default:0,required:!1},size:{type:String,default:"normal",validator:function(t){return["big","normal"].indexOf(t)>-1},required:!1},favType:{type:Number,default:2,required:!1},favDelete:{type:Number,default:0,required:!1}},methods:{hoverVideo:function(t){var i=this,e=this.$refs.candle;e&&((this.favState?1===this.favState:-1===this.activeVideoStates.indexOf(this.state))&&(this.timer1=setTimeout((function(){i.isHover=!0,i.timer2=setInterval((function(){var t=i.disabledFrames;0===t&&(e.style.visibility="visible"),e.style.backgroundPositionX="".concat(-50*t,"px"),i.disabledFrames++,4===t&&clearInterval(i.timer2)}),80),i.timer3=setInterval((function(){var t=i.disabledFrames;9===t&&(i.disabledFrames=5),e.style.backgroundPositionX="".concat(-50*t,"px"),i.disabledFrames++}),100)}),200)))},leaveVideo:function(t){clearTimeout(this.timer1),clearInterval(this.timer2),clearInterval(this.timer3);var i=this.$refs.candle;i.style.backgroundPositionX="0px",i.style.visibility="hidden",this.disabledFrames=0,this.isHover=!1},blankVideo:function(){return this.favState?1===this.favState:-1===this.activeVideoStates.indexOf(this.state)}}},n=(e(486),e(4)),c=Object(n.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("a",{staticClass:"cover",class:["cover-"+t.size,{disabled:this.favState?1===this.favState:-1===this.activeVideoStates.indexOf(this.state)}],attrs:{href:t.activeVideoStates.indexOf(t.state)>-1?t.link:"javascript:;",target:t.blankVideo()?"":"_blank"}},[t._t("content"),e("div",{staticClass:"disabled-cover",class:{animate:t.isHover}},[e("div",{ref:"candle",staticClass:"candle"}),e("p",[t._v(t._s(2===t.favType?"视频":"音频")+"已失效")]),1===t.favDelete?e("div",{staticClass:"delete-from"},[t._v("已被UP主删除")]):t._e()])],2)}),[],!1,null,"5f060541",null);i.a=c.exports},486:function(t,i,e){"use strict";var a=e(470);e.n(a).a},538:function(t,i,e){},539:function(t,i,e){},660:function(t,i,e){"use strict";var a=e(538);e.n(a).a},661:function(t,i,e){"use strict";var a=e(539);e.n(a).a},683:function(t,i,e){"use strict";e.r(i);var a=e(15),s=e.n(a),n=e(2),c=e.n(n),l=e(185),o=e(186),r=e(601),d=e.n(r),v=e(656),f=e.n(v),u=(e(657),e(658),e(659)),p=e(485),h=e(132),m=e(13);function _(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function y(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?_(Object(e),!0).forEach((function(i){c()(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var b={name:"favinfo",data:function(){return{isCollLoading:!1,isThumbLoading:!1}},methods:y(y({},Object(m.b)(["thumbUpOrDown","collFavAdd","collFavDel"])),{},{isType:function(t,i){if(void 0!==t){var e=+t.toString(2);return parseInt(("000000"+e).substr(-7).split("").reverse().join("").charAt(i))}},handleThumb:function(){var t=this;if(0===this._bili_login_info.mid)this.$warn("点赞收藏夹请先登录哦~").then((function(){window.location.href="https://passport.bilibili.com/login?gourl="+window.location.href}));else{if(this.isThumbLoading)return;var i=this.favListDetails.info,e=i.id,a=i.like_state,s={rid:e,thumb_type:1,type:11,up_mid:this._bili_space_mid};0==+a?s.thumb_type=1:1==+a&&(s.thumb_type=2),this.isThumbLoading=!0,this.thumbUpOrDown(y({},s)).then((function(){t.isThumbLoading=!1,1===s.thumb_type?t.$toast("点赞收藏夹成功~"):t.$toast("取消点赞成功~")})).catch((function(i){t.isThumbLoading=!1})),rec("space_fav_interaction_click","like")}},handleCollect:function(){var t=this;if(0===this._bili_login_info.mid)this.$warn("收藏收藏夹请先登录哦~").then((function(){window.location.href="https://passport.bilibili.com/login?gourl="+window.location.href}));else{if(this.isCollLoading)return;var i=this.favListDetails.info,e=i.id;0==+i.fav_state?(this.isCollLoading=!0,this.collFavAdd(e).then((function(){t.isCollLoading=!1,t.$toast("添加收藏成功~"),t._bili_space_mid===t._bili_space_mymid&&t.$emit("handleCollectFav")})).catch((function(i){t.isCollLoading=!1}))):(this.isCollLoading=!0,this.collFavDel({id:e,mid:this._bili_space_mid,mymid:this._bili_space_mymid}).then((function(){t.isCollLoading=!1,t.$toast("取消收藏成功~"),t._bili_space_mid===t._bili_space_mymid&&t.$emit("handleCollectFav")})).catch((function(i){t.isCollLoading=!1}))),rec("space_fav_interaction_click","fav")}},createOrCollect:function(){var t=this.createdList,i=this.favListDetails.info;return t.list.find((function(t){return t.id===i.id}))?"create":"collect"},showFavShare:function(){0===this._bili_login_info.mid?this.$warn("分收藏夹请先登录哦~").then((function(){window.location.href="https://passport.bilibili.com/login?gourl="+window.location.href})):(this.$store.commit("SHOWFAVSHARE_SUCCESS",!0),rec("space_fav_interaction_click","share"))},linkRep:function(t){var i=this.$route.query.ftype;switch(t){case"favPlayDetail":rec("space_fav_face_click","collect"===i?2:1);break;case"reply":rec("space_fav_interaction_click","comment")}}}),computed:y(y({},Object(m.c)(["favListDetails","_bili_space_mid","createdList","_bili_login_info","_bili_space_mymid"])),{},{favListStatus:function(){var t=this.favListDetails.info.attr;return 0===this.isType(t,0)},favIsDefault:function(){var t=this.favListDetails.info.attr;return 0===this.isType(t,1)},favPlayAll:function(){var t=this.favListDetails.info,i=t.id,e=t.media_count,a=t.state;return e&&0===a?"//www.bilibili.com/medialist/play/ml".concat(i):"javascript:;"},favPlayDetail:function(){var t=this.favListDetails.info,i=t.id,e=t.media_count,a=t.state,s="";if(e&&0===a){var n="create"===this.createOrCollect()?1:2;s="//www.bilibili.com/medialist/detail/ml".concat(i,"?type=").concat(n)}else s="javascript:;";return s},favIsCollect:function(){return"collect"===this.$route.query.ftype}})},C=(e(660),e(4)),g=Object(C.a)(b,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"favInfo-box",class:{invalid:1===t.favListDetails.info.state,favEmpty:0===t.favListDetails.info.media_count}},[e("a",{staticClass:"favInfo-cover",class:{empty:!t.favListDetails.info.cover||""===t.favListDetails.info.cover,audio:12===t.favListDetails.info.cover_type},attrs:{href:t.favPlayDetail,target:"_blank"},on:{click:function(i){return t.linkRep("favPlayDetail")}}},[12===t.favListDetails.info.cover_type?e("div",{staticClass:"blurBg",style:{backgroundImage:"url("+t.favListDetails.info.cover+")"}}):t._e(),t.favListDetails.info.cover?e("img",{attrs:{src:t._f("coversize")(t.favListDetails.info.cover,"380x240"),alt:""}}):t._e(),1!==t.favListDetails.info.state&&1!==t.isType(t.favListDetails.info.attr,6)?e("i",{staticClass:"icon icon-favlist-info"}):t._e(),1===t.favListDetails.info.state?e("div",{staticClass:"fav-invalid"},[e("i",{staticClass:"iconfont icon-shixiao"}),t._v("\n      已失效\n    ")]):t._e(),1===t.isType(t.favListDetails.info.attr,6)?e("div",{staticClass:"fav-invalid"},[e("i",{staticClass:"iconfont icon-shixiao"}),t._v("\n      封面审核中\n    ")]):t._e()]),e("div",{staticClass:"favInfo-details"},[e("a",{staticClass:"fav-name",attrs:{href:t.favPlayDetail,target:"_blank"},on:{click:function(i){return t.linkRep("favPlayDetail")}}},[t._v(t._s(t.favListDetails.info.title))]),e("div",{staticClass:"fav-meta"},[e("span",{staticClass:"fav-up-name"},[t._v("创建者："+t._s(t.favListDetails.info.upper.name))]),t.favListStatus?e("span",[t._v("播放数："+t._s(t._f("toWan")(t.favListDetails.info.cnt_info.play)))]):t._e()]),e("div",{staticClass:"fav-meta"},[e("span",[t._v(t._s(t._f("toWan")(t.favListDetails.info.media_count))+"个内容")]),e("span",{staticClass:"dot"},[t._v("·")]),e("span",[t._v(t._s(t.favListStatus?"公开":"私密"))])]),e("div",{staticClass:"fav-options",class:{defaultFav:t.favIsDefault,collectFav:t.favIsCollect}},[e("a",{directives:[{name:"rep",rawName:"v-rep",value:"space_fave_playall_click",expression:"'space_fave_playall_click'"}],staticClass:"fav-play",attrs:{href:t.favPlayAll,target:t.favListDetails.info.media_count&&0===t.favListDetails.info.state?"_blank":""}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v("\n        播放全部\n      ")]),0!==t.favListDetails.info.media_count?e("div",{staticClass:"meta",class:{selected:1===t.favListDetails.info.like_state},on:{click:t.handleThumb}},[e("i",{staticClass:"iconfont icon-dianzan"}),t.favListDetails.info.cnt_info.thumb_up?t._e():e("span",[t._v("点赞")]),t.favListDetails.info.cnt_info.thumb_up?e("span",[t._v(t._s(t._f("toWan")(t.favListDetails.info.cnt_info.thumb_up)))]):t._e()]):t._e(),0!==t.favListDetails.info.media_count?e("div",{staticClass:"meta",class:{selected:1===t.favListDetails.info.fav_state},on:{click:t.handleCollect}},[e("i",{staticClass:"iconfont icon-shoucang"}),t.favListDetails.info.cnt_info.collect?t._e():e("span",[t._v("收藏")]),t.favListDetails.info.cnt_info.collect?e("span",[t._v(t._s(t._f("toWan")(t.favListDetails.info.cnt_info.collect)))]):t._e()]):t._e(),0!==t.favListDetails.info.media_count?e("div",{staticClass:"meta",on:{click:t.showFavShare}},[e("i",{staticClass:"iconfont icon-fenxiang"}),t.favListDetails.info.cnt_info.share?t._e():e("span",[t._v("分享")]),t.favListDetails.info.cnt_info.share?e("span",[t._v(t._s(t._f("toWan")(t.favListDetails.info.cnt_info.share)))]):t._e()]):t._e()])])])}),[],!1,null,null,null).exports;function w(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function P(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?w(Object(e),!0).forEach((function(i){c()(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var k=Object.keys(l),F=Object.keys(o),L={name:"fav",data:function(){return{isReload:!1,activeVideoStates:h.a,isDragging:!1,topicParams:{pn:1,ps:16},articleParams:{pn:1,ps:16},keyword:"",curFid:0,curFavType:"create",curEditFid:0,curSearchFid:0,selectedItem:[],selectedFavId:-1,modal2:{show:!1,title:"",name:""},isBatch:!1,isSearch:!1,mainPanel:"fav",specialError:"",isCreatedFold:!0,isCollectedFold:!0,created_params:{pn:1,ps:20,up_mid:0,isReSet:!0},collected_params:{pn:1,ps:20,up_mid:0,isReSet:!0},favPlayParams:{media_id:0,pn:1,ps:20,keyword:"",order:"",type:0,tid:""},ifShowEdit:!1,editOptions:{mediaId:"",defaultStatus:1,editType:1,visitType:0},editParams:{title:"",cover:"",intro:"",privateStatus:0},isShowAddInput:!1,folderName:""}},beforeMount:function(){this.collected_params.up_mid=this._bili_space_mid},mounted:function(){$("body").off(".searchFav").on("focus.searchFav",".search-fav-input",(function(){$(this).parents(".filter-item.search").addClass("focus")})).on("focusout.searchFav",".search-fav-input",(function(){$(this).parents(".filter-item.search").removeClass("focus")})),this.isReload=!1,this.load(this.$route.query)},beforeRouteUpdate:function(t,i,e){this.isReload=!0,this.load(t.query),e()},methods:P(P(P({load:function(t){var i=this,e=t.searchFid,a=t.keyword,s=t.order,n=t.fid,c=t.ftype,l=t.type;-1===["articles","topic","albumfav","bangumi","pugvfav"].indexOf(n)&&(n=+n),this.topicParams.pn=1,this.articleParams.pn=1,this.favPlayParams.pn=1,this.isReload?this.loadDetail(e,a,s,n,c,l):Promise.all([this.fetchCreatedFav({up_mid:this._bili_space_mid}),this.fetchCollectedFav(P({},this.collected_params)),this.fetchFavNavList({mid:this._bili_space_mid,mymid:this._bili_space_mymid})]).then((function(){i.collected_params.pn+=1,i.loadDetail(e,a,s,n,c,l);var t=i.createdList.list.findIndex((function(t){return t.id===i.favPlayParams.media_id}));if(t>-1){var o=document.querySelector("#fav-createdList-container"),r=document.querySelectorAll("#fav-createdList-container .fav-item");r[t].offsetTop>380&&(o.scrollTop=r[t].offsetTop-200)}})).catch((function(t){return console.log(t)}))},loadDetail:function(t,i,e,a,n,c){var l=this;if(0!==[].concat(s()(this.createdList.list),s()(this.collectedList.list)).length){var o=[].concat(s()(this.createdList.list),s()(this.collectedList.list)),r=this.createdList.list.find((function(t){return 1!==l.isType(t.attr,1)}))||o[0],d=r?r.id:o[0].id;if("topic"===a)this.mainPanel="topic","owner"===this._bili_space_state&&1===this.topicParams.pn&&this.fetchTopics(this.topicParams);else if("articles"===a)this.mainPanel="articles","owner"===this._bili_space_state&&1===this.articleParams.pn&&this.fetchArticleAllList(this.articleParams);else if("albumfav"===a&&"owner"===this._bili_space_state)this.mainPanel="albumfav";else if("bangumi"===a&&"owner"===this._bili_space_state)this.mainPanel="bangumi";else if("pugvfav"===a)this.mainPanel="pugvfav",this.fetchPugvList({pn:1,ps:10,mid:this._bili_space_mid});else{if(!a){var v="";"owner"===this._bili_space_state?v=d:o.length>0&&(v=this.favCreatedList.list.length?this.favCreatedList.list[0].id:this.collectedList.list[0].id),a=v}var f=localStorage.getItem("user-video-list-style");this.selectedItem=[],this.isBatch=!1,this.favPlayParams.tid=0,this.favPlayParams.pn=1,this.favPlayParams.type=+c||0,this.favPlayParams.order=e||"mtime",this.listStyle=null===f?"cube":f,this.specialError="",this._bili_space_mymid>0&&this._bili_space_mymid!==this._bili_space_mid&&this.fetchMyCreatedFav({pn:this.myCreatedList.pn,ps:20,up_mid:this._bili_space_mymid}),this.mainPanel="fav",this.favPlayParams.media_id=+t||+a,this.curSearchFid=0===this.favPlayParams.type?+t||+a:-1,this.curFid=+a||0,this.curFavType=n||"create",window._search_keyword=this.favPlayParams.keyword=this.keyword=i||"",rec("space_fav_show","create"===this.curFavType?1:2),"owner"===this._bili_space_state&&this.delInvalidVideoState(this.curFid),this.fetchFavDetails(this.favPlayParams)}}}},Object(m.b)([].concat(s()(k),["watchVideo","fetchNavNum","fetchPugvList","delPugv"]))),Object(m.d)(["UPDATEPUGVNUM_SUCCESS"])),{},{turnPage:function(t){switch(this.mainPanel){case"articles":this.articleParams.pn=t,this.fetchArticleAllList(this.articleParams);break;case"topic":this.topicParams.pn=t,this.fetchTopics(this.topicParams);break;case"pugvfav":this.fetchPugvList({pn:t,ps:10,mid:this._bili_space_mid});break;default:this.favPlayParams.pn=t,this.fetchFavDetails(this.favPlayParams)}},trimHttp:function(t){return void 0===t?"":t.replace(/https?:/,"")},imgHref:function(t,i){return!!i&&"//www.bilibili.com/read/cv"+t},watchVideoFilter:function(t){var i=t.id,e=t.attr;1!==this.isType(e,0)&&this.watchVideo(i)},onStart:function(){this.isDragging=!0},onEnd:function(){this.isDragging=!1},onUpdate:function(t){for(var i=this,e=[],a=document.querySelectorAll("#fav-createdList-container .fav-item"),s=a.length,n=0;n<s;n++)e.push(a[n].attributes.fid.value);this.sortFavPlayLiat(e.join(",")).then((function(){i.$toast("排序成功~")}))},openBatchPanel:function(){var t,i,e;0!==this.curFavMeta.cur_count&&0!==this.curFavMeta.media_count&&(this.isBatch=!0,this.$nextTick((function(){t=$(".fav-action-fixtop"),i=t.offset().top-66,e=t.offset().left,$(window).on("scroll.fav",(function(a){$(window).scrollTop()-i>0?t.addClass("fixtop").css({left:e,top:"66px"}):t.removeClass("fixtop").css({left:"-20px",top:0})})).on("resize.fav",(function(){i=t.offset().top-66,e=t.offset().left}))})))},closeBatchPanel:function(){this.isSearch?(this.isSearch=!1,this.favPlayParams.type=0,this.$router.push({name:"fav",query:{fid:this.curFid,ftype:this.curFavType}})):(this.isBatch=!1,this.clearSelected(),this.$nextTick((function(){$(window).off(".fav")})))},select:function(t,i){var e=this.selectedItem.indexOf("".concat(t,":").concat(i));e>-1?this.selectedItem.splice(e,1):this.selectedItem.push("".concat(t,":").concat(i))},clearSelected:function(){this.selectedItem=[]},selectedAllVideo:function(){if(!0===this.isSelectedAllVideo)this.clearSelected(),this.isSelectedAllVideo=!1;else{this.clearSelected();for(var t=0,i=this.favListDetails.medias.length;t<i;t++)this.selectedItem.push("".concat(this.favListDetails.medias[t].id,":").concat(this.favListDetails.medias[t].type));this.isSelectedAllVideo=!0}},handleDelInvalidVideo:function(t){var i=this;this.$confirm("你要一键清除当前文件夹里所有失效内容吗？").then((function(){i.delInvalidVideo(t).then((function(){var e=i.favDetail.count;i.delInvalidVideoState(t),i.$toast("成功清除失效视频，请稍后查看～"),i.selectedNum===e&&(i.favPlayParams.tid=0),setTimeout((function(){i.fetchCreatedFav({up_mid:i._bili_space_mid,is_space:0}),i.favPlayParams.media_id=t,i.fetchFavDetails(i.favPlayParams).then((function(t){0===t.medias.length&&(i.isBatch=!1)}))}),800)}),(function(){}))}))},handleDelVideo:function(t,i){var e=this,a=this.curFid,s="".concat(t,":").concat(i);if("number"==typeof t)this.delFavVideo({media_id:a,resources:s}).then((function(){e.$toast("成功取消收藏～"),1===e.favListDetails.medias.length&&(e.favPlayParams.tid=0),1===e.favListDetails.medias.length&&(e.favPlayParams.pn=1),e.favPlayParams.media_id=a,setTimeout((function(){e.fetchCreatedFav({up_mid:e._bili_space_mid,is_space:0}),e.fetchFavDetails(e.favPlayParams)}),800)}),(function(){}));else{var n=this.selectedItem,c=n.length;if(0===c)return;this.$confirm("你将要取消收藏 ".concat(c," 个视频")).then((function(){e.delFavVideo({media_id:a,resources:n.join(",")}).then((function(){e.$toast("成功取消收藏～"),c===e.favListDetails.medias.length&&(e.favPlayParams.tid=0),c===e.favListDetails.medias.length&&(e.favPlayParams.pn=1),e.favPlayParams.media_id=a,e.clearSelected(),setTimeout((function(){e.fetchCreatedFav({up_mid:e._bili_space_mid,is_space:0}),e.fetchFavDetails(e.favPlayParams).then((function(t){0===t.medias.length&&(e.isBatch=!1)}))}),800)}),(function(){}))}))}},handleCopyVideo:function(t,i){if(0===this._bili_login_info.mid)this.$warn("复制视频请先登录哦~");else{if("number"==typeof t&&this.selectedItem.push("".concat(t,":").concat(i)),0===this.selectedItem.length)return;this.modal2.show=!0,this.modal2.name="copyVideo",this.modalEvent()}},handleMoveVideo:function(t,i){"number"==typeof t&&this.selectedItem.push("".concat(t,":").concat(i)),0!==this.selectedItem.length&&(this.modal2.show=!0,this.modal2.name="moveVideo",this.modalEvent())},handleDelTopic:function(t){var i=this;this.delTopics(t).then((function(){1===i.topics.list.length&&i.topics.total>1&&i.topicParams.pn--,i.fetchTopics(i.topicParams)}))},handleDelArticle:function(t){var i=this;this.delArticles(t).then((function(){1===i.favArticles.favorites.length&&i.favArticles.page.total>1&&i.articleParams.pn--,i.$toast("成功取消收藏～"),setTimeout((function(){i.fetchArticleAllList(i.articleParams)}),800)}))},selectFav:function(t){var i=t.id,e=t.media_count,a=t.attr,s=0===this.isType(a,1)?5e4:1e3;i!==this.curFid&&(this.selectedNum+e>s||(this.selectedFavId=i))},handleDelFav:function(t){var i=this,e=this.defaultFav.id;t===e?this.$warn("不能删除默认收藏夹"):this.$confirm("确定删除这个收藏夹吗？").then((function(){i.delFavPlayList(t).then((function(){i.$toast("删除成功(ง •̀_•́)ง"),i.clearSelected(),setTimeout((function(){i.fetchNavNum({mid:i._bili_space_mid}),t===i.curFid&&i.$router.push({name:"fav",query:{fid:e}})}),1e3)}),(function(){}))}))},handleEditFav:function(t){var i=t.title,e=t.cover,a=t.intro,s=t.attr,n=t.id;t.cover_type;this.editOptions.visitType="owner"===this._bili_space_state?0:1,this.editOptions.editType=2,this.editOptions.mediaId=n,this.editOptions.defaultStatus=this.isType(s,1),this.editParams.title=i,this.editParams.cover=e,this.editParams.intro=a,this.editParams.privateStatus=this.isType(s,0),this.ifShowEdit=!0,this.curEditFid=n,rec("space_collectionlist_editcollectionbutton_click")},handleAddFav:function(){this.editOptions.visitType="owner"===this._bili_space_state?0:1,this.ifShowEdit=!0},chooseType:function(t){t!==this.favPlayParams.tid&&(this.favPlayParams.tid=t,this.favPlayParams.pn=1,this.fetchFavDetails(this.favPlayParams))},handleClick:function(t){if(t){var i={up_mid:this._bili_space_mid,media_id:this.favPlayParams.media_id};this.fetchFavTlist(i)}},videoSort:function(t){t!==this.favPlayParams.order&&(this.favPlayParams.order=t,this.fetchFavDetails(this.favPlayParams))},chooseRange:function(t){this.favPlayParams.pn=1,this.favPlayParams.type=t},searchAll:function(){this.favPlayParams.pn=1,this.favPlayParams.type=1,this.search()},search:function(){var t=this.favPlayParams,i=t.keyword,e=t.media_id,a=t.type;""!==i&&(window._search_keyword=i,this.$router.push({name:"fav",query:{keyword:i,searchFid:e,fid:this.curFid,type:a}}))},handleVideoModalConfirm:function(t){var i=this,e=t.name;if(-1!==this.curTargetFav.fid){var a=this.curFid,s=this.curTargetFav.fid,n=this.selectedItem.join(","),c=this.favListDetails.medias.length,l=this.selectedNum;switch(e){case"moveVideo":this.moveVideo({src_media_id:a,tar_media_id:s,resources:n}).then((function(){i.$toast("移动成功(ง •̀_•́)ง"),i.handleVideoModalCancel(),i.clearSelected(),l===c&&(i.favPlayParams.tid=0,i.favPlayParams.pn=1),setTimeout((function(){i.favPlayParams.media_id=a,i.fetchCreatedFav({up_mid:i._bili_space_mid,is_space:0}),i.fetchFavDetails(i.favPlayParams).then((function(t){0===t.medias.length&&(i.isBatch=!1)}))}),1e3)}),(function(){}));break;case"copyVideo":this.copyVideo({src_media_id:a,tar_media_id:s,resources:n,mid:this._bili_space_mid}).then((function(){i.$toast("复制成功(ง •̀_•́)ง"),i.handleVideoModalCancel(),i.clearSelected(),setTimeout((function(){i.favPlayParams.media_id=a,"owner"===i._bili_space_state?i.fetchCreatedFav({up_mid:i._bili_space_mid,is_space:0}):i.fetchMyCreatedFav({up_mid:i._bili_space_mymid}),i.fetchFavDetails(i.favPlayParams).then((function(t){0===t.medias.length&&(i.isBatch=!1)}))}),1e3)}),(function(){}))}}},handleVideoModalCancel:function(){this.modal2.show=!1,this.modal2.name="",this.modal2.title="",this.selectedFavId=-1,this.selectedItem=[]},videoClasses:function(t,i,e){var a=[];return this.isFavDetailLoad?(this.selectedItem.indexOf("".concat(t,":").concat(e))>-1&&a.push("selected"),this._bili_space_watch_history.indexOf(t)>-1&&a.push("watched"),1===this.isType(i,0)&&a.push("disabled"),12===e&&a.push("audio"),a.join(" ")):""},updateTotalCount:function(t){this.setFavAlbumNum(t)},totalChanged:function(t){this.setFavBangumiNum(t)},favfold:function(t){"created"===t?this.isCreatedFold=!this.isCreatedFold:this.isCollectedFold=!this.isCollectedFold},psYReachEnd:function(){var t=this,i=this.collectedList,e=i.count;i.list.length>=e||this.fetchCollectedFav(P(P({},this.collected_params),{isReSet:!1})).then((function(){t.collected_params.pn+=1}))},isType:function(t,i){var e=+t.toString(2);return parseInt(("000000"+e).substr(-7).split("").reverse().join("").charAt(i))},handleCollect:function(t){var i=this;this.collFavDel({id:t,mid:this._bili_space_mid,mymid:this._bili_space_mymid}).then((function(){var e=i.defaultFav.id;i.$toast("成功取消收藏~"),t===i.curFid&&i.$router.push({name:"fav",query:{fid:e}})}))},closeEditWindow:function(){this.ifShowEdit=!1,this.editOptions.visitType=0,this.editOptions.editType=1,this.editOptions.mediaId="",this.editOptions.defaultStatus=1,this.editParams.title="",this.editParams.cover="",this.editParams.intro="",this.editParams.privateStatus=0},successEditWindow:function(){var t=this;1===this.editOptions.editType?this.createdList.count>=100?this.$toast("添加失败，收藏夹达到上限(ง •̀_•́)ง"):setTimeout((function(){t.closeEditWindow(),t.fetchNavNum({mid:t._bili_space_mid}),t.fetchCreatedFav({up_mid:t._bili_space_mid,is_space:0})}),800):setTimeout((function(){t.closeEditWindow(),t.collected_params.pn=1,t.fetchCreatedFav({up_mid:t._bili_space_mid,is_space:0}),t.fetchCollectedFav(P({},t.collected_params)).then((function(){t.collected_params.pn+=1})),t.curFid===t.curEditFid&&t.fetchFavDetails(t.favPlayParams)}),800)},handleCollectFav:function(){var t=this;setTimeout((function(){t.collected_params.pn=1,t.fetchCollectedFav(P({},t.collected_params)).then((function(){t.collected_params.pn+=1}))}),800)},modalEvent:function(){var t=this;document.querySelector(".edit-video-modal").addEventListener("click",(function(i){$(t.$refs.addGroup).is(i.target)||$(t.$refs.addGroup).find(i.target).length>0||(t.isShowAddInput=!1,t.folderName="")})),this.$nextTick((function(){document.querySelector(".target-favlist").scrollTop=0}))},handleAddFavInput:function(){this.isShowAddInput=!this.isShowAddInput},addFav:function(){var t=this;this.isAddFavLoad||(this.folderName?this.modalAddFav({title:this.folderName,isOwner:"owner"===this._bili_space_state}).then((function(i){t.handleAddFavInput(),t.selectedFavId=i.id,t.folderName=""})):this.$toast("请输入收藏夹名"))},handleDelPugv:function(t){var i=this;this.delPugv({season_id:t}).then((function(t){0==+t.code?(i.$toast("取消课程收藏成功"),i.UPDATEPUGVNUM_SUCCESS(i.favNavList.pugv-1),setTimeout((function(){var t=i.pugvPage,e=t.num,a=t.size,s=1==+e?1:i.pugvList.length>1?e:e-1;i.fetchPugvList({pn:s,ps:a,mid:i._bili_space_mid})}),800)):i.$toast("取消课程失败")}))},handleRec:function(t,i){rec(t,i)}}),computed:P(P({},Object(m.c)([].concat(s()(F),["_bili_space_settings","_bili_space_state","_bili_space_watch_history","_bili_login_info","_bili_space_mid","_bili_space_mymid","watchlaterAids","pugvList","pugvPage"]))),{},{fullClasses:function(){var t=this,i=[];return i.push("owner"===this._bili_space_state?"master":"guest"),this.isFarNavListLoad?"owner"!==this._bili_space_state&&(0!==this.createdList.list.length&&0!==this.createdList.list.filter((function(i){return 1!==t.isType(i.attr,0)})).length||i.push("full-fav-empty")):i.push("loading"),i.join(" ")},curFavMeta:function(){var t=this,i=[].concat(s()(this.createdList.list),s()(this.collectedList.list)),e=i.findIndex((function(i){return i.id===t.curFid}));return e>-1?i[e]:{atten_count:0,cur_count:0,ctime:1488781817,id:0,max_count:1e3,media_count:0,title:"收藏夹",state:2,videos:[]}},selectedNum:function(){return this.selectedItem.length},isSelectedAllVideo:function(){var t=this.favListDetails.medias.length;if(t>0)return t===this.selectedNum},curTargetFav:function(){var t=this.selectedFavId,i=this.createdList.list;if(this._bili_space_mymid>0&&this._bili_space_mymid!==this._bili_space_mid&&(i=this.myCreatedList.list),t>-1){var e=i.find((function(i){return i.id===t}));return{fid:e.id,fname:e.title,state:this.isType(e.attr,0)}}return{fid:-1,fname:"请选择",state:0,type:2}},defaultFav:function(){var t=this,i=this.createdList.list.find((function(i){return 1!==t.isType(i.attr,1)}));return i?{fid:i.fid,fname:i.name,state:i.state,count:i.media_count}:{fid:-1,fname:"",state:0,count:0}},searchVideoNum:function(){return this.favListDetails.info.media_count?this.favListDetails.info.media_count:0},typeNum:function(){var t=this.tlist,i=0;return t?(t.forEach((function(t,e){i+=t.count})),i):0},curOrder:function(){var t="";switch(this.favPlayParams.order){case"mtime":t="最近收藏";break;case"pubtime":t="最新投稿";break;case"view":t="最多播放";break;default:t="最近收藏"}return t},curType:function(){var t=this.favPlayParams.tid,i=this.tlist;if(0===t)return"全部分区";var e=i.find((function(i){return i.tid===t}));return e?e.name:""},favlist:function(){var t=this.favList.list,i=this.defaultFav.fid;if(this.isFavListLoad){if("owner"!==this._bili_space_state){for(var e,a=[],n=0;n<t.length;n++)(e=t[n]).state%2==0&&a.push(e);return 1===a.length&&0===a[0].state&&0===a[0].count?[]:a}var c=t.findIndex((function(t){return t.fid===i}));return c>-1?[].concat(s()(t.slice(0,c)),s()(t.slice(c+1))):t}return[]},pageCount:function(){return Math.ceil(this.favArticles.page.total/this.articleParams.ps)},favlistStyles:function(){var t=[];return this.isFavDetailLoad?0===this.favListDetails.medias.length&&(t.push("empty"),""!==this.keyword&&t.push("search-page")):t.push("loading"),t.join(" ")},topicStyles:function(){var t=[];return this.isTopicLoad?0===this.topics.total&&t.push("empty"):t.push("loading"),t.join(" ")},playlistStyles:function(){var t=[];return this.idPlaylistListLoad?0===this.playlists.page.total&&t.push("empty"):t.push("loading"),t.join(" ")},articleStyles:function(){var t=[];return this.isArticleListLoad?0===this.favArticles.page.total&&t.push("empty"):t.push("loading"),t.join(" ")},createdFold:function(){var t={};return t.display=this.isCreatedFold?"block":"none",t},collectedFold:function(){var t={};return t.display=this.isCollectedFold?"block":"none",t},playVideoPage:function(){return 0===this.favListDetails.medias.length?0:Math.ceil(this.favListDetails.info.media_count/20)},favCreatedList:function(){var t=this;if("owner"===this._bili_space_state)return this.createdList;var i={list:[]};return i.list=this.createdList.list.filter((function(i){return 1!==t.isType(i.attr,0)})),i},modalFavList:function(){return this._bili_space_mymid>0&&this._bili_space_mymid!==this._bili_space_mid?this.myCreatedList.list:this.modalAddFavList}}),filters:{favType:function(t){var i;switch(t){case 0:case 1:i="icon-fav-default";break;case 2:i="icon-fav-public";break;case 3:i="icon-fav-private"}return i}},watch:{keyword:function(t){this.isSearch="string"==typeof t&&t.length>0}},components:{VideoRip:p.a,FavoritesPage:d.a,CollectionPage:u.CollectionPage,FavInfo:g,Edit:f.a},directives:{focus:{inserted:function(t){t.focus()}}},asyncData:function(t,i){var e=t.dispatch,a=i.cookie,s=i.mid;return Promise.all([e("fetchInfo",{mid:s,cookie:a}),e("fetchSettings",{mid:s,cookie:a})])}},S=(e(661),Object(C.a)(L,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrapper",attrs:{id:"page-fav"}},[e("div",{staticClass:"col-full clearfix",class:t.fullClasses},[e("div",{staticClass:"fav-sidenav"},[t.favCreatedList.list.length>0?e("div",{staticClass:"nav-container fav-container"},[e("div",{staticClass:"favlist-title",on:{click:function(i){return t.favfold("created")}}},[e("p",[t._v(t._s("owner"===t._bili_space_state?"我的创建":"TA的创建"))]),e("i",{staticClass:"icon icon-arrow",class:t.isCreatedFold&&"arrow-transform"})]),e("div",{style:t.createdFold},[e("be-scrollbar",{staticClass:"fav-list-container",attrs:{source:t.favCreatedList.list,id:"fav-createdList-container"}},["owner"===t._bili_space_state?e("div",{directives:[{name:"rep",rawName:"v-rep",value:"space_collectionlist_creatcollectionbutton_click",expression:"'space_collectionlist_creatcollectionbutton_click'"}],staticClass:"nav-title nav-add",on:{click:t.handleAddFav}},[e("span",{staticClass:"icon icon-add",attrs:{title:"创建收藏夹"}}),e("span",{staticClass:"text"},[t._v("新建收藏夹")])]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.favCreatedList.list&&t.favCreatedList.list.length>0,expression:"favCreatedList.list && favCreatedList.list.length > 0"}],staticClass:"fav-item",class:{cur:t.favCreatedList.list[0].id===t.curFavMeta.id&&"fav"===t.mainPanel},attrs:{fid:t.favCreatedList.list[0].id}},[e("span",{staticClass:"iconfont",class:{"icon-bodan":0===t.isType(t.favCreatedList.list[0].attr,0),"icon-huaban":1===t.isType(t.favCreatedList.list[0].attr,0)}}),e("router-link",{staticClass:"text",attrs:{to:{name:"fav",query:{fid:t.favCreatedList.list[0].id}},title:t.favCreatedList.list[0].title}},[t._v(t._s(t.favCreatedList.list[0].title))]),e("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(t.favCreatedList.list[0].media_count)))]),"owner"===t._bili_space_state?e("be-dropdown",{attrs:{trigger:"hover"}},[e("be-dropdown-menu",[e("be-dropdown-item",{nativeOn:{click:function(i){return t.handleEditFav(t.favCreatedList.list[0])}}},[t._v("编辑信息")])],1)],1):t._e()],1),e("ul",{directives:[{name:"sortable",rawName:"v-sortable",value:{onUpdate:t.onUpdate,onStart:t.onStart,onEnd:t.onEnd,filter:".default-fav"},expression:"{\n                onUpdate: onUpdate,\n                onStart: onStart,\n                onEnd: onEnd,\n                filter: '.default-fav'\n              }"}],staticClass:"fav-list",class:{"is-dragging":t.isDragging}},t._l(t.favCreatedList.list,(function(i,a){return a?e("li",{key:i.id,staticClass:"fav-item",class:{cur:i.id===t.curFavMeta.id&&"fav"===t.mainPanel&&"create"===t.curFavType,"default-fav":i.id===t.defaultFav.fid},attrs:{fid:i.id}},[e("span",{staticClass:"icon icon-cursor",attrs:{title:"拖动排序"}}),e("span",{staticClass:"iconfont",class:{"icon-bodan":0===t.isType(i.attr,0),"icon-huaban":1===t.isType(i.attr,0)}}),e("router-link",{staticClass:"text",attrs:{to:{name:"fav",query:{fid:i.id,ftype:"create"}},title:i.title}},[t._v(t._s(i.title))]),e("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(i.media_count)))]),"owner"===t._bili_space_state?e("be-dropdown",{attrs:{trigger:"hover"}},[e("be-dropdown-menu",[e("be-dropdown-item",{attrs:{delimiter:""},nativeOn:{click:function(e){return t.handleEditFav(i)}}},[t._v("编辑信息")]),e("be-dropdown-item",{nativeOn:{click:function(e){return t.handleDelFav(i.id,i.title,i.media_count)}}},[t._v("删除")])],1)],1):t._e()],1):t._e()})),0)])],1)]):t._e(),t.collectedList.list.length>0?e("div",{staticClass:"nav-container fav-container"},[e("div",{staticClass:"favlist-title",on:{click:function(i){return t.favfold("collected")}}},[e("p",[t._v(t._s("owner"===t._bili_space_state?"我的收藏":"TA的收藏"))]),e("i",{staticClass:"icon icon-arrow",class:t.isCollectedFold&&"arrow-transform"})]),e("div",{style:t.collectedFold},[e("be-scrollbar",{staticClass:"fav-list-container",attrs:{source:t.collectedList.list,id:"fav-list-container"},on:{"ps-y-reach-end":t.psYReachEnd}},[e("ul",{staticClass:"fav-list"},t._l(t.collectedList.list,(function(i){return e("li",{key:i.id,staticClass:"fav-item",class:{cur:i.id===t.curFavMeta.id&&"fav"===t.mainPanel&&"collect"===t.curFavType,favInvalid:1===i.state||1===t.isType(i.attr,0)},attrs:{fid:i.fid}},[e("span",{staticClass:"iconfont",class:{"icon-bodan":0===t.isType(i.attr,0),"icon-huaban":1===t.isType(i.attr,0)}}),e("router-link",{staticClass:"text",class:{},attrs:{to:{name:"fav",query:{fid:i.id,ftype:"collect"}},title:i.title}},[t._v(t._s(i.title))]),e("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(i.media_count)))]),e("be-dropdown",{attrs:{trigger:"hover"}},[e("be-dropdown-menu",[e("be-dropdown-item",{nativeOn:{click:function(e){return t.handleCollect(i.id)}}},[t._v("取消收藏")])],1)],1)],1)})),0)])],1)]):t._e(),"owner"===t._bili_space_state?e("div",{staticClass:"nav-container playlist-container"},[e("div",{staticClass:"fav-list-container"},[e("ul",{staticClass:"fav-list"},[e("li",{staticClass:"fav-item",class:{cur:"topic"===t.mainPanel}},[e("span",{staticClass:"icon icon-fav-private"}),e("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"topic_fav_tab",expression:"'topic_fav_tab'"}],staticClass:"text",attrs:{to:{name:"fav",query:{fid:"topic"}}}},[t._v("话题收藏夹")]),e("span",{staticClass:"num"},[t._v(t._s(t.favNavList.topic))])],1),e("li",{staticClass:"fav-item",class:{cur:"articles"===t.mainPanel}},[e("span",{staticClass:"icon icon-fav-private"}),e("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"articles_fav_tab",expression:"'articles_fav_tab'"}],staticClass:"text",attrs:{to:{name:"fav",query:{fid:"articles"}}}},[t._v("专栏收藏夹")]),e("span",{staticClass:"num"},[t._v(t._s(t.favNavList.article))])],1),e("li",{staticClass:"fav-item",class:{cur:"albumfav"===t.mainPanel}},[e("span",{staticClass:"icon icon-fav-private"}),e("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"album_fav_tab",expression:"'album_fav_tab'"}],staticClass:"text",attrs:{to:{name:"fav",query:{fid:"albumfav"}}}},[t._v("相簿收藏夹")]),e("span",{staticClass:"num"},[t._v(t._s(t.favNavList.album))])],1),e("li",{staticClass:"fav-item",class:{cur:"pugvfav"===t.mainPanel}},[e("span",{staticClass:"icon icon-fav-private"}),e("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"favorite_pugv_click",expression:"'favorite_pugv_click'"}],staticClass:"text",attrs:{to:{name:"fav",query:{fid:"pugvfav"}}}},[t._v("课程收藏夹")]),e("span",{staticClass:"num"},[t._v(t._s(t.favNavList.pugv))])],1)])])]):t._e(),"owner"===t._bili_space_state?e("a",{staticClass:"watch-later",attrs:{href:"https://www.bilibili.com/watchlater/#/list",target:"_blank"}},[t._v("稍后再看")]):t._e()]),"fav"===t.mainPanel?e("div",{staticClass:"fav-main section",class:{"cur-fav-empty":0===t.curFavMeta.media_count}},[e("div",{staticClass:"favList-info"},[e("FavInfo",{on:{handleCollectFav:t.handleCollectFav}})],1),t.isBatch||t.isSearch?e("div",{staticClass:"fav-header fav-header-action"},[e("div",{staticClass:"fav-action-top"},[e("div",{staticClass:"back-to-info icon",on:{click:t.closeBatchPanel}},[t._v("返回")]),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.delInvalidVideoStateNum&&"owner"===t._bili_space_state&&!t.isSearch,expression:"delInvalidVideoStateNum === 0 && _bili_space_state === 'owner' && !isSearch"},{name:"rep",rawName:"v-rep",value:"favlist_clearall_click",expression:"'favlist_clearall_click'"}],staticClass:"back-to-info clear-invalid-video",on:{click:function(i){return t.handleDelInvalidVideo(t.curFavMeta.id)}}},[t._v("清除失效内容")]),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.delInvalidVideoStateNum,expression:"delInvalidVideoStateNum === 1"}],staticClass:"clearing-invalid-video && _bili_space_state === 'owner' && !isSearch"},[t._v("正在删除失效视频…请过段时间再来访问")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"filter-item search"},[e("div",{staticClass:"search-types"},[e("be-dropdown",{on:{select:t.chooseRange}},[e("div",{attrs:{slot:"trigger"},slot:"trigger"},[t._v(t._s(1===t.favPlayParams.type?"全部":"当前")),e("i",{staticClass:"icon icon-arrow"})]),e("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[e("be-dropdown-item",{attrs:{name:0,delimiter:""}},[t._v("当前收藏夹")]),e("be-dropdown-item",{attrs:{name:1}},[t._v("全部收藏夹")])],1)],1)],1),e("div",{staticClass:"search-input search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.favPlayParams.keyword,expression:"favPlayParams.keyword"}],staticClass:"search-fav-input space_input",attrs:{type:"text",placeholder:"输入关键词"},domProps:{value:t.favPlayParams.keyword},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.search(i)},input:function(i){i.target.composing||t.$set(t.favPlayParams,"keyword",i.target.value)}}}),e("span",{staticClass:"icon icon-search",attrs:{title:"点击搜索"},on:{click:t.search}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearch&&t.searchVideoNum>0||t.isBatch,expression:"isSearch && searchVideoNum > 0 || isBatch"}],staticClass:"fav-action-bottom"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isBatch,expression:"isBatch"}],staticClass:"fav-action-fixtop clearfix"},[e("ul",{staticClass:"clearfix",class:{"filter-disable":0===t.selectedNum}},[e("li",{on:{click:t.selectedAllVideo}},[e("i",{directives:[{name:"rep",rawName:"v-rep",value:"favlist_allselect",expression:"'favlist_allselect'"}],staticClass:"icon",class:t.selectedNum===t.favListDetails.medias.length?"icon-selece-all-active":"icon-selece-all"}),t._v("全选\n              ")]),"owner"===t._bili_space_state?e("li",{on:{click:t.handleDelVideo}},[e("i",{staticClass:"icon icon-unstar"}),t._v("取消收藏\n              ")]):t._e(),e("li",{on:{click:t.handleCopyVideo}},[e("i",{staticClass:"icon icon-copy"}),t._v("复制到\n              ")]),"owner"===t._bili_space_state?e("li",{on:{click:t.handleMoveVideo}},[e("i",{staticClass:"icon icon-move"}),t._v("移动到\n              ")]):t._e()]),e("div",{staticClass:"edit-detail"},[e("span",{staticClass:"select-counter"},[t._v("\n                已选择"),e("i",[t._v(t._s(t.selectedNum))]),t._v("个视频\n              ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.selectedNum>0,expression:"selectedNum > 0"}],staticClass:"select-cancel",on:{click:t.clearSelected}},[t._v("取消选择")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearch&&t.searchVideoNum>0,expression:"isSearch && searchVideoNum > 0"}],staticClass:"search-results-num"},[t._v("在\n            "),e("span",[t._v("“"+t._s(-1===t.curSearchFid?"全部收藏夹":t.curFavMeta.title)+"”")]),t._v(" 里找到\n            "),e("i",[t._v(t._s(t.searchVideoNum))]),t._v(" 个视频\n          ")])])]):e("div",{staticClass:"fav-header fav-header-info"},["collect"!==t.curFavType?e("div",{staticClass:"fav-info clearfix"},[e("div",{staticClass:"fav-filters clearfix"},[e("div",{directives:[{name:"rep",rawName:"v-rep",value:"space_collectionlist_switchstylebutton_click",expression:"'space_collectionlist_switchstylebutton_click'"}],staticClass:"filter-item do-batch",on:{click:t.openBatchPanel}},[e("span",{staticClass:"text"},[t._v("批量操作")])]),e("be-dropdown",{staticClass:"filter-item",on:{select:t.chooseType,dropClick:t.handleClick}},[e("span",{attrs:{slot:"trigger"},slot:"trigger"},[t._v(t._s(t.curType)),e("i",{staticClass:"icon icon-arrow"})]),e("be-dropdown-menu",{staticClass:"filter-type",attrs:{slot:"menu"},slot:"menu"},[e("be-dropdown-item",{attrs:{name:0}},[e("span",[t._v("全部分区")]),e("i",[t._v(t._s(t.typeNum))])]),t._l(t.tlist,(function(i){return e("be-dropdown-item",{key:i.tid,attrs:{name:i.tid}},[e("span",[t._v(t._s(i.name)+"区")]),e("i",[t._v(t._s(i.count))])])}))],2)],1),e("be-dropdown",{staticClass:"filter-item",on:{select:t.videoSort}},[e("span",{attrs:{slot:"trigger"},slot:"trigger"},[t._v("\n                "+t._s(t.curOrder)),e("i",{staticClass:"icon icon-arrow"})]),e("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[e("be-dropdown-item",{attrs:{name:"mtime"}},[t._v("最近收藏")]),e("be-dropdown-item",{attrs:{name:"view"}},[t._v("最多播放")]),e("be-dropdown-item",{attrs:{name:"pubtime"}},[t._v("最新投稿")])],1)],1),e("div",{staticClass:"filter-item search"},[e("be-dropdown",{staticClass:"search-types",on:{select:t.chooseRange}},[e("div",{attrs:{slot:"trigger"},slot:"trigger"},[t._v(t._s(1===t.favPlayParams.type?"全部":"当前")),e("i",{staticClass:"icon icon-arrow"})]),e("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[e("be-dropdown-item",{attrs:{name:0,delimiter:""}},[t._v("当前收藏夹")]),e("be-dropdown-item",{attrs:{name:1}},[t._v("全部收藏夹")])],1)],1),e("div",{staticClass:"search-input search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.favPlayParams.keyword,expression:"favPlayParams.keyword"}],staticClass:"search-fav-input space_input",attrs:{type:"text",placeholder:"输入关键词"},domProps:{value:t.favPlayParams.keyword},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.search(i)},input:function(i){i.target.composing||t.$set(t.favPlayParams,"keyword",i.target.value)}}}),e("span",{staticClass:"icon icon-search",attrs:{title:"点击搜索"},on:{click:t.search}})])],1)],1)]):t._e()]),e("div",{staticClass:"fav-content section",class:t.favlistStyles},[e("div",{staticClass:"search-empty-hint"},[t.keyword?[t.specialError.length>0?e("p",[t._v(t._s(t.specialError))]):[-1===t.curSearchFid?[e("p",[t._v("所有收藏夹都没有相关视频_(:зゝ∠)_")]),e("p",[t._v("换个关键词试试吧")])]:[e("p",[t._v("没有在 "+t._s(t.curFavMeta.title)+" 里找到你要的视频")]),e("be-button-group",[e("be-button",{attrs:{type:"primary"},nativeOn:{click:function(i){return t.searchAll(i)}}},[t._v("\n                    搜索全部收藏夹\n                  ")])],1)]]]:e("p",[t._v("该收藏夹还没有视频哦~")])],2),e("ul",{staticClass:"fav-video-list clearfix content",class:{"is-batch":t.isBatch,"is-search":t.isSearch}},t._l(t.favListDetails.medias,(function(i){return e("li",{key:i.id,staticClass:"small-item",class:t.videoClasses(i.id,i.attr,i.type),attrs:{"data-aid":t.$transformId(i.id,i.bv_id)}},[e("video-rip",{directives:[{name:"rep",rawName:"v-rep",value:"space_fav_video_click_"+t.curFavType,expression:"'space_fav_video_click_' + curFavType"}],attrs:{state:t.isType(i.attr,0),favState:t.isType(i.attr,0),favType:i.type,favDelete:t.isType(i.attr,3),link:t._f("favVideoValidLink")(i.id,i.bv_id,t.isType(i.attr,0),i.type)},on:{click:function(e){return t.watchVideoFilter(i)}}},[e("template",{slot:"content"},[12===i.type?e("div",{staticClass:"blurBg",style:{backgroundImage:"url("+i.cover+")"}}):t._e(),e("img",{attrs:{src:t._f("coversize")(i.cover,"380x240"),alt:i.title}}),e("span",{staticClass:"length"},[t._v(t._s(t._f("videoDuration")(i.duration)))]),e("span",{directives:[{name:"watchlater",rawName:"v-watchlater.tip.video",value:{aid:i.id},expression:"{'aid': video.id}",modifiers:{tip:!0,video:!0}}],staticClass:"i-watchlater",class:{"has-select":t.watchlaterAids.indexOf(i.id)>-1}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isBatch,expression:"!isBatch"}],staticClass:"meta-mask"},[e("div",{staticClass:"meta-info"},[e("p",{staticClass:"view"},[t._v("播放："+t._s(t._f("toWan")(i.cnt_info.play)))]),e("p",{staticClass:"favorite"},[t._v("收藏："+t._s(t._f("toWan")(i.cnt_info.collect)))]),e("p",{staticClass:"author"},[t._v("UP主："+t._s(i.upper.name))]),e("p",{staticClass:"pubdate"},[t._v("投稿："+t._s(t._f("format_pubdate")(i.pubtime)))])])])])],2),e("a",{directives:[{name:"hlkeyword",rawName:"v-hlkeyword",value:0===t.isType(i.attr,0)?i.title:"已失效"+(2===i.type?"视频":"音频"),expression:"isType(video.attr, 0) === 0 ? video.title : `已失效${video.type === 2 ? '视频' : '音频'}`"},{name:"rep",rawName:"v-rep",value:"space_fav_video_click_"+t.curFavType,expression:"'space_fav_video_click_' + curFavType"}],staticClass:"title",attrs:{target:0===t.isType(i.attr,0)?"_blank":"",href:t._f("favVideoValidLink")(i.id,i.bv_id,t.isType(i.attr,0),i.type),title:0===t.isType(i.attr,0)?i.title:"已失效"+(2===i.type?"视频":"音频")},on:{click:function(e){return t.watchVideoFilter(i)}}}),e("div",{staticClass:"meta pubdate"},[t._v("\n              收藏于： "+t._s(t._f("format_pubdate")(i.fav_time))+"\n            ")]),"create"===t.curFavType&&0===t.favPlayParams.type?e("be-dropdown",{staticClass:"video-edit"},[e("be-dropdown-menu",["owner"===t._bili_space_state?e("be-dropdown-item",{attrs:{delimiter:""},nativeOn:{click:function(e){return t.handleDelVideo(i.id,i.type)}}},[t._v("\n                  取消收藏")]):t._e(),"owner"===t._bili_space_state?e("be-dropdown-item",{nativeOn:{click:function(e){return t.handleMoveVideo(i.id,i.type)}}},[t._v("\n                  移动到")]):t._e(),e("be-dropdown-item",{nativeOn:{click:function(e){return t.handleCopyVideo(i.id,i.type)}}},[t._v("\n                  复制到")])],1)],1):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isBatch,expression:"isBatch"}],staticClass:"video-check-container",on:{click:function(e){return t.select(i.id,i.type)}}},[e("div",{staticClass:"video-check icon"})])],1)})),0),e("be-pagination",{attrs:{total:t.playVideoPage,current:t.favPlayParams.pn},on:{"turn-page":t.turnPage}})],1)]):t._e(),"topic"===t.mainPanel?e("div",{staticClass:"fav-main section",class:{"cur-fav-empty":0===t.curFavMeta.count}},[e("div",{staticClass:"fav-header fav-header-info"},[t._m(0),e("div",{staticClass:"fav-info clearfix"},[e("div",{staticClass:"fav-meta"},[e("span",{staticClass:"num"},[t._v(t._s(t.topics.total))]),e("span",{staticClass:"num"},[t._v("个话题")])])])]),e("div",{staticClass:"fav-content section",class:t.topicStyles},[t._m(1),e("ul",{staticClass:"fav-video-list clearfix content topic-list"},t._l(t.topics.list,(function(i){return e("li",{key:i.id,staticClass:"large-item"},[e("a",{staticClass:"cover",attrs:{href:t._f("tohttps")(i.pc_url),target:"_blank"}},[e("img",{attrs:{src:t._f("coversize")(i.pc_cover,"180x240"),alt:i.name}})]),e("div",{staticClass:"detail"},[e("a",{staticClass:"title",attrs:{href:t._f("tohttps")(i.pc_url),target:"_blank",title:i.name}},[t._v(t._s(i.name))]),e("p",{staticClass:"desc",attrs:{title:i.desc}},[t._v(t._s(i.desc))]),e("div",{staticClass:"meta pubdate"},[t._v(t._s(t._f("format_pubdate")(i.fav_at,"收藏")))]),e("be-dropdown",{staticClass:"video-edit",on:{select:t.handleDelTopic}},[e("be-dropdown-menu",[e("be-dropdown-item",{attrs:{name:i.id}},[t._v("取消收藏")])],1)],1)],1)])})),0),e("be-pagination",{attrs:{total:Math.ceil(t.topics.total/t.topics.pagesize),current:t.topics.page},on:{"turn-page":t.turnPage}})],1)]):t._e(),"articles"===t.mainPanel?e("div",{staticClass:"fav-main section",class:{"cur-fav-empty":0===t.curFavMeta.count}},[e("div",{staticClass:"fav-header fav-header-info"},[t._m(2),e("div",{staticClass:"fav-info clearfix"},[e("div",{staticClass:"fav-meta"},[e("span",{staticClass:"num"},[t._v(t._s(t.favArticles.page.total))]),e("span",{staticClass:"num"},[t._v("篇专栏")])])])]),e("div",{staticClass:"fav-content section",class:t.articleStyles},[t._m(3),e("ul",{staticClass:"fav-video-list clearfix content topic-list"},t._l(t.favArticles.favorites,(function(i){return e("li",{key:i.id,staticClass:"article-item clearfix",class:{"is-disabled":!i.valid}},[i.valid?e("div",{staticClass:"article-content"},[e("h2",{staticClass:"article-title"},[e("a",{attrs:{href:"//www.bilibili.com/read/cv"+i.id,target:"_blank",title:i.title}},[t._v("\n                  "+t._s(i.title)+"\n                ")])]),e("p",{staticClass:"article-con",attrs:{title:i.summary}},[t._v("\n                "+t._s(i.summary)+"\n              ")]),e("div",{staticClass:"article-meta clearfix"},[e("span",{staticClass:"meta-item"},[t._v("收藏于 "+t._s(t._f("format_pubdate")(i.favorite_time)))])])]):e("div",{staticClass:"article-content"},[e("h2",{staticClass:"article-title"}),e("p",{staticClass:"article-con"}),e("div",{staticClass:"article-meta clearfix"},[e("span",{staticClass:"meta-item"},[t._v("收藏于 "+t._s(t._f("format_pubdate")(i.favorite_time)))])])]),e("div",{staticClass:"article-img"},[i.valid?e("a",{staticClass:"article-bgimg",attrs:{href:t.imgHref(i.id,i.valid),target:"_blank'",title:i.title}},[e("div",{staticClass:"article-cover",style:{backgroundImage:"url("+t.trimHttp(i.image_urls[0])+")"},attrs:{title:i.title}})]):e("div",{staticClass:"article-bgimg",attrs:{title:"cv"+i.id}},[e("span",{staticClass:"article-disabled-text"},[t._v("已失效")])])]),e("be-dropdown",{staticClass:"video-edit",on:{select:t.handleDelArticle}},[e("be-dropdown-menu",[e("be-dropdown-item",{attrs:{name:i.id}},[t._v("取消收藏")])],1)],1)],1)})),0),e("be-pagination",{attrs:{total:t.pageCount,current:t.articleParams.pn},on:{"turn-page":t.turnPage}})],1)]):t._e(),"albumfav"===t.mainPanel?e("div",{staticClass:"fav-main section",class:{"cur-fav-empty":0===t.curFavMeta.count}},[e("favorites-page",{on:{updateTotalCount:t.updateTotalCount}})],1):t._e(),"pugvfav"===t.mainPanel?e("div",{staticClass:"fav-main section"},[e("div",{staticClass:"fav-header fav-header-info"},[t._m(4),e("div",{staticClass:"fav-info clearfix"},[e("div",{staticClass:"fav-meta"},[e("span",{staticClass:"num"},[t._v(t._s(t.pugvList.length)+"个课程")])])])]),e("div",{staticClass:"fav-content section",class:{empty:0===t.pugvList.length}},[t._m(5),e("ul",{staticClass:"fav-pugv-list clearfix content"},t._l(t.pugvList,(function(i){return e("li",{key:i.season_id,staticClass:"pugv-item clearfix"},[e("a",{staticClass:"item-cover",attrs:{href:"//www.bilibili.com/cheese/play/ss"+i.season_id,target:"_blank"},on:{click:function(e){return t.handleRec("favorite_pugvseason_click",{seasonid:i.season_id})}}},[e("img",{attrs:{src:t._f("coversize")(i.cover,"141x88"),alt:i.title}}),e("div",{staticClass:"icon icon-favlist-info"})]),e("a",{staticClass:"item-infos",attrs:{href:"//www.bilibili.com/cheese/play/ss"+i.season_id,target:"_blank"},on:{click:function(e){return t.handleRec("favorite_pugvseason_click",{seasonid:i.season_id})}}},[e("p",{staticClass:"main-title"},[t._v(t._s(i.title))]),i.status?e("p",{staticClass:"duration"},[t._v(t._s(i.status)+" · 共"+t._s(i.ep_count)+"期")]):e("p",{staticClass:"duration"},[t._v("共"+t._s(i.ep_count)+"期")]),e("p",{staticClass:"play-nums"},[t._v("播放数："+t._s(t._f("viewCountShorten")(i.play)))]),e("p",{staticClass:"collect-date"},[t._v("收藏于："+t._s(t._f("format_pubdate")(i.ctime)))])]),"owner"===t._bili_space_state?e("be-dropdown",{staticClass:"pugv-edit",on:{select:t.handleDelPugv}},[e("be-dropdown-menu",[e("be-dropdown-item",{attrs:{name:i.season_id}},[t._v("取消收藏")])],1)],1):t._e()],1)})),0),e("be-pagination",{attrs:{total:Math.ceil(t.pugvPage.total/t.pugvPage.size),current:t.pugvPage.num},on:{"turn-page":t.turnPage}})],1)]):t._e()]),e("modal",{staticClass:"edit-video-modal",attrs:{cancelButton:{show:!1},confirmButton:{type:-1===t.curTargetFav.fid?"ghost":"primary",show:!0,text:"确定"},show:t.modal2.show,name:t.modal2.name},on:{confirm:t.handleVideoModalConfirm,cancel:t.handleVideoModalCancel}},[e("template",{slot:"title"},[e("p",{staticClass:"edit-video-title"},[t._v("\n        你正在"+t._s("copyVideo"===t.modal2.name?"复制":"移动")+t._s(t.selectedNum)+"个视频到\n      ")]),e("p",{staticClass:"edit-video-subtitle",class:{unselected:-1===t.curTargetFav.fid}},[t._v("\n        "+t._s(t.curTargetFav.fname)+"\n      ")])]),e("div",{staticClass:"favlist-body",attrs:{slot:"body"},slot:"body"},[e("be-scrollbar",{staticClass:"target-favlist",attrs:{slot:"body",source:t.modalFavList},slot:"body"},[e("ul",{staticClass:"target-favlist-container"},[t._l(t.modalFavList,(function(i){return e("li",{key:i.id,staticClass:"target-favitem",class:{disabled:i.id===t.curFid,full:t.selectedNum+i.media_count>(0===t.isType(i.attr,1)?5e4:1e3)},on:{click:function(e){return t.selectFav(i)}}},[e("div",{staticClass:"target-fav-title"},[e("div",{staticClass:"fav-select",class:{selected:i.id===t.curTargetFav.fid}}),e("div",{staticClass:"fav-meta"},[e("p",{staticClass:"fav-name"},[t._v(t._s(i.title))]),e("p",{staticClass:"fav-state"},[t._v(t._s(1===t.isType(i.attr,0)?"私有":"公开"))])])]),e("span",{staticClass:"target-fav-count"},[t._v(t._s(i.media_count))])])})),t.isShowAddInput?e("div",{staticClass:"collection-mask"}):t._e()],2),e("div",{ref:"addGroup",staticClass:"addfav-container"},[t.isShowAddInput?t._e():e("div",{staticClass:"fake-fav-input",on:{click:function(i){return i.stopPropagation(),t.handleAddFavInput()}}},[e("i",{staticClass:"icon-fav-add"}),e("p",[t._v("新建收藏夹")])]),t.isShowAddInput?e("div",{staticClass:"fav-container"},[e("div",{staticClass:"fav-add-tip"},[t._v("\n              点击弹窗内其他区域或ESC键，取消新建收藏夹\n              "),e("i",{staticClass:"blue-arrow"})]),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.folderName,expression:"folderName"}],staticClass:"add-fav-input space_input",attrs:{type:"text",placeholder:"最多输入20个字",maxlength:"20"},domProps:{value:t.folderName},on:{keydown:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"esc",27,i.key,["Esc","Escape"]))return null;t.isShowAddInput=!1,t.folderName=""},input:function(i){i.target.composing||(t.folderName=i.target.value)}}}),e("div",{staticClass:"fav-add-btn",on:{click:function(i){return i.stopPropagation(),t.addFav(i)}}},[t._v("新建")])]):t._e()])])],1)],2),e("Edit",{attrs:{editType:t.editOptions.editType,mediaId:t.editOptions.mediaId,defaultStatus:t.editOptions.defaultStatus,visitType:t.editOptions.visitType,ifShowEdit:t.ifShowEdit},on:{close:t.closeEditWindow,success:t.successEditWindow}})],1)}),[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"breadcrumb"},[i("p",{staticClass:"item cur"},[this._v("话题收藏夹")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"search-empty-hint"},[i("p",[this._v("你暂时还没有收藏话题哦~")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"breadcrumb"},[i("p",{staticClass:"item cur"},[this._v("专栏收藏夹")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"search-empty-hint"},[i("p",[this._v("你暂时还没有收藏专栏哦~")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"breadcrumb"},[i("p",{staticClass:"item cur"},[this._v("课程收藏夹")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"search-empty-hint"},[i("p",[this._v("你暂时还没有收藏课程哦～")])])}],!1,null,null,null));i.default=S.exports}}]);
//# sourceMappingURL=10.space.6b205c198ff52b3196d0e868f6c77459b5b9f786.js.map