(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{466:function(t,e,i){},479:function(t,e,i){"use strict";var s=i(466);i.n(s).a},484:function(t,e,i){"use strict";var s=i(2),a=i.n(s),r=i(13);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}var o={name:"contribution-sidenav",computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(r.c)(["_bili_space_nav"]))},c=(i(479),i(4)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contribution-sidenav"},[i("div",{staticClass:"nav-container playlist-container"},[i("div",{staticClass:"contribution-list-container"},[i("ul",{staticClass:"contribution-list"},[i("li",{staticClass:"contribution-item",class:{cur:"video"===t.$route.name}},[i("router-link",{staticClass:"text",attrs:{to:{name:"video"}}},[t._v("视频")]),i("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(t._bili_space_nav.video)))])],1),i("li",{staticClass:"contribution-item",class:{cur:"audio"===t.$route.name}},[i("router-link",{staticClass:"text",attrs:{to:{name:"audio"}}},[t._v("音频")]),i("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(t._bili_space_nav.audio)))])],1),i("li",{staticClass:"contribution-item",class:{cur:"article"===t.$route.name}},[i("router-link",{staticClass:"text",attrs:{to:{name:"article"}}},[t._v("专栏")]),i("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(t._bili_space_nav.article)))])],1),i("li",{staticClass:"contribution-item",class:{cur:"album"===t.$route.name}},[i("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_contribution_nav_album",expression:"'space_contribution_nav_album'"}],staticClass:"text",attrs:{to:{name:"album"}}},[t._v("相簿")]),i("span",{staticClass:"num"},[t._v(t._s(t._f("toWan")(t._bili_space_nav.album)))])],1)])])])])}),[],!1,null,null,null);e.a=l.exports},519:function(t,e,i){},596:function(t,e,i){"use strict";var s=i(519);i.n(s).a},685:function(t,e,i){"use strict";i.r(e);var s=i(2),a=i.n(s),r=i(13),n=i(484);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={name:"videos",data:function(){return{listStyle:"cube",tabs:[{name:"pubdate",alias:"最新发布"},{name:"click",alias:"最多播放"},{name:"stow",alias:"最多收藏"}],curOrder:"pubdate",videoParams:{mid:0,ps:30,tid:0,pn:1,keyword:"",order:"pubdate"}}},beforeRouteUpdate:function(t,e,i){this.load(t.query),i()},mounted:function(){this.videoParams.mid=this._bili_space_mid,this.load(this.$route.query)},methods:c(c({load:function(t){var e=t.page,i=(t.tid,t.order,t.keyword);window._search_keyword=this.videoParams.keyword=i||"";var s=localStorage.getItem("user-video-list-style");this.listStyle=null===s?"cube":s,this.videoParams.pn=+e||1,this.fetchZhanshiVideos(this.videoParams)},reload:function(t){this.$router.push({name:"video",query:t})}},Object(r.b)(["fetchZhanshiVideos","watchVideo"])),{},{activeFilter:function(t){this.videoParams.tid=t,this.videoParams.pn=1;var e=this.videoParams,i=e.tid,s=e.keyword,a=e.order,r=e.page;this.reload({tid:i,page:r,keyword:s,order:a})},changeStyle:function(t){this.listStyle=t,localStorage.setItem("user-video-list-style",t),rec("space_viedoPage_switchStyleButton_click",{style:t})},watchVideoVP:function(t){var e=this.videoParams.order,i=this.listStyle,s="";switch(e){case"pubdate":s="newest";break;case"click":s="mostplay";break;case"stow":s="mostfav"}rec(this.videoParams.keyword.length>0?"space_viedoPage_searchResult_click":"space_viedoPage_viedo_click",{sorttype:s,style:i}),this.watchVideo(t)},turnPage:function(t){var e=this.videoParams,i=e.tid,s=e.keyword,a=e.order;this.reload({tid:i,page:t,keyword:s,order:a})},videoClasses:function(t){var e=[];return this._bili_space_watch_history.indexOf(t.aid)>-1&&e.push("watched"),Date.now()-1e3*t.created<864e5&&e.push("new"),e.join(" ")},isNewVideo:function(t){return Date.now()-1e3*t.created<864e5}}),computed:c(c({},Object(r.c)(["_bili_space_state","_bili_space_mid","submitVideos","isSubmitVideosLoad","_bili_space_watch_history","watchlaterAids"])),{},{styles:function(){var t=[];return this.isSubmitVideosLoad||t.push("loading"),this.isSubmitVideosLoad&&0===this.submitVideos.count&&t.push("empty"),t.join(" ")},searchEmptyHint:function(){return this.isSearchPage&&0===this.submitVideos.count},isSearchPage:function(){return""!==this.videoParams.keyword},totalCount:function(){var t=0,e=this.submitVideos.tlist;for(var i in e)t+=e[i].count;return t}}),watch:{totalCount:function(t){t>0&&rec("space_video_videoList_video_show")},curOrder:function(t){"click"===t&&rec("space_viedoPage_mostButton_click"),this.videoParams.order=t,this.fetchZhanshiVideos(this.videoParams)}},components:{contributionSidenav:n.a},asyncData:function(t,e){var i=t.dispatch,s=e.cookie,a=e.mid;return Promise.all([i("fetchInfo",{mid:a,cookie:s}),i("fetchSettings",{mid:a,cookie:s})])}},d=(i(596),i(4)),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"wrapper",attrs:{id:"page-video"}},[i("div",{staticClass:"col-full clearfix"},[i("contribution-sidenav"),i("div",{staticClass:"main-content"},[i("div",{staticClass:"row page-head clearfix"},[i("div",{staticClass:"breadcrumb"},[i("p",{staticClass:"item cur"},[t._v(t._s("owner"===t._bili_space_state?"我":"TA")+"的视频")])]),i("div",{staticClass:"v-filter-line clearfix"},[i("be-tab",{attrs:{tabs:t.tabs},model:{value:t.curOrder,callback:function(e){t.curOrder=e},expression:"curOrder"}}),i("div",{staticClass:"item style"},t._l(["cube","list"],(function(e){return i("span",{staticClass:"icon",class:[e,{active:t.listStyle===e}],attrs:{"data-style":e},on:{click:function(i){return t.changeStyle(e)}}})})),0)],1)]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.isSearchPage&&t.submitVideos.count>0,expression:"isSearchPage && submitVideos.count > 0"}],staticClass:"v-search-result"},[t._v("共找到关于“\n          "),i("span",{staticClass:"v-search-kw"},[t._v(t._s(t.videoParams.keyword))]),t._v("”的\n          "),i("em",{staticClass:"v-search-count"},[t._v(t._s(t.submitVideos.count))]),t._v(" 个视频")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.submitVideos.count>0,expression:"submitVideos.count > 0"}],attrs:{id:"submit-video-type-filter"}},[i("a",{class:{active:0===t.videoParams.tid},on:{click:function(e){return t.activeFilter(0)}}},[t._v("\n            全部"),i("span",{staticClass:"count"},[t._v(t._s(t.totalCount))])]),t._l(t.submitVideos.tlist,(function(e){return i("a",{class:{active:t.videoParams.tid===e.tid},on:{click:function(i){return t.activeFilter(e.tid)}}},[t._v("\n            "+t._s(e.name)),i("span",{staticClass:"count"},[t._v(t._s(e.count?e.count:0))])])}))],2),t.searchEmptyHint?i("div",{staticClass:"search-empty-hint"},[i("div",[t._v("没有找到“\n            "),i("span",{staticClass:"v-search-kw"},[t._v(t._s(t.videoParams.keyword))]),t._v("”的视频哦\n          ")]),i("be-button-group",["owner"===t._bili_space_state?[i("be-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.$router.push({name:"video"})}}},[t._v("返回视频页")]),i("be-button",{nativeOn:{click:function(e){return t.$router.push({name:"index"})}}},[t._v("返回空间主页")])]:i("be-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.$router.push({name:"video"})}}},[t._v("去看看TA的视频")])],2)],1):i("div",{staticClass:"section video",class:t.styles,attrs:{id:"submit-video"}},[i("div",{class:t.listStyle,attrs:{id:"video-list-style"}},[i("div",{staticClass:"content",attrs:{id:"submit-video-list"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:"list"===t.listStyle,expression:"listStyle === 'list'"}],staticClass:"list-list"},t._l(t.submitVideos.vlist,(function(e){return i("li",{key:e.aid,staticClass:"list-item clearfix fakeDanmu-item",class:t.videoClasses(e),attrs:{"data-aid":t.$transformId(e.aid,e.bvid)}},[i("a",{staticClass:"cover",attrs:{href:t.$transformLink(e.aid,e.bvid),target:"_blank"},on:{click:function(i){return t.watchVideoVP(e.aid)}}},[i("img",{attrs:{src:t._f("coversize")(e.pic,"380x240"),alt:t._f("decodeTitle")(e.title)}}),i("span",{directives:[{name:"watchlater",rawName:"v-watchlater.tip.video",value:{aid:e.aid},expression:"{'aid': video.aid}",modifiers:{tip:!0,video:!0}}],staticClass:"i-watchlater",class:{"has-select":t.watchlaterAids.indexOf(e.aid)>-1}}),i("be-tags",{attrs:{isPay:!!e.is_pay,isCoop:!!e.is_union_video,isInter:!!e.is_steins_gate,isNew:t.isNewVideo(e)}})],1),i("div",{staticClass:"c"},[i("div",{staticClass:"title-row"},[i("a",{directives:[{name:"hlkeyword",rawName:"v-hlkeyword",value:e.title,expression:"video.title"}],staticClass:"title",attrs:{href:t.$transformLink(e.aid,e.bvid),target:"_blank",title:t._f("decodeTitle")(e.title)},on:{click:function(i){return t.watchVideoVP(e.aid)}}})]),i("div",{staticClass:"desc",attrs:{title:e.description}},[t._v("\n                      "+t._s(t._f("decodeHTML")(e.description))+"\n                    ")]),i("div",{staticClass:"meta clearfix"},[i("span",{staticClass:"play",attrs:{title:"播放数"}},[i("em",{staticClass:"icon"}),t._v(t._s(t._f("viewCountShorten")(e.play))+"\n                      ")]),i("span",{staticClass:"comments",attrs:{title:"弹幕数"}},[i("em",{staticClass:"icon"}),t._v(t._s(t._f("toWan")(e.video_review))+"\n                      ")]),i("span",{staticClass:"time",attrs:{title:"创建时间"}},[i("em",{staticClass:"icon"}),t._v(t._s(t._f("format_pubdate")(e.created))+"\n                      ")])])])])})),0),i("ul",{directives:[{name:"show",rawName:"v-show",value:"cube"===t.listStyle,expression:"listStyle === 'cube'"}],staticClass:"clearfix cube-list"},t._l(t.submitVideos.vlist,(function(e){return i("li",{key:e.aid,staticClass:"small-item fakeDanmu-item",class:t.videoClasses(e),attrs:{"data-aid":t.$transformId(e.aid,e.bvid)}},[i("a",{staticClass:"cover",attrs:{href:t.$transformLink(e.aid,e.bvid),target:"_blank"},on:{click:function(i){return t.watchVideoVP(e.aid)}}},[i("img",{attrs:{src:t._f("coversize")(e.pic,"380x240"),alt:t._f("decodeTitle")(e.title)}}),i("span",{staticClass:"length"},[t._v(t._s(e.length))]),i("span",{directives:[{name:"watchlater",rawName:"v-watchlater.tip.video",value:{aid:e.aid},expression:"{'aid': video.aid}",modifiers:{tip:!0,video:!0}}],staticClass:"i-watchlater",class:{"has-select":t.watchlaterAids.indexOf(e.aid)>-1}}),i("be-tags",{attrs:{isPay:!!e.is_pay,isCoop:!!e.is_union_video,isInter:!!e.is_steins_gate,isNew:t.isNewVideo(e)}})],1),i("a",{directives:[{name:"hlkeyword",rawName:"v-hlkeyword",value:e.title,expression:"video.title"}],staticClass:"title",attrs:{href:t.$transformLink(e.aid,e.bvid),target:"_blank",title:t._f("decodeTitle")(e.title)},on:{click:function(i){return t.watchVideoVP(e.aid)}}}),i("div",{staticClass:"meta"},[i("span",{staticClass:"play"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("viewCountShorten")(e.play))+"\n                    ")]),i("span",{staticClass:"time"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("format_pubdate")(e.created))+"\n                    ")])])])})),0),i("be-pagination",{attrs:{total:Math.ceil(t.submitVideos.count/t.videoParams.ps),current:t.videoParams.pn},on:{"turn-page":t.turnPage}})],1)])])])],1)])])}),[],!1,null,null,null);e.default=u.exports}}]);
//# sourceMappingURL=14.space.6b205c198ff52b3196d0e868f6c77459b5b9f786.js.map