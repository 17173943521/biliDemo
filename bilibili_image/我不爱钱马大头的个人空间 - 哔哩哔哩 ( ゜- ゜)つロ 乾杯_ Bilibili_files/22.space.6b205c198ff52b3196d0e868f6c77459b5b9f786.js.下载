(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{548:function(e,n,t){},669:function(e,n,t){"use strict";var a=t(548);t.n(a).a},690:function(e,n,t){"use strict";t.r(n);var a=t(2),i=t.n(a),s=t(13);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var r={name:"channelList",data:function(){return{isAddingChannel:!1,newChannelName:"",newChannelIntro:""}},mounted:function(){this.getChannels({mid:this._bili_space_mid,guest:"owner"===this._bili_space_state})},computed:l(l({},Object(s.c)(["_bili_space_mid","channels","_bili_space_info","_bili_space_state","isThereVideos","isChannelsLoad"])),{},{count:function(){return this.channels.count},list:function(){return this.channels.list},styles:function(){var e=[];return this.isChannelsLoad?(0===this.count||"owner"!==this._bili_space_state&&!this.isThereVideos)&&e.push("empty"):e.push("loading"),e.join(" ")},availableChannels:function(){if("owner"===this._bili_space_state)return this.list;var e=[];return this.list.forEach((function(n){n.count>0&&e.push(n)})),e}}),methods:l(l({},Object(s.b)(["getChannels","addChannel"])),{},{createChannel:function(){10===this.count?this.$toast("目前最多只能添加10个频道哦！"):(this.newChannelName="",this.newChannelIntro="",this.isAddingChannel=!0)},confirm:function(){var e=this;0!==this.newChannelName.trim().length?(this.isAddingChannel=!1,this.addChannel({name:this.newChannelName.trim(),intro:this.newChannelIntro.trim()}).then((function(n){e.$router.push({name:"channelDetail",query:{cid:n}})}))):this.$warn("请填写频道名字")},cancel:function(){this.isAddingChannel=!1}})},o=(t(669),t(4)),h=Object(o.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"wrapper",attrs:{id:"page-channel-index"}},[t("div",{staticClass:"col-full"},[t("div",{staticClass:"channel-index section",class:e.styles},[t("div",{staticClass:"breadcrumb"},[t("p",{staticClass:"item cur"},[e._v("\n          "+e._s("owner"===e._bili_space_state?"我":"TA")+"的频道\n        ")])]),"owner"===e._bili_space_state&&0===e.count&&e.isChannelsLoad?t("div",{staticClass:"channel-option no-channel"},[t("div",{staticClass:"no-channel-container"},[e._m(0),t("p",[e._v("方便别人查看，快去创建频道吧~")]),e._m(1),t("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_video_channelList_empty_newChannel_click",expression:"'space_video_channelList_empty_newChannel_click'"}],staticClass:"create-channel option",on:{click:e.createChannel}},[e._v("新建频道")])])]):e._e(),t("div",{staticClass:"content"},[t("div",{staticClass:"channel-list clearfix"},["owner"===e._bili_space_state?t("div",{staticClass:"channel-item channel-create list-create",attrs:{title:"创建新频道"},on:{click:e.createChannel}},[e._m(2)]):e._e(),e._l(e.availableChannels,(function(n){return t("div",{staticClass:"channel-item"},[t("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_video_channel_click",expression:"'space_video_channel_click'"}],staticClass:"cover",attrs:{to:{name:"channelDetail",query:{cid:n.cid}}}},[t("img",{attrs:{src:e._f("coversize")(n.cover||"//static.hdslb.com/images/transparent.gif","380x240")}}),t("div",{staticClass:"video-num"},[t("div",{staticClass:"video-num-inner"},[t("strong",[e._v(e._s(n.count))]),t("em",{staticClass:"icon"})])]),t("span",{directives:[{name:"watchlater",rawName:"v-watchlater.tip.channel",value:{cid:n.cid,count:n.count},expression:"{\n                  cid: channel.cid,\n                  count: channel.count\n                }",modifiers:{tip:!0,channel:!0}},{name:"rep",rawName:"v-rep",value:"watchlater_channellist_all",expression:"'watchlater_channellist_all'"}],staticClass:"i-watchlater no-select"})]),t("div",{staticClass:"channel-meta"},[t("h4",{staticClass:"channel-name",attrs:{title:n.name}},[e._v("\n                "+e._s(e._f("decodeHTML")(n.name))+"\n              ")]),t("div",{staticClass:"channel-update-time"},[e._v("\n                "+e._s(e._f("format_pubdate")(n.mtime))+"\n              ")])])],1)}))],2)])])]),t("modal",{staticClass:"create-channel-popup",attrs:{show:e.isAddingChannel},on:{confirm:e.confirm,cancel:e.cancel}},[t("template",{slot:"title"},[e._v("新建频道")]),t("template",{slot:"body"},[t("be-input",{attrs:{maxlength:"20",placeholder:"填写频道标题"},model:{value:e.newChannelName,callback:function(n){e.newChannelName=n},expression:"newChannelName"}}),t("be-input",{attrs:{type:"textarea",placeholder:"填写频道简介（选填）",maxlength:"60"},model:{value:e.newChannelIntro,callback:function(n){e.newChannelIntro=n},expression:"newChannelIntro"}})],1)],2)],1)}),[function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("你可以将自己上传的视频整理成"),n("em",[this._v("“频道”")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("div",[n("p",{staticClass:"empty-channel-icon"})])},function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"create-covers-meta"},[n("div",{staticClass:"icon"}),n("div",{staticClass:"text"},[this._v("新建频道")])])}],!1,null,null,null);n.default=h.exports}}]);
//# sourceMappingURL=22.space.6b205c198ff52b3196d0e868f6c77459b5b9f786.js.map