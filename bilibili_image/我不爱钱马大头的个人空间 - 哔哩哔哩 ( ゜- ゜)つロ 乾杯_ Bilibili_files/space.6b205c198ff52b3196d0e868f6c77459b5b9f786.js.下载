"use strict";!function(t){function e(e){for(var i,a,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(d&&d(e);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={3:0},r={3:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[];a[t]?e.push(a[t]):0!==a[t]&&{1:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1}[t]&&e.push(a[t]=new Promise((function(e,n){for(var i="css/space."+t+".6b205c198ff52b3196d0e868f6c77459b5b9f786.css",r=s.p+i,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=(d=o[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===i||u===r))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var d;if((u=(d=l[c]).getAttribute("data-href"))===i||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[t],f.parentNode.removeChild(f),n(o)},f.href=r,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){a[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(t){return s.p+""+t+".space.6b205c198ff52b3196d0e868f6c77459b5b9f786.js"}(t);var u=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="//s1.hdslb.com/bfs/static/jinkela/space/",s.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;o.push([201,4]),n()}({1:function(t,e,n){n.d(e,"R",(function(){return i})),n.d(e,"pb",(function(){return a})),n.d(e,"ab",(function(){return r})),n.d(e,"Z",(function(){return o})),n.d(e,"Tb",(function(){return s})),n.d(e,"Eb",(function(){return c})),n.d(e,"dc",(function(){return u})),n.d(e,"z",(function(){return l})),n.d(e,"y",(function(){return d})),n.d(e,"Yb",(function(){return f})),n.d(e,"xb",(function(){return p})),n.d(e,"bc",(function(){return m})),n.d(e,"C",(function(){return h})),n.d(e,"A",(function(){return v})),n.d(e,"cc",(function(){return _})),n.d(e,"H",(function(){return b})),n.d(e,"wb",(function(){return g})),n.d(e,"V",(function(){return w})),n.d(e,"vb",(function(){return y})),n.d(e,"U",(function(){return C})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return S})),n.d(e,"b",(function(){return L})),n.d(e,"B",(function(){return x})),n.d(e,"rb",(function(){return k})),n.d(e,"qb",(function(){return j})),n.d(e,"K",(function(){return T})),n.d(e,"J",(function(){return E})),n.d(e,"I",(function(){return $})),n.d(e,"P",(function(){return O})),n.d(e,"Q",(function(){return I})),n.d(e,"O",(function(){return N})),n.d(e,"u",(function(){return A})),n.d(e,"v",(function(){return R})),n.d(e,"t",(function(){return F})),n.d(e,"e",(function(){return D})),n.d(e,"h",(function(){return U})),n.d(e,"Qb",(function(){return V})),n.d(e,"Nb",(function(){return B})),n.d(e,"X",(function(){return M})),n.d(e,"Y",(function(){return G})),n.d(e,"W",(function(){return H})),n.d(e,"tb",(function(){return W})),n.d(e,"ub",(function(){return q})),n.d(e,"sb",(function(){return z})),n.d(e,"F",(function(){return Y})),n.d(e,"G",(function(){return K})),n.d(e,"E",(function(){return J})),n.d(e,"k",(function(){return X})),n.d(e,"M",(function(){return Q})),n.d(e,"N",(function(){return Z})),n.d(e,"L",(function(){return tt})),n.d(e,"Ob",(function(){return et})),n.d(e,"Pb",(function(){return nt})),n.d(e,"w",(function(){return it})),n.d(e,"o",(function(){return at})),n.d(e,"p",(function(){return rt})),n.d(e,"n",(function(){return ot})),n.d(e,"x",(function(){return st})),n.d(e,"m",(function(){return ct})),n.d(e,"r",(function(){return ut})),n.d(e,"s",(function(){return lt})),n.d(e,"q",(function(){return dt})),n.d(e,"i",(function(){return ft})),n.d(e,"Wb",(function(){return pt})),n.d(e,"c",(function(){return mt})),n.d(e,"d",(function(){return ht})),n.d(e,"Ib",(function(){return vt})),n.d(e,"j",(function(){return _t})),n.d(e,"Vb",(function(){return bt})),n.d(e,"Kb",(function(){return gt})),n.d(e,"l",(function(){return wt})),n.d(e,"Ub",(function(){return yt})),n.d(e,"Gb",(function(){return Ct})),n.d(e,"Hb",(function(){return Pt})),n.d(e,"gb",(function(){return St})),n.d(e,"hb",(function(){return Lt})),n.d(e,"fb",(function(){return xt})),n.d(e,"db",(function(){return kt})),n.d(e,"eb",(function(){return jt})),n.d(e,"cb",(function(){return Tt})),n.d(e,"bb",(function(){return Et})),n.d(e,"Xb",(function(){return $t})),n.d(e,"ob",(function(){return Ot})),n.d(e,"nb",(function(){return It})),n.d(e,"mb",(function(){return Nt})),n.d(e,"Jb",(function(){return At})),n.d(e,"a",(function(){return Rt})),n.d(e,"Mb",(function(){return Ft})),n.d(e,"Rb",(function(){return Dt})),n.d(e,"Sb",(function(){return Ut})),n.d(e,"D",(function(){return Vt})),n.d(e,"ac",(function(){return Bt})),n.d(e,"Lb",(function(){return Mt})),n.d(e,"T",(function(){return Gt})),n.d(e,"S",(function(){return Ht})),n.d(e,"Cb",(function(){return Wt})),n.d(e,"Db",(function(){return qt})),n.d(e,"Bb",(function(){return zt})),n.d(e,"zb",(function(){return Yt})),n.d(e,"Ab",(function(){return Kt})),n.d(e,"yb",(function(){return Jt})),n.d(e,"Fb",(function(){return Xt})),n.d(e,"kb",(function(){return Qt})),n.d(e,"lb",(function(){return Zt})),n.d(e,"jb",(function(){return te})),n.d(e,"ib",(function(){return ee})),n.d(e,"Zb",(function(){return ne}));var i="GETINFO_SUCCESS",a="GETSETTINGS_SUCCESS",r="GETMYINFO_SUCCESS",o="GETMYINFO_FAILURE",s="SETSIGN_SUCCESS",c="GETWATCHHISTORY_SUCCESS",u="WATCH_VIDEO",l="FETCHNAVNUM_SUCCESS",d="FETCHNAVNUM_FAILURE",f="UPADTE_USER_STATE",p="GETUPSTAT_SUCCESS",m="UPDATE_WATCHLATER",h="FETCHTOPPHOTO_SUCCESS",v="FETCHSKIN_SUCCESS",_="UPLOADTOUTU_SUCCESS",b="GETBCOIN_SUCCESS",g="GETTOPVIDEO_SUCCESS",w="GETMASTERPIECE_SUCCESS",y="GETTOPVIDEO_FAILURE",C="GETMASTERPIECE_FAILURE",P="DELETEMASTERPIECE_SUCCESS",S="DELETETOPVIDEOS_SUCCESS",L="CLEARSELECTVIDEOS",x="FETCHSUBMITVIDEOS_START",k="GETSUBMITVIDEOS_SUCCESS",j="GETSUBMITVIDEOS_FAILURE",T="GETCHANNEL_SUCCESS",E="GETCHANNELWITHARCHIVES_SUCCESS",$="GETCHANNELINFO_SUCCESS",O="GETFAV_START",I="GETFAV_SUCCESS",N="GETFAV_FAILURE",A="FETCHFAVDETAIL_START",R="FETCHFAVDETAIL_SUCCESS",F="FETCHFAVDETAIL_FAILURE",D="COPYVIDEO_SUCCESS",U="DELFAVLIST_SUCCESS",V="SETFAVLIST_SUCCESS",B="RENAMEFAV_SUCCESS",M="GETMYFAV_START",G="GETMYFAV_SUCCESS",H="GETMYFAV_FAILURE",W="GETTOPICS_START",q="GETTOPICS_SUCCESS",z="GETTOPICS_FAILURE",Y="GETALLARTICLE_START",K="GETALLARTICLE_SUCCESS",J="GETALLARTICLE_FAILURE",X="DELINVALIDVIDEO_SUCCESS",Q="GETFAVNAV_START",Z="GETFAVNAV_SUCCESS",tt="GETFAVNAV_FAILURE",et="SETALBUMNAV_SUCCESS",nt="SETFAVBANGUMINUM_SUCCESS",it="FETCHFAVTLIST_SUCCESS",at="FETCH_CREATEDLIST_START",rt="FETCH_CREATEDLIST_SUCCESS",ot="FETCH_CREATEDLIST_FAILURE",st="FETCH_MYCREATEDLIST_SUCCESS",ct="FETCH_COLLECTEDLIST_SUCCESS",ut="FETCHFAVDETAILS_START",lt="FETCHFAVDETAILS_SUCCESS",dt="FETCHFAVDETAILS_FAILURE",ft="DELFAVPLAYLIST_SUCCESS",pt="THUMBUPORDOWN_SUCCESS",mt="COLLFAVADD_SUCCESS",ht="COLLFAVDEL_SUCCESS",vt="MOREVIDEO_SUCCESS",_t="DELFAVVIDEO_SUCCESS",bt="SHOWFAVSHARE_SUCCESS",gt="MYCOLLFAVDEL_SUCCESS",wt="DELVIDEO_SUCCESS",yt="SHAREPLAYLIST_SUCCESS",Ct="MODALADDFAV_LOAD",Pt="MODALADDFAV_SUCCESS",St="GETPLAYLIST_START",Lt="GETPLAYLIST_SUCCESS",xt="GETPLAYLIST_FAILURE",kt="GETPLAYLISTINFO_START",jt="GETPLAYLISTINFO_SUCCESS",Tt="GETPLAYLISTINFO_FAILURE",Et="GETPLAYLISTAUTH",$t="TOGGLESPACESTATE",Ot="GETRELATIONLIST_SUCCESS",It="GETRELATIONLIST_START",Nt="GETRELATIONLIST_FAILURE",At="MOVEFROMBAN_SUCCESS",Rt="ADDATTENTION",Ft="REMOVEATTENTION",Dt="SETINDEXORDER_SUCCESS",Ut="SETPRIVACY_SUCCESS",Vt="FETCH_NUMBERS_SUCCESS",Bt="UPDATE_RELATION",Mt="RELATION_WITH_UPER",Gt="GETKNIGHT_SUCCESS",Ht="GETKNIGHT_START",Wt="GETUSERTAG_START",qt="GETUSERTAG_SUCCESS",zt="GETUSERTAG_FAILURE",Yt="GETUSERTAGS_START",Kt="GETUSERTAGS_SUCCESS",Jt="GETUSERTAGS_FAILURE",Xt="GET_ACCRELATION_SUCCESS",Qt="GETPUGV_START",Zt="GETPUGV_SUCCESS",te="GETPUGV_FAILURE",ee="GETPUGVLIST_SUCCESS",ne="UPDATEPUGVNUM_SUCCESS"},132:function(t,e,n){n.d(e,"a",(function(){return i}));var i=[0,1,-6]},133:function(t,e,n){var i={name:"be-tags",props:{isPay:{type:Boolean,default:!1},isCoop:{type:Boolean,default:!1},isNew:{type:Boolean,default:!1},isInter:{type:Boolean,default:!1}},computed:{tagList:function(){return[{key:this.isPay,class:"pay-tag",name:"付费"},{key:this.isCoop,class:"coop-tag",name:"合作"},{key:this.isInter,class:"inter-tag",name:"互动"},{key:this.isNew,class:"new-tag",name:"NEW"}].filter((function(t){return Object.values(t)[0]})).slice(0,2)}}},a=(n(459),n(4)),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tagList.length?n("div",{staticClass:"be-tags-container"},t._l(t.tagList,(function(e,i){return n("div",{key:i,class:["tag",""+e.class]},[t._v(t._s(e.name))])})),0):t._e()}),[],!1,null,null,null);e.a=r.exports},17:function(t,e,n){function i(t){if(t){var e=[];for(var n in t)"_"!==n&&"ts"!==n&&"space_callback"!==n&&e.push("".concat(n,"=").concat(t[n]));return e.join("&")}return""}function a(t,e,n){return"".concat(t,"_").concat(e,"_").concat(n)}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return c}));var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i(e),o=sessionStorage.getItem(a(n,t,r));return o?Promise.resolve(JSON.parse(o)):Promise.reject()},o=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=i(e),s=a(r,t,o);sessionStorage.setItem(s,JSON.stringify(n))},s=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=i(e),s=a(r,t,o),c=sessionStorage.getItem(s);if(c){for(var u,l=JSON.parse(c),d=Object.keys(n),f=d.length;f--;)l[u=d[f]]=n[u];sessionStorage.setItem(s,JSON.stringify(l))}},c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i(e),o=a(n,t,r);sessionStorage.removeItem(o)}},183:function(t,e,n){n.r(e),n.d(e,"setTopVideos",(function(){return r})),n.d(e,"fetchTopVideos",(function(){return o})),n.d(e,"deleteTopVideos",(function(){return s})),n.d(e,"setMasterpiece",(function(){return c})),n.d(e,"fetchMasterpiece",(function(){return u})),n.d(e,"deleteMasterpiece",(function(){return l}));var i=n(1),a=n(0),r=function(t,e){t.commit;var n=e.aid,i=e.reason;return a.default.http.post("//api.bilibili.com/x/space/top/arc/set",{aid:n,reason:i}).then((function(t){var e=t.data,n=e.message;return 0==+e.code?Promise.resolve():(a.default.$warn("设置置顶视频失败，".concat(n)),Promise.reject())}),(function(t){return a.default.$warn("设置置顶视频失败，网络错误"),Promise.reject()}))},o=function(t,e){var n=t.commit,r=e.mid,o=e.isOwner;return a.default.http({method:"get",url:"//api.bilibili.com/x/space/top/arc",params:{vmid:r},withCredentials:!!o}).then((function(t){var e=t.data,a=e.data;return 0==+e.code?n(i.wb,a):n(i.vb)}))},s=function(t){var e=t.commit;a.default.http.post("//api.bilibili.com/x/space/top/arc/cancel").then((function(t){var n=t.data,r=n.data;0==+n.code?e(i.g):a.default.$warn("取消置顶视频失败，".concat(r))}),(function(t){return a.default.$warn("取消置顶视频失败，网络错误")}))},c=function(t,e){t.commit;var n=e.aid,i=e.reason;return a.default.http.post("//api.bilibili.com/x/space/masterpiece/add",{aid:n,reason:i}).then((function(t){var e=t.data,n=e.message;return 0==+e.code?Promise.resolve():(a.default.$warn("设置代表作失败，".concat(n)),Promise.reject())}),(function(t){return a.default.$warn("设置代表作失败，网络错误"),Promise.reject()}))},u=function(t,e){var n=t.commit,r=e.mid,o=e.isOwner;a.default.http({method:"get",url:"//api.bilibili.com/x/space/masterpiece",params:{vmid:r},withCredentials:!!o}).then((function(t){var e=t.data,a=e.data;0==+e.code?n(i.V,a):n(i.U)}))},l=function(t,e){var n=t.commit,r=e.id;return a.default.http.post("//api.bilibili.com/x/space/masterpiece/cancel",{aid:r}).then((function(t){var e=t.data,o=e.code,s=e.message;return 0==+o?(n(i.f,r),Promise.resolve()):(a.default.$warn("取消代表作失败，".concat(s)),Promise.reject())}),(function(t){return a.default.$warn("取消代表作失败，网络错误"),Promise.reject()}))}},184:function(t,e,n){n.r(e),n.d(e,"fetchRelationNumbers",(function(){return s})),n.d(e,"fetchRelationsList",(function(){return c})),n.d(e,"fetchManyInfos",(function(){return u})),n.d(e,"fetchRelation",(function(){return l})),n.d(e,"fetchBeRelation",(function(){return d})),n.d(e,"fetchManyRelations",(function(){return f})),n.d(e,"fetchFansVipInfo",(function(){return p})),n.d(e,"modifyRelations",(function(){return m})),n.d(e,"fetchQuietlyFollowing",(function(){return h})),n.d(e,"fetchUserTag",(function(){return v})),n.d(e,"getUserTagList",(function(){return _})),n.d(e,"addUserTag",(function(){return b})),n.d(e,"updateUserTag",(function(){return g})),n.d(e,"delUserTag",(function(){return w})),n.d(e,"moveUser",(function(){return y})),n.d(e,"copyUser",(function(){return C})),n.d(e,"updateRelationList",(function(){return P})),n.d(e,"modifyRelationList",(function(){return S})),n.d(e,"getKnight",(function(){return L})),n.d(e,"exitKnight",(function(){return x}));var i=n(17),a=n(1),r=n(0),o="//api.bilibili.com/x/relation",s=function(t,e){var n=t.commit;return r.default.http.jsonp("".concat(o,"/stat"),{params:{vmid:e}}).then((function(t){var e=t.data,i=t.code,r=t.message;return 0===i?(n(a.D,e),Promise.resolve(e)):(console.log("用户关系数据获取失败，".concat(r)),n(a.D,{following:0,whisper:0,black:0,follower:0}),Promise.resolve({following:0,whisper:0,black:0,follower:0}))}),(function(){return r.default.$warn("获取用户关系数据失败，网络错误"),Promise.reject()}))},c=function(t,e){var n=t.commit,i=e.params,s=e.type;return n(a.nb),r.default.http.jsonp("".concat(o,"/").concat(s),{params:i}).then((function(t){var e=t.code,i=t.data,r=t.message;if(0===e){var o=i.list;return n(a.ob,o&&o.length>0?o:[]),Promise.resolve()}return n(a.ob,[]),console.log("获取粉丝列表失败，".concat(r)),Promise.reject()}),(function(t){return console.log("获取粉丝列表失败，网络错误"),n(a.ob,[]),Promise.reject()}))},u=function(t,e){t.commit;return r.default.http.post("/ajax/member/GetInfos",{mid:e}).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve(i.cards):(console.log("批量获取用户信息失败，".concat(i)),Promise.reject())}),(function(t){return Promise.reject()}))},l=function(t,e){t.commit;return r.default.http.jsonp(o,{params:{fid:e}}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0===e?Promise.resolve(n):(console.log("单条获取用户关系失败，".concat(i)),Promise.reject())}),(function(t){return Promise.reject()}))},d=function(t,e){t.commit;return r.default.http.jsonp("//api.bilibili.com/x/space/acc/relation",{params:{mid:e}}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0===e?Promise.resolve(n):(console.log("单条获取用户被关注关系失败，".concat(i)),Promise.reject())}))},f=function(t,e){t.commit;return r.default.http.jsonp("".concat(o,"/relations"),{params:{fids:e}}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0===e?Promise.resolve(n):(console.log("批量获取用户关系失败，".concat(i)),Promise.reject())}),(function(t){return Promise.reject()}))},p=function(t,e){t.commit;return r.default.http.get("/ajax/member/getMultiVipInfo",{params:{idList:e}}).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve(i):(console.log("批量获取粉丝的会员信息失败，".concat(i)),Promise.reject())}),(function(t){return Promise.reject()}))},m=function(t,e){var n=t.commit,c=e.mid,u=e.act,f=e.needFetchNumber,p=void 0===f||f;return r.default.http.post("".concat(o,"/modify"),{fid:c,act:u,re_src:11}).then((function(t){var e=t.data,o=e.code,f=e.message;if(Object(i.b)("//api.bilibili.com/x/space/acc/info",{mid:c},_bili_space_mid),[0,22004,22005].indexOf(o)>-1){switch(p&&setTimeout((function(){s({commit:n},_bili_space_mid)}),800),c===_bili_space_mid&&setTimeout((function(){l({commit:n},c).then((function(t){var e=t.attribute;n(a.Lb,+e),n(a.Yb,[2,6].indexOf(+e)>-1?"fans":"visitor")})),d({commit:n},c).then((function(t){n(a.Fb,t)}))}),800),u){case 1:n(a.a,c);break;case 2:n(a.Mb,c);break;case 6:n(a.Jb,c)}return Promise.resolve()}return 22006===o?($.getScript("//static.hdslb.com/plugins/attentionLimitPopup/attentionLimitPopup.js",(function(){new window.attentionLimitPopup})),Promise.reject()):(r.default.$warn(f),Promise.reject())}),(function(){return r.default.$warn("网络错误，请稍后重试"),Promise.reject()}))},h=function(t,e){var n=t.commit,i=e.pn,s=e.ps,c=void 0===s?20:s;n(a.nb),r.default.http.jsonp("".concat(o,"/whispers"),{params:{pn:i,ps:c}}).then((function(t){var e=t.data,i=t.code,o=t.message;0==+i?n(a.ob,e.list):(r.default.$warn("获取悄悄关注列表失败，".concat(o)),n(a.mb))}),(function(t){r.default.$warn("获取悄悄关注列表失败，网络错误"),n(a.mb)}))},v=function(t,e){var n=t.commit;n(a.nb),r.default.http.jsonp("".concat(o,"/tag"),{params:e}).then((function(t){var e=t.code,i=t.data,o=t.message;0===e?(i.forEach((function(t){t.attribute=2})),n(a.ob,i&&i.length>0?i:[])):(r.default.$warn("获取用户信息失败，".concat(o)),n(a.mb))}),(function(t){r.default.$warn("获取用户信息失败，网络错误"),n(a.mb)}))},_=function(t){var e=t.commit;return e(a.zb),r.default.http.jsonp("".concat(o,"/tags")).then((function(t){var n=t.data,i=t.code,o=t.message;return 0==+i?(e(a.Ab,n),Promise.resolve()):(r.default.$warn("获取用户分组列表失败，".concat(o)),e(a.yb),Promise.reject())}),(function(t){return console.log(t),r.default.$warn("获取用户分组列表失败，网络错误"),e(a.yb),Promise.reject()}))},b=function(t,e){t.commit;return r.default.http.post("".concat(o,"/tag/create"),{tag:e}).then((function(t){var e=t.data,n=e.code,i=e.message,a=e.data;return 0===n?Promise.resolve(a.tagid):(r.default.$warn("创建标签失败，".concat(i)),Promise.reject())}),(function(t){return r.default.$warn("创建标签失败，网络错误"),Promise.reject()}))},g=function(t,e){t.commit;var n=e.tagid,i=e.name;return r.default.http.post("".concat(o,"/tag/update"),{tagid:n,name:i}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve("更改名称成功"):(r.default.$warn("更改名称失败，".concat(i)),Promise.reject())}),(function(t){return r.default.$warn("更改名称失败，网络错误"),Promise.reject()}))},w=function(t,e){t.commit;return r.default.http.post("".concat(o,"/tag/del"),{tagid:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve("删除成功"):(r.default.$warn("删除频道失败，".concat(i)),Promise.reject())}),(function(t){return r.default.$warn("删除频道失败，网络错误"),Promise.reject()}))},y=function(t,e){t.commit;var n=e.beforeTagids,i=e.afterTagids,a=e.fids;return r.default.http.post("".concat(o,"/tags/moveUsers"),{beforeTagids:n,afterTagids:i,fids:a}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve("移动用户成功"):(r.default.$warn("加入分组失败，".concat(i)),Promise.reject())}),(function(t){return r.default.$warn("加入分组失败，网络错误"),Promise.reject()}))},C=function(t,e){t.commit;var n=e.fids,i=e.tagids;return r.default.http.post("".concat(o,"/tags/copyUsers"),{fids:n,tagids:i}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve("复制用户成功"):(r.default.$warn("复制用户失败，".concat(i)),Promise.reject())}),(function(t){return r.default.$warn("复制用户失败，网络错误"),Promise.reject()}))},P=function(t,e){(0,t.commit)(a.ac,e)},S=function(t,e){(0,t.commit)(a.ob,e)},L=function(t,e){var n=t.commit,i=e.pn,o=e.ps,s=void 0===o?20:o;return n(a.S),r.default.http.jsonp("//api.bilibili.com/x/space/rider/list",{params:{pn:i,ps:s}}).then((function(t){var e=t.data,i=t.code,o=t.message;if(0===i){var s=e.list,c=e.page;return null===s?(n(a.T,{list:[],count:0}),Promise.resolve([])):(n(a.T,{list:s,count:c.count}),s.forEach((function(t){t.attribute=2})),Promise.resolve(s))}return r.default.$warn("请求骑士团数据失败，".concat(o)),Promise.reject()}),(function(){return r.default.$warn("请求骑士团数据失败，网络错误"),Promise.reject()}))},x=function(t,e){t.commit;var n=e.mid;return r.default.http.post("//api.bilibili.com/x/space/rider/exit",{up_mid:n}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve():(r.default.$warn("退出骑士团失败，".concat(i)),Promise.reject())}),(function(){return r.default.$warn("退出骑士团失败，网络错误"),Promise.reject()}))}},185:function(t,e,n){n.r(e),n.d(e,"fetchFavList",(function(){return p})),n.d(e,"fetchMyFavList",(function(){return m})),n.d(e,"delFavList",(function(){return h})),n.d(e,"editFavPublic",(function(){return v})),n.d(e,"editFavName",(function(){return _})),n.d(e,"createFavList",(function(){return b})),n.d(e,"sortFavList",(function(){return g})),n.d(e,"fetchFavNavList",(function(){return w})),n.d(e,"fetchFavDetail",(function(){return y})),n.d(e,"fetchFavTlist",(function(){return C})),n.d(e,"delVideo",(function(){return P})),n.d(e,"moveVideo",(function(){return S})),n.d(e,"copyVideo",(function(){return L})),n.d(e,"fetchTopics",(function(){return x})),n.d(e,"delTopics",(function(){return k})),n.d(e,"delArticles",(function(){return j})),n.d(e,"fetchArticleAllList",(function(){return T})),n.d(e,"delInvalidVideo",(function(){return E})),n.d(e,"delInvalidVideoState",(function(){return O})),n.d(e,"fetchFavedPlaylists",(function(){return I})),n.d(e,"delFavedPlaylist",(function(){return N})),n.d(e,"setFavAlbumNum",(function(){return A})),n.d(e,"setFavBangumiNum",(function(){return R})),n.d(e,"fetchCreatedFav",(function(){return F})),n.d(e,"fetchHomeCreatedFav",(function(){return D})),n.d(e,"fetchMyCreatedFav",(function(){return U})),n.d(e,"fetchCollectedFav",(function(){return V})),n.d(e,"fetchFavDetails",(function(){return B})),n.d(e,"delFavPlayList",(function(){return M})),n.d(e,"sortFavPlayLiat",(function(){return G})),n.d(e,"thumbUpOrDown",(function(){return H})),n.d(e,"collFavAdd",(function(){return W})),n.d(e,"collFavDel",(function(){return q})),n.d(e,"delFavVideo",(function(){return z})),n.d(e,"sharePlayList",(function(){return Y})),n.d(e,"modalAddFav",(function(){return K}));var i=n(2),a=n.n(i),r=n(1),o=n(0);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u="//api.bilibili.com/x/v2/fav/folder",l="//api.bilibili.com/x/v2/fav/video",d="//api.bilibili.com/x/v2/fav/topic",f="//api.bilibili.com/x/article/favorites",p=function(t,e){var n=t.commit,i=e.mid,a=e.mymid;return n(r.P),o.default.http.jsonp(u,{params:{vmid:i}}).then((function(t){var e=t.data,s=void 0===e?[]:e,c=t.code,u=t.message,l={count:s.length,list:s.map((function(t){return t.name=t.name.decodeHTML(),t}))};return 0==+c?(n(r.Q,l),a===i&&n(r.Y,l),Promise.resolve(l)):(n(r.O),o.default.$warn("获取用户收藏夹列表失败，".concat(u)),Promise.reject())}),(function(t){return n(r.O),o.default.$warn("获取用户收藏夹列表失败，网络错误"),Promise.reject()}))},m=function(t,e){var n=t.commit;return n(r.X),o.default.http.jsonp(u,{params:{vmid:e}}).then((function(t){var e=t.data,i=void 0===e?[]:e,a=t.code,s=t.message,c={count:i.length,list:i.map((function(t){return t.name=t.name.decodeHTML(),t}))};return 0==+a?(n(r.Y,c),Promise.resolve()):(n(r.W),o.default.$warn("获取用户收藏夹列表失败，".concat(s)),Promise.reject())}),(function(t){return n(r.W),o.default.$warn("获取用户收藏夹列表失败，网络错误"),Promise.reject()}))},h=function(t,e){var n=t.commit;return o.default.http.post("".concat(u,"/del"),{fid:e}).then((function(t){var i=t.data,a=i.code,s=i.message;return 0==+a?(n(r.h,e),Promise.resolve()):(o.default.$warn("删除收藏夹失败，".concat(s)),Promise.reject())}),(function(t){return o.default.$warn("删除收藏夹失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},v=function(t,e){var n=t.commit,i=e.fid,a=e.isPublic;return o.default.http.post("".concat(u,"/public"),{fid:i,public:a}).then((function(t){var e=t.data,s=e.code,c=e.message;return 0==+s?(n(r.Qb,i,a),Promise.resolve()):(o.default.$warn("设置收藏夹公开性失败，".concat(c)),Promise.reject())}),(function(t){return o.default.$warn("设置收藏夹公开性失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},_=function(t,e){var n=t.commit,i=e.fid,a=e.name;return o.default.http.post("".concat(u,"/rename"),{fid:i,name:a}).then((function(t){var e=t.data,s=e.code,c=e.message;return[61001,61002].indexOf(+s)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",(function(){IdentityDialog(s,c)})),Promise.reject()):0==+s?(n(r.Nb,i,a),Promise.resolve()):(o.default.$warn("重命名收藏夹失败，".concat(c)),Promise.reject())}),(function(t){return o.default.$warn("重命名收藏夹失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},b=function(t,e){t.commit;var n=e.name,i=e.isPublic;return o.default.http.post("".concat(u,"/add"),{name:n,public:i}).then((function(t){var e=t.data,n=e.code,i=e.message;return[61001,61002].indexOf(+n)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",(function(){IdentityDialog(n,i)})),Promise.reject()):0==+n?Promise.resolve():(o.default.$warn("新建收藏夹失败，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("新建收藏夹失败，网络错误，网络错误"),Promise.reject()}))},g=function(t,e){t.commit;return o.default.http.post("".concat(u,"/sort"),{fids:e}).then((function(t){var e=t.data;return 0==+e.code?Promise.resolve():(o.default.$warn("收藏夹排序失败，".concat(e.data)),Promise.reject())}),(function(t){return o.default.$warn("收藏夹排序失败，网络错误"),Promise.reject()}))},w=function(t,e){var n=t.commit,i=e.mid,a=e.mymid;return n(r.M),o.default.http.jsonp("//api.bilibili.com/x/space/fav/nav",{params:{mid:i}}).then((function(t){var e=t.data,s=void 0===e?[]:e,c=t.code,u=t.message;if(0==+c){var l={count:s.archive.length,list:s.archive.map((function(t){return t.name=t.name.decodeHTML(),t})),data:s};return n(r.N,l),a===i&&n(r.Y,l),Promise.resolve(l)}return n(r.L),o.default.$warn("获取用户收藏夹列表失败，".concat(u)),Promise.reject()}),(function(t){return n(r.L),o.default.$warn("获取播单收藏夹列表失败，网络错误"),Promise.reject()}))},y=function(t,e){var n=t.commit;return n(r.u),o.default.http.jsonp("//api.bilibili.com/x/space/fav/arc",{params:e}).then((function(t){var e=t.data,i=void 0===e?{}:e,a=t.code,s=t.message,c={count:i.total,pages:i.pagecount,vlist:i.archives.map((function(t){return t.desc=t.desc.decodeHTML(),t.title=t.title.decodeHTML(),t}))};return 0==+a?(n(r.v,c),Promise.resolve(c)):11018==+a?(n(r.t),Promise.reject(11018)):(o.default.$warn("收藏夹详情获取失败！ ∑(っ °Д °;)っ，".concat(s)),Promise.reject())}),(function(t){return n(r.t),Promise.reject()}))},C=function(t,e){var n=t.commit;return o.default.http.get("//api.bilibili.com/x/v3/fav/resource/partition",{params:e,withCredentials:!0}).then((function(t){var e=t.data,i=e.data,a=void 0===i?[]:i,o=e.code,s=e.message;return 0==+o?(n(r.w,a),Promise.resolve(a)):(console.log("收藏夹分区获取失败！ ∑(っ °Д °;)っ，".concat(s)),Promise.reject())}),(function(t){return console.log("收藏夹分区获取失败！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},P=function(t,e){t.commit;var n=e.fid,i=e.aid,a=l,r={fid:n};return"number"==typeof i||-1===i.indexOf(",")?(a+="/del",r.aid=i):(a+="/mdel",r.aids=i),o.default.http.post(a,r).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("取消收藏失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("取消收藏失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},S=function(t,e){t.commit;var n=e.src_media_id,i=e.tar_media_id,a=e.resources;return o.default.http.post("//api.bilibili.com/x/v3/fav/resource/move",{src_media_id:n,tar_media_id:i,resources:a}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("移动视频失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("移动视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},L=function(t,e){t.commit;var n=e.src_media_id,i=e.tar_media_id,a=e.mid,r=e.resources;return o.default.http.post("//api.bilibili.com/x/v3/fav/resource/copy",{src_media_id:n,tar_media_id:i,mid:a,resources:r}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("复制视频失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("复制视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},x=function(t,e){var n=t.commit;return n(r.tb),o.default.http.jsonp(d,{params:e}).then((function(t){var e=t.code,i=t.data;return 0==+e?(i.list.forEach((function(t){t.name=t.name.decodeHTML()})),n(r.ub,i)):n(r.sb)}),(function(t){return n(r.sb)}))},k=function(t,e){t.commit;return o.default.http.post("".concat(d,"/del"),{tpid:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},j=function(t,e){t.commit;return o.default.http.post("".concat(f,"/del"),{id:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve():(o.default.$warn("取消收藏夹失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},T=function(t,e){var n=t.commit;return o.default.http.jsonp("".concat(f,"/list/all"),{params:e}).then((function(t){var e=t.code,i=t.data,a=t.message;0===e?(i.favorites.forEach((function(t){t.title=t.title.decodeHTML(),t.summary=t.summary.decodeHTML()})),n(r.G,i)):(n(r.E),o.default.$warn("获取用户专栏列表失败，".concat(a)))}),(function(t){n(r.E),o.default.$warn("获取用户专栏列表失败，网络错误")}))},E=function(t,e){t.commit;return o.default.http.post("//api.bilibili.com/x/v3/fav/resource/clean",{media_id:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("清除失效视频失败了！ ∑(っ °Д °;)っ，".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("清除失效视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},O=function(t,e){var n=t.commit;o.default.http.jsonp("".concat(l,"/cleaned"),{params:{fid:e}}).then((function(t){var e=t.code,i=t.data;n(r.k,0===e?i.state:2)}),(function(t){n(r.k,2)}))},I=function(t,e){var n=t.commit;return n(r.gb),o.default.http.jsonp("//api.bilibili.com/x/playlist/fav",{params:e}).then((function(t){var e=t.code,i=t.data,a=t.message;i.list=i.list.map((function(t){return t.name=t.name.decodeHTML(),t})),0==+e?n(r.hb,i):(n(r.fb),o.default.$warn("获取播单收藏夹列表失败，".concat(a)))}),(function(t){n(r.sb),o.default.$warn("获取播单收藏夹列表失败，网络错误")}))},N=function(t,e){t.commit;return o.default.http.post("".concat("//api.bilibili.com/x/playlist/fav","/del"),{pid:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("取消播单失败了！ ∑(っ °Д °;)っ，\n          ".concat(i)),Promise.reject())}),(function(t){return o.default.$warn("取消播单失败了！∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},A=function(t,e){(0,t.commit)(r.Ob,e)},R=function(t,e){(0,t.commit)(r.Pb,e)},F=function(t,e){var n=t.commit,i=e.up_mid;return n(r.o),o.default.http.get("//api.bilibili.com/x/v3/fav/folder/created/list-all",{params:{up_mid:i},withCredentials:!0}).then((function(t){var e=t.data,i=e.code,a=e.data;e.message;return 0==+i?(n(r.p,c({},a)),Promise.resolve()):(n(r.n),Promise.reject())}))},D=function(t,e){var n=t.commit,i=e.up_mid,a=e.ps;return n(r.o),o.default.http.get("//api.bilibili.com/x/v3/fav/folder/created/list",{params:{pn:1,ps:a,up_mid:i},withCredentials:!0}).then((function(t){var e=t.data,i=e.code,a=e.data;e.message;return 0==+i?(n(r.p,c({},a)),Promise.resolve()):(n(r.n),Promise.reject())}))},U=function(t,e){var n=t.commit,i=e.up_mid;return o.default.http.get("//api.bilibili.com/x/v3/fav/folder/created/list-all",{params:{up_mid:i},withCredentials:!0}).then((function(t){var e=t.data,i=e.code,a=e.data;return 0==+i?(n(r.x,c({},a)),Promise.resolve()):Promise.reject()}))},V=function(t,e){var n=t.commit,i=e.pn,a=e.ps,s=e.up_mid,u=e.isReSet;return o.default.http.get("//api.bilibili.com/x/v3/fav/folder/collected/list",{params:{pn:i,ps:a,up_mid:s},withCredentials:!0}).then((function(t){var e=t.data,o=e.code,s=e.data,l=void 0===s?{}:s;e.message;return 0==+o?(n(r.m,c(c({},l),{},{pn:i,ps:a,isReSet:u})),Promise.resolve()):Promise.reject()}))},B=function(t,e){var n=t.commit;return n(r.r),o.default.http.get("//api.bilibili.com/x/v3/fav/resource/list",{params:e,withCredentials:!0}).then((function(t){var e=t.data,i=e.code,a=e.data;e.message;return 0==+i?(n(r.s,a),Promise.resolve(a)):(n(r.q),Promise.reject())}))},M=function(t,e){var n=t.commit;return o.default.http.post("//api.bilibili.com/x/v3/fav/folder/del",{media_ids:e}).then((function(t){var i=t.data,a=i.code,s=i.message;return 0==+a?(n(r.i,e),Promise.resolve()):(o.default.$warn("删除收藏夹失败，".concat(s)),Promise.reject())}))},G=function(t,e){t.commit;return o.default.http.post("//api.bilibili.com/x/v3/fav/folder/sort",{sort:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("收藏夹排序失败，".concat(i)),Promise.reject())}))},H=function(t,e){var n=t.commit,i=e.rid,a=e.thumb_type,s=e.type,c=e.up_mid;return o.default.http.post("//api.bilibili.com/x/v3/fav/thump/up",{rid:i,thumb_type:a,type:s,up_mid:c}).then((function(t){var e=t.data,i=e.data,a=e.code,s=e.message;return 0==+a?(n(r.Wb,i),Promise.resolve()):(o.default.$warn("播单点赞/取消点赞失败，".concat(s)),Promise.reject())}))},W=function(t,e){var n=t.commit;return o.default.http.post("//api.bilibili.com/x/v3/fav/folder/fav",{media_id:e}).then((function(t){var e=t.data,i=e.code,a=e.message;return 0==+i?(n(r.c),Promise.resolve()):(o.default.$warn("播单收藏失败，".concat(a)),Promise.reject())}))},q=function(t,e){var n=t.commit,i=e.id,a=e.mid,s=e.mymid;return o.default.http.post("//api.bilibili.com/x/v3/fav/folder/unfav",{media_id:i}).then((function(t){var e=t.data,c=e.code,u=e.message;return 0==+c?(+a==+s&&n(r.Kb,i),n(r.d),Promise.resolve()):(o.default.$warn("播单取消收藏失败，".concat(u)),Promise.reject())}))},z=function(t,e){t.commit;var n=e.resources,i=e.media_id;return o.default.http.post("//api.bilibili.com/x/v3/fav/resource/batch-del",{resources:n,media_id:i}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(o.default.$warn("取消播单视频失败，".concat(i)),Promise.reject())}))},Y=function(t,e){t.commit;var n=e.rid,i=e.r_type,a=e.cnt_type;return o.default.http.post("//api.bilibili.com/x/v3/fav/statistics/count",{rid:n,r_type:i,cnt_type:a}).then((function(t){return 0==+t.data.code?Promise.resolve():(console.log("播单分享上报失败"),Promise.reject())}))},K=function(t,e){var n=t.commit,i=e.title,a=e.privacy,s=void 0===a?0:a,c=e.isOwner;return n(r.Gb,!0),o.default.http.post("//api.bilibili.com/x/v3/fav/folder/add",{title:i,privacy:s}).then((function(t){var e=t.data,i=e.code,a=e.data;return n(r.Gb,!1),0==+i?(n(r.Hb,{data:a,isOwner:c}),Promise.resolve(a)):(o.default.$warn("操作失败，请重试"),Promise.reject())})).catch((function(t){return n(r.Gb,!1),o.default.$warn("新建收藏夹失败, ".concat(t)),Promise.reject()}))}},186:function(t,e,n){n.r(e),n.d(e,"favList",(function(){return i})),n.d(e,"isFavListLoad",(function(){return a})),n.d(e,"myFavList",(function(){return r})),n.d(e,"isMyFavListLoad",(function(){return o})),n.d(e,"favDetail",(function(){return s})),n.d(e,"isFavDetailLoad",(function(){return c})),n.d(e,"topics",(function(){return u})),n.d(e,"favArticles",(function(){return l})),n.d(e,"isArticleListLoad",(function(){return d})),n.d(e,"isTopicLoad",(function(){return f})),n.d(e,"idPlaylistListLoad",(function(){return p})),n.d(e,"delInvalidVideoStateNum",(function(){return m})),n.d(e,"playlists",(function(){return h})),n.d(e,"favNavList",(function(){return v})),n.d(e,"isFarNavListLoad",(function(){return _})),n.d(e,"tlist",(function(){return b})),n.d(e,"createdList",(function(){return g})),n.d(e,"collectedList",(function(){return w})),n.d(e,"favListDetails",(function(){return y})),n.d(e,"isShowFavShare",(function(){return C})),n.d(e,"isCreatedFavLoad",(function(){return P})),n.d(e,"myCreatedList",(function(){return S})),n.d(e,"isAddFavLoad",(function(){return L})),n.d(e,"modalAddFavList",(function(){return x}));var i=function(t){return t.favList},a=function(t){return t.isFavListLoad},r=function(t){return t.myFavList},o=function(t){return t.isMyFavListLoad},s=function(t){return t.favDetail},c=function(t){return t.isFavDetailLoad},u=function(t){return t.topics},l=function(t){return t.articles},d=function(t){return t.isArticleListLoad},f=function(t){return t.isTopicLoad},p=function(t){return t.idPlaylistListLoad},m=function(t){return t.delInvalidVideoStateNum},h=function(t){return t.playlists},v=function(t){return t.favNavList},_=function(t){return t.isFarNavListLoad},b=function(t){return t.tlist},g=function(t){return t.createdList},w=function(t){return t.collectedList},y=function(t){return t.favListDetails},C=function(t){return t.isShowFavShare},P=function(t){return t.isCreatedFavLoad},S=function(t){return t.myCreatedList},L=function(t){return t.isAddFavLoad},x=function(t){return t.modalAddFavList}},187:function(t,e,n){var i=n(85);n.n(i).a},201:function(t,e,n){t.exports=n(465)},429:function(t,e,n){t.exports=n(61)},430:function(t,e,n){var i=n(76);n.n(i).a},431:function(t,e,n){var i=n(77);n.n(i).a},432:function(t,e,n){var i=n(78);n.n(i).a},433:function(t,e,n){var i=n(79);n.n(i).a},434:function(t,e,n){var i=n(80);n.n(i).a},435:function(t,e,n){var i=n(81);n.n(i).a},436:function(t,e,n){var i=n(82);n.n(i).a},437:function(t,e,n){var i=n(83);n.n(i).a},438:function(t,e,n){},441:function(t,e,n){var i=n(84);n.n(i).a},442:function(t,e,n){var i=n(86);n.n(i).a},446:function(t,e,n){var i=n(87);n.n(i).a},447:function(t,e,n){var i=n(88);n.n(i).a},448:function(t,e,n){var i=n(89);n.n(i).a},450:function(t,e,n){var i=n(90);n.n(i).a},451:function(t,e,n){var i=n(91);n.n(i).a},452:function(t,e,n){var i=n(92);n.n(i).a},453:function(t,e,n){var i=n(93);n.n(i).a},454:function(t,e,n){var i=n(94);n.n(i).a},456:function(t,e,n){var i=n(95);n.n(i).a},457:function(t,e,n){var i=n(96);n.n(i).a},458:function(t,e,n){var i=n(97);n.n(i).a},459:function(t,e,n){var i=n(98);n.n(i).a},465:function(t,e,n){n.r(e);var i={};n.r(i),n.d(i,"fetchMergeInfo",(function(){return G})),n.d(i,"fetchInfo",(function(){return H})),n.d(i,"fetchSettings",(function(){return W})),n.d(i,"fetchMyInfo",(function(){return q})),n.d(i,"fetchPlaylistAuth",(function(){return z})),n.d(i,"fetchWatchHistory",(function(){return Y})),n.d(i,"fetchNavNum",(function(){return K})),n.d(i,"watchVideo",(function(){return J})),n.d(i,"setSign",(function(){return X})),n.d(i,"reportUper",(function(){return Q})),n.d(i,"getUpStat",(function(){return Z})),n.d(i,"toggleSpaceState",(function(){return tt})),n.d(i,"updateWatchlater",(function(){return et}));var a={};n.r(a),n.d(a,"fetchTopphoto",(function(){return nt})),n.d(a,"fetchSkin",(function(){return it})),n.d(a,"uploadToutu",(function(){return at})),n.d(a,"setTheme",(function(){return rt})),n.d(a,"setVipFreeToutu",(function(){return ot})),n.d(a,"setToutu",(function(){return st})),n.d(a,"fetchExpire",(function(){return ct})),n.d(a,"fetchBcoin",(function(){return ut})),n.d(a,"buyWithCoin",(function(){return lt})),n.d(a,"buyWithB",(function(){return dt})),n.d(a,"quickBuyWithB",(function(){return ft}));var r={};n.r(r),n.d(r,"top",(function(){return Se})),n.d(r,"masterpiece",(function(){return Le})),n.d(r,"isTopLoad",(function(){return xe})),n.d(r,"isMasterpieceLoad",(function(){return ke}));var o={};n.r(o),n.d(o,"_bili_space_mid",(function(){return Te})),n.d(o,"_bili_space_mymid",(function(){return Ee})),n.d(o,"_bili_space_info",(function(){return $e})),n.d(o,"_bili_space_notice",(function(){return Oe})),n.d(o,"_bili_space_settings",(function(){return Ie})),n.d(o,"_bili_login_info",(function(){return Ne})),n.d(o,"_bili_space_state",(function(){return Ae})),n.d(o,"_bili_space_is_login",(function(){return Re})),n.d(o,"_bili_space_watch_history",(function(){return Fe})),n.d(o,"_bili_space_nav",(function(){return De})),n.d(o,"_bili_space_vip",(function(){return Ue})),n.d(o,"playNumber",(function(){return Ve})),n.d(o,"isNavLoad",(function(){return Be})),n.d(o,"watchlaterAids",(function(){return Me})),n.d(o,"isSpaceLoad",(function(){return Ge})),n.d(o,"_bili_space_global_message",(function(){return He})),n.d(o,"isVip",(function(){return We})),n.d(o,"isVipFrozen",(function(){return qe})),n.d(o,"isVipNormal",(function(){return ze})),n.d(o,"isVipAnnual",(function(){return Ye})),n.d(o,"isFoolsDay",(function(){return Ke})),n.d(o,"isVipAboutToEnd",(function(){return Je}));var s={};n.r(s),n.d(s,"relations",(function(){return tn})),n.d(s,"attribute",(function(){return en})),n.d(s,"relationList",(function(){return nn})),n.d(s,"knightsList",(function(){return an})),n.d(s,"knightsCount",(function(){return rn})),n.d(s,"isRelationListLoad",(function(){return on})),n.d(s,"getFansTags",(function(){return sn})),n.d(s,"userTag",(function(){return cn})),n.d(s,"userTagList",(function(){return un})),n.d(s,"defaultGroupCount",(function(){return ln})),n.d(s,"accRelation",(function(){return dn}));var c={};n.r(c),n.d(c,"fetchPlaylists",(function(){return vn})),n.d(c,"getPlaylistInfo",(function(){return _n})),n.d(c,"getPlaylistVideo",(function(){return bn})),n.d(c,"editPlaylistSort",(function(){return gn})),n.d(c,"delPlaylist",(function(){return wn})),n.d(c,"delPlaylistVideo",(function(){return yn})),n.d(c,"updatePlaylist",(function(){return Cn})),n.d(c,"createPlaylist",(function(){return Pn})),n.d(c,"updatePlaylistVideoDesc",(function(){return Sn})),n.d(c,"addVideos",(function(){return Ln})),n.d(c,"searchVideos",(function(){return xn})),n.d(c,"checkVideos",(function(){return kn})),n.d(c,"uploadCover",(function(){return jn})),n.d(c,"getPlaylistAuth",(function(){return Tn})),n.d(c,"installPlaylistAuth",(function(){return En}));var u={};n.r(u),n.d(u,"playList",(function(){return $n})),n.d(u,"isPlaylistLoad",(function(){return On})),n.d(u,"playlistInfo",(function(){return In})),n.d(u,"isPlaylistInfoLoad",(function(){return Nn})),n.d(u,"isPlaylistAuthed",(function(){return An}));var l={};n.r(l),n.d(l,"getChannelsWithArchives",(function(){return Dn})),n.d(l,"getChannels",(function(){return Un})),n.d(l,"getChannel",(function(){return Vn})),n.d(l,"addChannel",(function(){return Bn})),n.d(l,"removeChannel",(function(){return Mn})),n.d(l,"editChannel",(function(){return Gn})),n.d(l,"addChannelVideos",(function(){return Hn})),n.d(l,"delChannelVideos",(function(){return Wn})),n.d(l,"sortChannelVideos",(function(){return qn})),n.d(l,"checkDisabledVideo",(function(){return zn}));var d={};n.r(d),n.d(d,"channels",(function(){return Yn})),n.d(d,"channelsWithArchives",(function(){return Kn})),n.d(d,"isChannelsLoad",(function(){return Jn})),n.d(d,"isChannelLoad",(function(){return Xn})),n.d(d,"channel",(function(){return Qn})),n.d(d,"isThereVideos",(function(){return Zn}));var f={};n.r(f),n.d(f,"topphoto",(function(){return li})),n.d(f,"skin",(function(){return di})),n.d(f,"Bcoin",(function(){return fi})),n.d(f,"isSkinLoad",(function(){return pi})),n.d(f,"isTopphotoLoad",(function(){return mi})),n.d(f,"isUploadSuccess",(function(){return hi}));var p={};n.r(p),n.d(p,"fetchZhanshiVideos",(function(){return _i})),n.d(p,"fetchXuanzeVideos",(function(){return bi})),n.d(p,"clearSelectVideos",(function(){return gi}));var m={};n.r(m),n.d(m,"submitVideos",(function(){return wi})),n.d(m,"isSubmitVideosLoad",(function(){return yi})),n.d(m,"selectVideos",(function(){return Ci}));var h={};n.r(h),n.d(h,"fetchPugv",(function(){return Si})),n.d(h,"fetchPugvList",(function(){return Li})),n.d(h,"delPugv",(function(){return xi}));var v={};n.r(v),n.d(v,"list",(function(){return ki})),n.d(v,"page",(function(){return ji})),n.d(v,"isLoading",(function(){return Ti})),n.d(v,"pugvList",(function(){return Ei})),n.d(v,"pugvPage",(function(){return $i}));n(202);var _=n(2),b=n.n(_),g=n(13);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C=new(n(191).a),P=function(t){return t?t.replace(/^https?:/g,""):""},S=function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5?arguments[5]:void 0;if(!t)return"";var o=2,s=e&&e*o||e,c=n&&n*o||n;return t.includes("gif")?P(t):P(C.getImageLink(t,Math.round(s),Math.round(c),y({o:a,q:i},r)))},L=n(15),x=n.n(L),k=n(1),j=n(0),T=n(134),E=n.n(T),O=n(192),I=n.n(O),N=n(129),A=n.n(N),R=function(t){return t.jsonp?F(t).catch((function(e){if(t.fallbackUrl)return t.url=t.fallbackUrl,F(t)})):D(t).catch((function(e){if(t.fallbackUrl)return t.url=t.fallbackUrl,D(t)}))};function F(t){return t.query.jsonp="jsonp",t.param=t.params||t.param||t.data,new Promise((function(e,n){t.url=t.query?t.url+"?"+A.a.stringify(t.query):"",t.url.indexOf("http")<0&&(t.url=window.location.protocol+t.url),I()(t.url,t,(function(t,i){if(t)return n(t);var a={code:i.code,data:i};e(a)}))}))}function D(t){return t.contentType&&(t.headers=t.headers||{},t.headers["Content-Type"]=t.contentType),t.url=t.query?t.url+"?"+A.a.stringify(t.query):t.url,E()(t)}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B=j.default.prototype.$isServer,M=n(429)("app:space.vuex.init"),G=function(t,e){var n=t.commit,i=e.mid;return R({method:"get",url:"http://api.bilibili.co/x/space/web/index",query:{mid:i},encode:!0}).then((function(t){var e=t.data,a=e.code,r=(e.status,e.data),o=e.message,s=void 0===o?"":o;if(0===a){var c=r.account,u=r.setting,l=r.archive;M("account",c),c.sign=c.sign.decodeHTML(),c.regtime=c.jointime;var d=c.official.role,f=0;0===d&&(f=-1),d>2&&(f=1),c.official_verify={type:f,desc:c.official.title,suffix:c.official.desc},c.level_info={current_level:c.level},c.vip={vipType:c.vip.type,vipStatus:c.vip.status},u.theme="default",u.toutu={l_img:c.top_photo,s_img:c.top_photo};var p=l.archives.map((function(t){return V(V({},t),{},{created:t.pubdate,play:t.stat?t.stat.view:0})}));return n(k.R,{data:c,mid:i}),n(k.pb,u),n(k.rb,{count:l.page.count,vlist:p.slice(0,10)}),""}var m=new Error(s||"404 Not Found");throw m.status=404,m}))},H=function(t,e){var n=t.commit,i=e.mid,a=e.cookie,r={method:"get",url:"//api.bilibili.com/x/space/acc/info",params:{mid:i},withCredentials:!0};return B&&(r.url="http://space.bilibili.com"+r.url,r.headers={cookie:a}),j.default.http(r).then((function(t){var e=t.data,a=e.code,r=e.data;return 0==+a?(r.sign=r.sign.decodeHTML(),n(k.R,{data:r,mid:i}),Promise.resolve()):(console.warn("getinfo failed",r),Promise.reject({message:r}))}),(function(t){return!B&&console.warn("getinfo failed",t.stack),Promise.reject(t)}))},W=function(t,e){var n=t.commit,i=e.mid,a=e.cookie,r={method:"get",url:"/ajax/settings/getSettings",params:{mid:i}};return B&&(r.url="http://space.bilibili.com"+r.url,r.headers={cookie:a,host:"space.bilibili.com"}),j.default.http(r).then((function(t){var e=t.data,i=e.status,a=e.data;return i?(n(k.pb,a),Promise.resolve()):(console.warn("getSettings failed",a),Promise.reject({message:a}))}),(function(t){return!B&&console.warn("getSettings failed",t.stack),Promise.reject(t)}))},q=function(t,e){var n=t.commit,i=e.mid,a=e.cookie;return(B?j.default.http({method:"get",url:"http://api.bilibili.com/x/space/myinfo",headers:{referer:"http://space.bilibili.com",cookie:a}}).then((function(t){return t.data})):j.default.http.jsonp("//api.bilibili.com/x/space/myinfo")).then((function(t){var e=t.code,a=t.data;return 0===e?(n(k.ab,a),n(k.Yb,a.mid===i?"owner":"visitor"),Promise.resolve()):(n(k.Z),Promise.resolve())}),(function(t){return!B&&console.warn("myinfo failed, network error",t.stack),Promise.reject(t)}))},z=function(t,e){var n=t.commit,i={vmid:e.vmid,jsonp:"jsonp"},a={method:"get",url:"//api.bilibili.com/x/playlist/whitelist",params:i};return B&&(a.url="http:"+a.url),(B?j.default.http(a).then((function(t){return t.data})):j.default.http.jsonp("//api.bilibili.com/x/playlist/whitelist",{params:i})).then((function(t){var e=t.code,i=t.data;return 0===e?(n(k.bb,{auth:i.power}),Promise.resolve()):(n(k.bb,{auth:!1}),Promise.resolve())}),(function(t){return n(k.bb,{auth:!1}),Promise.reject(t)}))},Y=function(t,e){var n=t.commit,i=e.mid,a=sessionStorage.getItem("".concat(i,"_watch_history"));null===a?j.default.http.get("/ajax/viewhistory/gethistory").then((function(t){var e=t.data,i=e.status,a=e.data;i&&("[object Array]"!==Object.prototype.toString.call(a)?n(k.Eb,[]):n(k.Eb,a.map((function(t){return t.aid}))))})):n(k.Eb,JSON.parse(a))},K=function(t,e){var n=t.commit;return j.default.http.jsonp("//api.bilibili.com/x/space/navnum",{params:e}).then((function(t){var e=t.code,i=t.message,a=t.data;return 0===e?(n(k.z,a),Promise.resolve(a)):(console.log("请求导航栏数据出错，".concat(i)),n(k.y),Promise.reject())}),(function(){return console.log("请求导航栏数据出错，网络错误"),n(k.y),Promise.reject()}))},J=function(t,e){(0,t.commit)(k.dc,e)},X=function(t,e){var n=t.commit,i=e.user_sign;j.default.http.post("//api.bilibili.com/x/member/web/sign/update",{user_sign:i}).then((function(t){var e=t.data,a=e.code,r=e.message;[61001,61002].indexOf(+a)>-1?$.getScript("//static.hdslb.com/common/js/identityDialog.js",(function(){IdentityDialog(a,r)})):0===a?n(k.Tb,i):j.default.$warn("设置签名失败，".concat(r))}),(function(){return j.default.$warn("设置签名失败")}))},Q=function(t,e){t.commit;return j.default.http.post("/ajax/report/add",e).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve():(j.default.$warn("举报失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("举报失败，网络错误"),Promise.reject()}))},Z=function(t,e){var n=t.commit;j.default.http.jsonp("//api.bilibili.com/x/space/upstat",{params:{mid:e}}).then((function(t){var e=t.code,i=t.data;0===e&&n(k.xb,i)}))},tt=function(t,e){var n=t.commit;K({commit:n},{mid:_bili_space_mid}),n(k.Xb,e)},et=function(t,e){var n=t.commit,i=e.aids;n(k.bc,i)},nt=function(t,e){var n=t.commit;return j.default.http.get("/ajax/topphoto/getlist",{params:{mid:e}}).then((function(t){return t.data.status?n(k.C,t.data.data):j.default.$warn("获取头图列表失败，".concat(t.data.data))}),(function(t){return j.default.$warn("获取头图列表失败")}))},it=function(t,e){var n=t.commit;return j.default.http.get("/ajax/skin/getlist",{params:{mid:e}}).then((function(t){return t.data.status?n(k.A,t.data.data):j.default.$warn("获取皮肤列表失败，".concat(t.data.data))}),(function(t){return j.default.$warn("获取皮肤列表失败")}))},at=function(t,e){var n=t.commit;return j.default.http.post("/ajax/topphoto/uploadTopPhotov2",{topphoto:e}).then((function(t){var e=t.data,i=e.code,a=e.message;return[61001,61002].indexOf(+i)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",(function(){IdentityDialog(i,a)})),Promise.reject()):0==+i?(W({commit:n},{mid:_bili_space_mid}),n(k.cc,a),Promise.resolve("上传成功！")):(j.default.$warn("上传自定义头图失败，".concat(a)),Promise.reject(a))}),(function(t){return j.default.$warn("上传自定义头图失败"),Promise.reject("网络连接错误，请稍后再试")}))},rt=function(t,e){t.commit;return j.default.http.post("/ajax/settings/setTheme",{id:e}).then((function(t){var e=t.data,n=e.data;return e.status?Promise.resolve():(j.default.$warn("设置主题失败，".concat(n)),Promise.reject())}),(function(t){return j.default.$warn("设置主题失败，网络错误"),Promise.reject()}))},ot=function(t,e){t.commit;return j.default.http.post("/ajax/settings/setVipFreeToutu",{id:e}).then((function(t){return t.data.status?Promise.resolve():j.default.$warn("设置免费头图失败 ".concat(t.data.data))}),(function(t){return j.default.$warn("设置免费头图失败，网络错误")}))},st=function(t,e){t.commit;return j.default.http.post("/ajax/settings/setToutu",{id:e}).then((function(t){return t.data.status?Promise.resolve():j.default.$warn("设置头图失败 ".concat(t.data.data))}),(function(t){return j.default.$warn("设置头图失败，网络错误")}))},ct=function(t,e){t.commit;var n=e.pid,i=e.type;return j.default.http.get("/ajax/".concat(i,"/getExpire"),{params:{pid:n}}).then((function(t){return t.data.status,Promise.resolve(t.data.data.expire)}),(function(t){return j.default.$warn("获取过期时间失败，网络错误")}))},ut=function(t){var e=t.commit;return j.default.http.get("/ajax/member/getBcoin").then((function(t){return t.data.status?(e(k.H,t.data.data.coin),Promise.resolve(t.data.data.coin)):j.default.$warn("获取B币失败 ".concat(t.data.data))}),(function(t){return j.default.$warn("获取B币失败，网络错误")}))},lt=function(t,e){t.commit;var n=e.id,i=e.month,a=e.type;return j.default.http.post("/ajax/".concat(a,"/buyWithCoins"),{id:n,month:i}).then((function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)}),(function(t){return j.default.$warn("支付失败，网络错误")}))},dt=function(t,e){t.commit;var n=e.id,i=e.month,a=e.type;return j.default.http.post("/ajax/".concat(a,"/buyWithB"),{id:n,month:i}).then((function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)}),(function(t){return j.default.$warn("支付失败，网络错误")}))},ft=function(t,e){t.commit;var n=e.id,i=e.month,a=e.type;return j.default.http.post("/ajax/".concat(a,"/quickBuyWithB"),{id:n,month:i}).then((function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)}),(function(t){return j.default.$warn("支付失败，网络错误")}))};function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ht=Object.keys(a),vt={name:"theme",data:function(){return{activeId:0,isCroping:!1,mallState:"toutu",x:0,y:0,w:0,h:0,buying:{step:0,type:"toutu",length:3,isEditingLength:!1},productInfo:{}}},props:{mallActive:{type:Boolean,default:!1}},filters:{toutuPrice:function(t){return 0===t.price?"免费":t.is_vip&&t.vip_free?"大会员免费":t.had?t.expire&&t.expire<7300?"剩余"+t.expire:"已购买":t.price+(0===t.coin_type?"硬":"B")+"币/月"}},computed:mt(mt({},Object(g.c)(["_bili_space_info","topphoto","isTopphotoLoad","skin","Bcoin","isSkinLoad","isUploadSuccess","_bili_login_info","isVip","isVipFrozen","isVipNormal","isVipAnnual","isVipAboutToEnd"])),{},{cost:function(){var t=+this.buying.length;return isNaN(t)?0:t*this.productInfo.price},thumbnail:function(){return void 0===this.productInfo.img?"":"//i0.hdslb.com/"+this.productInfo.img}}),methods:mt(mt({},Object(g.b)([].concat(x()(ht),["fetchInfo","fetchSettings"]))),{},{availableToutu:function(t){var e=[];return t.forEach((function(t,n){!t.had&&t.is_disable||e.push(t)})),e},preview:function(t,e,n,i){this.activeId=e,this.$emit("preview-toutu",t),"theme"===n?($("#space-body").css({"background-image":"url(//i0.hdslb.com/"+i.toWebP()+")"}),$("#app").css({"background-image":"url(//i0.hdslb.com/"+i.toWebP()+")"}),$(".h-inner").css({"background-position":"","background-size":"",transition:""})):$("#space-body").removeAttr("style"),window.scrollTo(0,0)},resetPreview:function(){$("#space-body").css({"background-image":""}),this.$emit("reset-toutu")},tab:function(t){var e=this;switch(t){case"toutu":if(this.isCroping)return;this.isTopphotoLoad||this.fetchTopphoto(_bili_space_mid),this.mallState="toutu",this.resetPreview();break;case"theme":if(this.isCroping)return void this.$confirm("您正在编辑自定义头图，确认要跳转皮肤套装？").then((function(){e.rechoose(),e.isSkinLoad||e.fetchSkin(_bili_space_mid),e.mallState="theme"}));this.isSkinLoad||this.fetchSkin(_bili_space_mid),this.mallState="theme",this.resetPreview()}this.activeId=0},rechoose:function(){this.mallState="toutu",this.isCroping=!1,$(".upload-input").val(""),$(".crop-container .preview-container").children().remove(),this.resetPreview()},close:function(){var t=this;if(this.activeId>0||"crop"===this.mallState||"upload"===this.mallState){var e;switch(this.mallState){case"toutu":e="已选择的头图";break;case"theme":e="已选择的皮肤";break;case"crop":case"upload":e="当前自定义头图"}this.$confirm("".concat(e,"还未保存，确认离开？")).then((function(){t.rechoose(),t.activeId=0,t.$emit("theme-close")})).catch((function(t){console.log(t)}))}else this.$emit("theme-close"),this.mallState="toutu",this.isCroping=!1,this.activeId=0},crop:function(t){var e=t.target.files[0],i=this;if(e.size>=20971520)this.$warn("图片大小不能超过20MB");else{var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL;a?n.e(27).then((function(){var t=[n(679),n(680)];(function(){var t,n,r=$(".h-inner"),o=a.createObjectURL(e);$("<img>").on("load",(function(){var e=$(this),a=this.width,s=this.height;function c(e){if(parseInt(e.w)>0){var o=1280/e.w,c=200/e.h,u=a/t,l=s/n;r.css({"background-position":"-"+Math.round(o*e.x)+"px -"+Math.round(c*e.y)+"px","background-size":Math.round(o*t)+"px "+Math.round(c*n)+"px"}),i.x=Math.round(u*e.x),i.y=Math.round(l*e.y),i.w=Math.round(u*e.w),i.h=Math.round(l*e.h),i.isCroping=!0}}a<1280||s<200?i.$warn("你上传的图片尺寸过小！，要求宽度至少1280像素，高度至少200像素"):(i.mallState="crop",r.css({"background-image":"url("+o+")",transition:"none"}),e.addClass("crop-target"),$(".preview-container").append(e),i.isCroping=!0,$("#space-body").removeAttr("style"),setTimeout((function(){$(".crop-target").Jcrop({onChange:c,onSelect:c,aspectRatio:6.4,bgOpacity:.4,createHandles:["nw","ne","se","sw"],dragEdges:!1,allowSelect:!1,keySupport:!1},(function(){var e=this.getBounds();t=e[0],n=e[1];var r=a/t,o=s/n,c=[];c=t/n>6.4?[(t-6.4*n)/2,0,(t+6.4*n)/2,n]:[0,(n-t/6.4)/2,t,(n+t/6.4)/2],this.setSelect(c),i.x=r*c[0],i.y=o*c[1],i.w=(c[2]-c[0])*r,i.h=(c[3]-c[1])*o}))}),0),$("#toutu-scroll-container").hide().siblings(".edit-container").show())})).attr("src",o)}).apply(null,t)})).catch(n.oe):this.$warn("对不起，你的浏览器不支持图片自定义上传，请选择Chrome等现代浏览器~")}},upload:function(){var t=this;if(this.w<1280)this.$warn("你上传的图片尺寸过小！，要求宽度至少1280像素，高度至少200像素");else{var e=$('<canvas width="1280" height="200"></canvas>')[0],n=e.getContext("2d"),i=document.querySelector(".crop-target");this.mallState="upload",this.isCroping=!1,n.drawImage(i,this.x,this.y,this.w,this.h,0,0,1280,200);var a=e.toDataURL().replace("data:image/png;base64,","");this.uploadToutu(a).then((function(e){t.rechoose(),t.$emit("theme-close"),$(".h-inner").css({"background-size":"","background-position":"",transition:""}),t.activeId=0}),(function(e){t.rechoose(),t.$emit("theme-close"),$(".h-inner").css({"background-size":"","background-position":"",transition:""}),t.activeId=0}))}},handleSetToutu:function(t){var e=this;switch(this.mallState){case"toutu":default:this.setToutu(t).then((function(t){e.fetchSettings({mid:_bili_space_mid}),e.stopBuying(),e.$emit("theme-close")}));break;case"theme":this.setTheme(t).then((function(t){e.fetchInfo({mid:_bili_space_mid}),e.stopBuying(),e.$emit("theme-close")}))}},handleBuy:function(t,e){switch(e){case"skin":this.$set(this.productInfo,"id",t.id),this.$set(this.productInfo,"type",t.s_type),this.$set(this.productInfo,"name",t.s_name),this.$set(this.productInfo,"had",t.had),this.$set(this.productInfo,"expire",t.expire),this.$set(this.productInfo,"price",t.price),this.$set(this.productInfo,"vip_free",0),this.$set(this.productInfo,"disabled",t.is_disable),this.$set(this.productInfo,"img",t.s_img);break;case"topphoto":default:this.$set(this.productInfo,"id",t.id),this.$set(this.productInfo,"type",t.coin_type),this.$set(this.productInfo,"name",t.product_name),this.$set(this.productInfo,"had",t.had),this.$set(this.productInfo,"expire",t.expire),this.$set(this.productInfo,"price",t.price),this.$set(this.productInfo,"vip_free",t.vip_free),this.$set(this.productInfo,"disabled",t.is_disable),this.$set(this.productInfo,"img",t.thumbnail_img)}1===this.productInfo.type&&this.fetchBcoin(),this.buying.type=e,this.buying.step=1},selectLength:function(t){this.buying.length=t,this.buying.isEditingLength=!1},editLength:function(){this.buying.length=void 0,this.buying.isEditingLength=!0,setTimeout((function(){document.querySelector(".theme-buy-custom-length").focus()}),10)},stopBuying:function(){this.buying.type="",this.buying.step=0,this.productInfo={},this.buying.length=3,this.buying.isEditingLength=!1},doBuy:function(){var t=this,e=this.productInfo,n=this.buying;0===this.productInfo.type&&Number(n.length)>0?this.buyWithCoin({id:e.id,month:Number(n.length),type:n.type}).then((function(i){t.fetchExpire({pid:e.id,type:n.type}).then((function(e){t.$set(t.productInfo,"new_expire",e),t.buySucceed()}))}),(function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()})):this.Bcoin>this.cost?this.quickBuyWithB({id:e.id,month:Number(n.length),type:n.type}).then((function(i){t.fetchExpire({pid:e.id,type:n.type}).then((function(e){t.$set(t.productInfo,"new_expire",e),t.buySucceed()}))}),(function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()})):this.buyWithB({id:e.id,month:Number(n.length),type:n.type}).then((function(e){new payPopup({sum:t.cost,payOrderNo:e.order_no,type:1,hasbpticket:1},(function(){this.buySucceed()}))}),(function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()}))},buySucceed:function(){this.buying.step=2,"toutu"===this.mallState?this.fetchTopphoto(_bili_space_mid):"theme"===this.mallState&&this.fetchSkin(_bili_space_mid),this.activeId=0},buyFail:function(t){this.buying.step=3},rebuy:function(){this.buying.step=1}}),watch:{mallState:function(t){this.mallActive&&("toutu"===t?rec("space_clothes_coverPage_show"):"theme"===t&&rec("space_clothes_skinPage_show"))}}},_t=(n(430),n(4)),bt=Object(_t.a)(vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t",class:{"theme-show":t.mallActive},attrs:{id:"space-theme"}},[n("div",{attrs:{id:"theme-header"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"theme-topright"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVipAboutToEnd,expression:"isVipAboutToEnd"}],staticClass:"theme-ann"},[n("span",{staticClass:"theme-ann-icon icon"}),n("span",{staticClass:"theme-ann-text"},[t._v("大会员剩余时间：\n            "),n("var",[t._v(t._s(t._bili_login_info.vip.expire>=1?t._bili_login_info.vip.expire:"不足一"))]),t._v("天")])]),n("span",{staticClass:"icon theme-close",on:{click:t.close}})]),n("div",{staticClass:"theme-tabs clearfix"},[n("span",{staticClass:"tab theme-tab",class:{active:"toutu"===t.mallState||"crop"===t.mallState||"upload"===t.mallState},attrs:{for:"theme-panel"},on:{click:function(e){return t.tab("toutu")}}},[t._v("头图")]),n("span",{staticClass:"tab theme-tab",class:{active:"theme"===t.mallState},attrs:{for:"theme-panel"},on:{click:function(e){return t.tab("theme")}}},[t._v("皮肤套装")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"toutu"===t.mallState||"crop"===t.mallState||"upload"===t.mallState,expression:"mallState === 'toutu' || mallState === 'crop' || mallState === 'upload'"}],staticClass:"theme-panel"},[n("div",{staticClass:"wrapper theme-panel-inner clearfix"},[n("be-scrollbar",{directives:[{name:"show",rawName:"v-show",value:"toutu"===t.mallState,expression:"mallState === 'toutu'"}],staticClass:"theme-list",attrs:{source:t.availableToutu(t.topphoto),name:"toutu"}},[n("ul",{staticClass:"theme-list-inner clearfix",attrs:{id:"toutu-list"}},[t.isVipNormal?n("li",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_click",expression:"'space_clothes_diyCover_click'"}],staticClass:"upload-toutu toutu-item"},[n("div",{staticClass:"upload-content"},[n("div",{staticClass:"upload-icon"}),n("div",{staticClass:"upload-tips u-tips1"},[t._v("自定义头图")]),n("div",{staticClass:"upload-tips u-tips2"},[t._v("推荐尺寸为2048*320，支持jpg、png图片")])]),n("input",{ref:"upload",staticClass:"upload-input",attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.crop}})]):t._e(),t._l(t.availableToutu(t.topphoto),(function(e){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.had||!e.is_disable,expression:"toutu.had || !toutu.is_disable"},{name:"rep",rawName:"v-rep",value:"space_clothes_cover_click",expression:"'space_clothes_cover_click'"}],staticClass:"item toutu-item",class:{active:t.activeId===e.id},style:{backgroundImage:"url(//i0.hdslb.com/"+e.l_img+")"},on:{click:function(n){return t.preview(e.l_img,e.id,"toutu")}}},[n("div",{staticClass:"toutu-detail"},[n("div",{staticClass:"toutu-meta"},[n("div",{staticClass:"toutu-title"},[t._v(t._s(e.product_name))]),n("div",{staticClass:"toutu-price"},[t._v(t._s(t._f("toutuPrice")(e)))]),n("div",{staticClass:"toutu-action"},[0===e.price||e.is_vip&&e.vip_free?n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_use_click",expression:"'space_clothes_cover_use_click'"}],staticClass:"toutu-btn use",on:{click:function(n){return t.handleSetToutu(e.id,e.vip_free)}}},[t._v("使用")]):[e.had?n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_use_click",expression:"'space_clothes_cover_use_click'"}],staticClass:"toutu-btn use",on:{click:function(n){return t.handleSetToutu(e.id,e.vip_free)}}},[t._v("使用")]):t._e(),e.had&&!e.is_disable?n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_buy_click space_clothes_skinDetails_click",expression:"'space_clothes_cover_buy_click space_clothes_skinDetails_click'"}],staticClass:"toutu-btn buy",on:{click:function(n){return t.handleBuy(e,"topphoto")}}},[t._v("续费")]):t._e(),e.had?t._e():n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_buy_click space_clothes_skinDetails_click",expression:"'space_clothes_cover_buy_click space_clothes_skinDetails_click'"}],staticClass:"toutu-btn buy",on:{click:function(n){return t.handleBuy(e,"topphoto")}}},[t._v("购买")])]],2)])]),t.isVip&&1===e.vip_free?n("span",{directives:[{name:"show",rawName:"v-show",value:t.activeId!==e.id,expression:"activeId !== toutu.id"}],staticClass:"vip-icon"}):t._e(),n("span",{staticClass:"selected-icon"})])}))],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"crop"===t.mallState||"upload"===t.mallState,expression:"mallState === 'crop' || mallState === 'upload'"}],staticClass:"edit-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"crop"===t.mallState,expression:"mallState === 'crop'"}],staticClass:"crop-container"},[n("div",{staticClass:"preview-container"}),n("div",{staticClass:"option-pane"},[n("span",{staticClass:"rechoose",on:{click:t.rechoose}},[t._v("重新选择")]),n("span",{staticClass:"upload-size"},[t._v("推荐头图大小为：2048x320")])]),n("be-button-group",[n("be-button",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_confirm_click",expression:"'space_clothes_diyCover_confirm_click'"}],attrs:{type:"primary"},nativeOn:{click:function(e){return t.upload(e)}}},[t._v("确定")]),n("be-button",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_back_Bclick",expression:"'space_clothes_diyCover_back_Bclick'"}],nativeOn:{click:function(e){return t.rechoose(e)}}},[t._v("返回")])],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"upload"===t.mallState,expression:"mallState === 'upload'"}],staticClass:"uploading-container"},[t._m(0)])])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"theme"===t.mallState,expression:"mallState === 'theme'"}],staticClass:"theme-panel"},[n("div",{staticClass:"wrapper theme-panel-inner clearfix"},[t.isSkinLoad?n("be-scrollbar",{staticClass:"theme-list",attrs:{source:t.skin,id:"theme-scroll-container"}},[n("ul",{staticClass:"theme-list-inner clearfix"},t._l(t.skin,(function(e){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.had||!e.is_disable,expression:"theme.had || !theme.is_disable"},{name:"rep",rawName:"v-rep",value:"space_clothes_skin_click",expression:"'space_clothes_skin_click'"}],staticClass:"item theme-item-outer",on:{click:function(n){return t.preview(e.toutu,e.id,"theme",e.bgimg)}}},[n("div",{staticClass:"item theme-item",class:{active:t.activeId===e.id},style:{backgroundImage:"url(//i0.hdslb.com/"+e.s_img+")"}},[n("div",{staticClass:"theme-item-active-icon icon"}),n("div",{staticClass:"theme-name"},[t._v(t._s(e.s_name))]),n("div",{staticClass:"theme-price"},[e.expire?n("span",[t._v("剩余"+t._s(t._f("format_expiretime")(e.expire)))]):n("span",[t._v(t._s(e.price)+t._s(0===e.s_type?"硬":"B")+"币/月")])]),n("div",{staticClass:"theme-action"},[e.had?[n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skin_use_click space_clothes_skinDetails_click",expression:"'space_clothes_skin_use_click space_clothes_skinDetails_click'"}],staticClass:"theme-btn use",on:{click:function(n){return t.handleSetToutu(e.id)}}},[t._v("使用")]),e.is_disable?t._e():n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skinDetails_click",expression:"'space_clothes_skinDetails_click'"}],staticClass:"theme-btn renew",on:{click:function(n){return t.handleBuy(e,"skin")}}},[t._v("续费")])]:n("span",{staticClass:"theme-btn buy",on:{click:function(n){return t.handleBuy(e,"skin")}}},[t._v("购买")])],2)])])})),0)]):t._e()],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.buying.step>0,expression:"buying.step > 0"}],staticClass:"theme-buy-layer",attrs:{id:"theme-buy-layer"}},[n("div",{staticClass:"theme-buy-layer-wrapper",attrs:{id:"theme-buy-layer-wrapper"}},[n("div",{staticClass:"theme-buy-close",attrs:{action:"close"},on:{click:t.stopBuying}}),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.buying.step,expression:"buying.step === 1"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-select-length"}},[n("div",{staticClass:"theme-buy-header"},[n("img",{staticClass:"theme-buy-preview",attrs:{src:t.thumbnail}}),n("p",{staticClass:"theme-buy-name"},[t._v(t._s(t.productInfo.product_name))]),t.productInfo.expire>0?n("p",{staticClass:"theme-buy-current-expire-time"},[t._v("剩余"+t._s(t._f("format_expiretime")(t.productInfo.expire)))]):t._e()]),n("div",{staticClass:"theme-buy-body"},[n("p",{staticClass:"theme-buy-a"},[t._v("购买月份")]),n("div",{staticClass:"theme-buy-list clearfix"},[n("div",{staticClass:"theme-buy-item",class:{active:3===t.buying.length},on:{click:function(e){return t.selectLength(3)}}},[t._v("3个月")]),n("div",{staticClass:"theme-buy-item",class:{active:2===t.buying.length},on:{click:function(e){return t.selectLength(2)}}},[t._v("2个月")]),n("div",{staticClass:"theme-buy-item",class:{active:1===t.buying.length},on:{click:function(e){return t.selectLength(1)}}},[t._v("1个月")]),n("div",{staticClass:"theme-buy-item custom"},[t.buying.isEditingLength?n("input",{directives:[{name:"model",rawName:"v-model",value:t.buying.length,expression:"buying.length"}],staticClass:"theme-buy-custom-length space_input",attrs:{type:"text"},domProps:{value:t.buying.length},on:{input:function(e){e.target.composing||t.$set(t.buying,"length",e.target.value)}}}):n("span",{staticClass:"hideit",on:{click:t.editLength}},[t._v("自定义")])])]),n("div",{staticClass:"theme-buy-price"},[0===t.productInfo.type?n("div",[t._v("你的余额为 "+t._s(t._bili_space_info.coins)+" 硬币，需要支付\n              "),n("var",[t._v(t._s(t.cost))]),t._v(" 硬币")]):n("div",[n("span",{staticClass:"theme-bb-span"},[t._v("你的余额为\n                "),n("span",{staticClass:"theme-bb"},[t._v(t._s(t.Bcoin))]),t._v(" B币，")]),t._v("需要支付\n              "),n("var",[t._v(t._s(t.cost))]),t._v(" B币\n            ")])])]),n("div",{staticClass:"theme-buy-footer"},[0===t.productInfo.type&&t._bili_space_info.coins>=t.cost||1===t.productInfo.type?n("a",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skin_confirm_click",expression:"'space_clothes_skin_confirm_click'"}],staticClass:"theme-buy-layer-btn theme-buy-submit-btn",on:{click:t.doBuy}},[t._v("确认"+t._s(t.productInfo.expire>0?"续费":"购买"))]):n("span",{staticClass:"theme-buy-layer-btn theme-buy-submit-btn disabled"},[t._v("硬币余额不足")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:2===t.buying.step,expression:"buying.step === 2"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-success"}},[n("div",{staticClass:"theme-buy-body"},[n("div",{staticClass:"theme-buy-success-icon"}),n("div",{staticClass:"theme-buy-result-title"},[t._v("恭喜，支付成功！")]),n("div",{staticClass:"theme-buy-result-info"},[t._v("\n            你已成功\n            "),0===t.productInfo.expire?n("span",{staticClass:"theme-buy-action-type",attrs:{id:"theme-buy-gm"}},[t._v("购买")]):n("span",{staticClass:"theme-buy-action-type",attrs:{id:"theme-buy-xf"}},[t._v("续费")]),n("span",{staticClass:"theme-buy-g-name"},[t._v(t._s(t.productInfo.name))])]),n("div",{staticClass:"theme-buy-result-info"},[n("span",{staticClass:"theme-buy-expire-time"},[t._v(t._s(t._f("format_date")(t.productInfo.new_expire)))]),t._v(" 到期")])]),n("be-button-group",{staticClass:"theme-buy-footer"},[n("be-button",{staticClass:"theme-buy-layer-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleSetToutu(t.productInfo.id)}}},[t._v("立即使用")]),n("be-button",{staticClass:"theme-buy-layer-btn",nativeOn:{click:function(e){return t.stopBuying(e)}}},[t._v("确认")])],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:3===t.buying.step,expression:"buying.step === 3"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-fail"}},[n("div",{staticClass:"theme-buy-body"},[n("div",{staticClass:"theme-buy-fail-icon"}),n("div",{staticClass:"theme-buy-result-title"},[t._v("支付未完成")]),n("div",{staticClass:"theme-buy-result-info"},[t._v("你还没有完成购买\n            "),n("span",{staticClass:"theme-buy-g-name"},[t._v(t._s(t.productInfo.name))]),t._v(" 哦")]),n("div",{staticClass:"theme-buy-result-info"},[t._v("原因：\n            "),n("span",{staticClass:"theme-buy-order-id"},[t._v(t._s(t.productInfo.failure_reason))])]),n("div",{staticClass:"theme-buy-fail-bg"})]),n("be-button-group",{staticClass:"theme-buy-footer"},[n("be-button",{staticClass:"theme-buy-layer-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.rebuy(e)}}},[t._v("重新支付")])],1)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uploading"},[e("div",{staticClass:"upload-content"},[e("div",{staticClass:"loading-icon loading"},[e("img",{attrs:{src:"//static.hdslb.com/spacev2/2/img/loading.png"}})]),e("div",{staticClass:"loading-text"},[this._v("上传中...")])])])}],!1,null,null,null).exports,gt={name:"notice",props:["content","link"],computed:{noticLink:function(){return this.link?this.link:"javascript:;"}}};n(431);function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ct={name:"common-header",data:function(){return{incr:null,decr:null,frame:0,themeShow:!1,previewToutuImg:"",modeChanging:!1,hasEditedSign:!1,edittingSign:"",report:{show:!1,checked:[],items:[{id:1,text:"头像违规"},{id:2,text:"昵称违规"},{id:3,text:"签名违规"}]}}},components:{vTheme:bt,notice:Object(_t.a)(gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-notice"},[n("i",{staticClass:"icon-notice"}),n("a",{class:{linkType:t.link},attrs:{target:t.link?"_blank":"",href:t.noticLink}},[t._v(t._s(t.content))]),t.link?n("i",{staticClass:"link"}):t._e()])}),[],!1,null,"411dcdee",null).exports},mounted:function(){this.edittingSign=this._bili_space_info.sign,this.avatar||(this._bili_space_info.face&&this.isNavLoad?this.avatar=this._bili_space_info.face.toWebP():this.avatar="//static.hdslb.com/images/member/noface.gif")},methods:yt(yt(yt({},Object(g.d)(["GET_ACCRELATION_SUCCESS"])),Object(g.b)(["toggleSpaceState","setSign","reportUper","fetchTopphoto","fetchRelationsList","fetchMyInfo","modifyRelations","fetchBeRelation"])),{},{handleDropdownSelect:function(t){switch(t){case"setGroup":this.handleSetGroup();break;case"unfollow":this.handleUnfollow();break;case"ban":this.handleBan();break;case"silently":this.handleSilentlyFollow();break;case"report":this.handleReportUper()}},handleSetGroup:function(){var t=this;$.getScript("//static.hdslb.com/common/js/followGroupDialog.js",(function(){window.followGroupDialog(_bili_space_mid,t._bili_space_info.name,{title:"设置分组",onSubmitError:function(e){$(".follow-dialog-wrap").remove(),t.$warn("加入分组失败，".concat(e))},onLoadTagsError:function(e){t.$warn("获取所有标签列表失败，".concat(e))},onLoadRelationError:function(e){t.$warn("获取标签列表失败，".concat(e))},onAddTagError:function(e){t.$warn("添加分组失败，".concat(e))},onSubmitSuccess:function(){setTimeout((function(){t.fetchBeRelation(_bili_space_mid).then((function(e){t.GET_ACCRELATION_SUCCESS(e)}))}),800),t.$toast("加入分组成功(ง •̀_•́)ง")}})}))},handleUnfollow:function(){var t=this;_bili_space_mid!==this._bili_login_info.mid?(rec("space_alert_unsubscribe_confirm"),this.modifyRelations({mid:_bili_space_mid,act:1===this.attribute?4:2}).then((function(){"owner"!==t._bili_space_state&&"fans"===t.$route.name&&setTimeout((function(){t.fetchRelationsList({params:{vmid:_bili_space_mid,pn:1,ps:20},type:"followers"})}),800),t.$toast("取消关注成功！")}))):this.$warn("不能取消关注你自己哦~")},handleBan:function(){var t=this;_bili_space_mid===_bili_space_mymid?this.$toast("你无法拉黑自己哦"):this.attribute>=128?this.removeFromBan():this.$confirm("拉黑该用户之后，将自动解除关注关系，并禁止他关注我以及与我互动").then((function(){t.modifyRelations({mid:_bili_space_mid,act:5}).then((function(){setTimeout((function(){t.fetchMyInfo({vmid:t._bili_space_mymid,mid:t._bili_space_mid})}),800),t.$toast("添加黑名单成功！")}))}))},handleSilentlyFollow:function(){var t=this,e=this.attribute;1===e?rec("unvisible_follow_cancel"):rec("unvisible_follow_click"),this.modifyRelations({mid:_bili_space_mid,act:1===e?4:3}).then((function(){t.$toast(1===e?"取消悄悄关注成功！":"悄悄关注成功！")}),(function(t){console.log(t)}))},handleReportUper:function(){this.report.show=!0},handleCheckReport:function(t){var e=this.report.checked.indexOf(t);e>-1?this.report.checked.splice(e,1):this.report.checked.push(t)},removeFromBan:function(){var t=this;this.modifyRelations({mid:_bili_space_mid,act:6}).then((function(){t.$toast("移除黑名单成功！")}))},handleFollow:function(){if(0===this._bili_login_info.mid){var t=this;window.UserStatus&&window.UserStatus.quickLogin((function(){t.fetchBeRelation(_bili_space_mid).then((function(e){var n=e.be_relation,i=e.relation;(n&&2==+n.attribute||0==+i.attribute)&&(t.modifyRelations({mid:_bili_space_mid,act:1}).then((function(){t.$toast("关注成功！")})),rec("space_followButton_click")),setTimeout((function(){window.location.reload()}),500)})).catch((function(){window.location.reload()}))}))}else _bili_space_mid===this._bili_login_info.mid?this.$warn("你时时刻刻都在关注你自己~"):(this.modifyRelationsEvent(),rec("space_followButton_click"))},modifyRelationsEvent:function(){var t=this;this.modifyRelations({mid:_bili_space_mid,act:1}).then((function(){"owner"!==t._bili_space_state&&"fans"===t.$route.name&&setTimeout((function(){t.fetchRelationsList({params:{vmid:_bili_space_mid,pn:1,ps:20},type:"followers"})}),800),t.handleSetGroup()}))},changeSpaceMode:function(t){switch(this.toggleSpaceState(t),t){case"visitor":rec("space_switchNewVisitorViewButton_click");break;case"fans":rec("space_switchFansViewButton_click")}this.modeChanging=!0,this.$router.push({name:"index"})},closeGuestMode:function(){_bili_space_mid===_bili_space_mymid&&(this.modeChanging=!this.modeChanging,this.toggleSpaceState("owner"),"index"===this.$route.name?window.location.reload():this.$router.push({name:"index"}))},themeTriggerEnter:function(t){var e=this;clearInterval(this.incr),this.decr=setInterval((function(){t.target.style.backgroundPosition=-58*e.frame+++"px 0px",e.frame>=10&&clearInterval(e.decr)}),1e3/60)},themeTriggerLeave:function(t){var e=this;clearInterval(this.decr),this.incr=setInterval((function(){t.target.style.backgroundPosition=-58*--e.frame+"px 0px",e.frame<=0&&clearInterval(e.incr)}),1e3/60)},themeToggle:function(){this.themeShow=!this.themeShow,!1===this.isTopphotoLoad&&this.fetchTopphoto(_bili_space_mid)},editSign:function(){this.edittingSign!==this._bili_space_info.sign&&this.setSign({user_sign:this.edittingSign})},previewToutu:function(t){this.previewToutuImg=t},resetToutu:function(){var t=this,e=this._bili_space_info,n=this._bili_space_settings,i=e.theme.id?e.theme.top_photo:n.toutu.l_img;this.previewToutuImg="//static.hdslb.com/images/transparent.gif",this.$nextTick((function(){t.previewToutuImg="",void 0!==i&&$(".h-inner").css({"background-size":"","background-position":"",transition:""})}))},confirm:function(){var t=this,e=this.report.checked;0!==e.length?(this.report.show=!1,this.reportUper({mid:_bili_space_mid,reason:e.join(",")}).then((function(){t.$toast("举报成功！")}))):this.$warn("请至少选择一项作为举报内容")},cancel:function(){this.report.show=!1}}),computed:yt(yt({},Object(g.c)(["_bili_space_mid","_bili_space_mymid","_bili_space_is_login","_bili_space_info","_bili_space_settings","_bili_space_state","_bili_space_vip","_bili_login_info","isNavLoad","isVip","isVipFrozen","isVipNormal","isVipAnnual","isFoolsDay","isTopphotoLoad","attribute","accRelation","_bili_space_notice"])),{},{curState:function(){switch(this._bili_space_state){case"owner":return"我自己";case"fans":return"粉丝";case"visitor":return"游客"}},silentlyFollowPrefix:function(){switch(this.attribute){case 1:return"取消";case 2:return"转为";default:return""}},toutu:function(){var t=this._bili_space_settings,e=this.previewToutuImg.length>0?this.previewToutuImg:"default"===t.theme?t.toutu.l_img:t.theme.toutu;if(void 0!==e&&this.isNavLoad){if("//static.hdslb.com/images/transparent.gif"===e)return"//static.hdslb.com/images/transparent.gif";if(-1!==e.indexOf("http"))return"url(".concat(S(e,1100,200),")");var n="//i0.hdslb.com/".concat(e);return"url(".concat(S(n,1100,200),")")}return""},avatar:function(){return this._bili_space_info.face&&this.isNavLoad?String(this._bili_space_info.face).replace(/https?:/,""):"//static.hdslb.com/images/member/noface.gif"},gender:function(){var t="";switch(this._bili_space_info.sex){case"男":t="male";break;case"女":t="female";break;default:t=""}return t},authType:function(){var t=this._bili_space_info.official.role,e="";return[1,2,7].includes(t)?e+="personal-auth":[3,4,5,6].includes(t)?e+="organization-auth":2==+this._bili_space_vip.avatar_subscript?e+="fools-vip":1==+this._bili_space_vip.avatar_subscript&&(e+="no-auth"),e},authTitle:function(){var t=this._bili_space_info.official.role;return[1,2,7].includes(t)?"个人认证":[3,4,5,6].includes(t)?"机构认证":this.isVipNormal?this._bili_space_vip.label.text:void 0},vipName:function(){return this.isVipNormal?this._bili_space_vip.label.text:""},vipClass:function(){var t="";return this.isFoolsDay&&(t+="fools-day"),t},btnState:function(){var t=this.accRelation,e=t.relation,n=t.beRelation;return n&&2==+n.attribute||0===this._bili_login_info.mid||this._bili_login_info.mid===this._bili_space_mid&&"owner"!==this._bili_space_state?"关注":1===e.special&&6!==e.attribute?"特别关注":{0:"关注",1:"已关注",2:"已关注",6:"已互粉"}[e.attribute]},specialBtn:function(){var t=this.accRelation.relation;return 1===t.special&&6!==t.attribute},isFollowBack:function(){var t=this.accRelation.beRelation;return t&&2==+t.attribute}})},Pt=(n(432),Object(_t.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h"},[n("div",{staticClass:"wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1===t._bili_space_info.silence,expression:"_bili_space_info.silence === 1"}],staticClass:"h-forbid"},[t._m(0)]),t._bili_space_notice.content?n("notice",{attrs:{content:t._bili_space_notice.content,link:t._bili_space_notice.url}}):t._e(),n("div",{staticClass:"h-inner",style:{backgroundImage:t.toutu}},[n("div",{staticClass:"h-gradient"}),n("div",{staticClass:"h-user"},[n("div",{staticClass:"h-info clearfix"},[n("div",{staticClass:"h-avatar"},[n("img",{attrs:{src:t._f("coversize")(t.avatar,"64x64"),id:"h-avatar"}}),"owner"===t._bili_space_state?n("a",{directives:[{name:"rep",rawName:"v-rep",value:"avatar_update_click",expression:"'avatar_update_click'"}],staticClass:"avatar-cover",attrs:{target:"_blank",href:"https://account.bilibili.com/account/face/upload"}},[t._v("更换头像")]):t._e(),n("span",{staticClass:"user-auth-subscript avatar-m",class:t.authType,attrs:{title:t.authTitle}})]),n("div",{staticClass:"h-basic"},[n("div",{},[n("span",{attrs:{id:"h-name"}},[t._v(t._s(t._bili_space_info.name))]),n("span",{directives:[{name:"show",rawName:"v-show",value:""!==t._bili_space_info.description,expression:"_bili_space_info.description !== ''"}],staticClass:"icon",attrs:{id:"h-ceritification"}}),n("span",{staticClass:"icon gender",class:t.gender,attrs:{id:"h-gender"}}),n("a",{staticClass:"h-level m-level",attrs:{href:"//www.bilibili.com/html/help.html#k",target:"_blank",lvl:t._bili_space_info.level}}),n("a",{directives:[{name:"show",rawName:"v-show",value:t.isVipNormal,expression:"isVipNormal"}],staticClass:"h-vipType",class:t.vipClass,attrs:{href:"//account.bilibili.com/account/big",target:"_blank"}},[t._v(t._s(t.vipName))]),t._bili_space_info.fans_badge?n("a",{directives:[{name:"rep",rawName:"v-rep",value:"fans_medal_click",expression:"'fans_medal_click'"}],staticClass:"h-fans-icon",attrs:{href:"//www.bilibili.com/blackboard/help.html#粉丝勋章",target:"_blank"}},[n("span",{staticClass:"h-fans-text"},[t._v("粉")]),t._m(1)]):t._e()]),n("div",{staticClass:"h-basic-spacing"},[n("h4",{directives:[{name:"show",rawName:"v-show",value:!t.isNavLoad||"owner"!==t._bili_space_state,expression:"!isNavLoad || _bili_space_state !== 'owner'"}],staticClass:"h-sign",attrs:{title:t._bili_space_info.sign}},[t._v("\n                "+t._s(t._bili_space_info.sign)+"\n              ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.edittingSign,expression:"edittingSign"},{name:"show",rawName:"v-show",value:t.isNavLoad&&"owner"===t._bili_space_state,expression:"isNavLoad && _bili_space_state === 'owner'"}],staticClass:"space_input",attrs:{id:"h-sign",type:"text",placeholder:"编辑个性签名",maxlength:"60"},domProps:{value:t.edittingSign},on:{blur:t.editSign,input:function(e){e.target.composing||(t.edittingSign=e.target.value)}}})])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"owner"===t._bili_space_state,expression:"_bili_space_state === 'owner'"},{name:"rep",rawName:"v-rep",value:"space_clothes_click",expression:"'space_clothes_click'"}],staticClass:"space-theme-trigger icon",attrs:{title:"更换皮肤"},on:{mouseenter:t.themeTriggerEnter,mouseleave:t.themeTriggerLeave,click:t.themeToggle}}),"owner"===t._bili_space_state?n("be-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.modeChanging,expression:"!modeChanging"}],staticClass:"h-version",on:{select:t.changeSpaceMode}},[n("div",{staticClass:"h-v-btn popup-select",attrs:{slot:"trigger"},slot:"trigger"},[t._v("\n          视角：\n          "),n("span",{staticClass:"h-version-state"},[t._v(t._s(t.curState))]),n("span",{staticClass:"h-role-icon d-arrow d-arrow-dark"})]),n("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[n("be-dropdown-item",{attrs:{name:"visitor"}},[t._v("新访客")]),n("be-dropdown-item",{attrs:{name:"fans"}},[t._v("我的粉丝")])],1)],1):t._e(),"owner"!==t._bili_space_state?n("div",{staticClass:"h-action"},[0===t.attribute?n("span",{staticClass:"h-f-btn h-follow",on:{click:t.handleFollow}},[n("i",{class:{"icon-back-follow":t.isFollowBack}}),t._v(t._s(t.btnState)+"\n        ")]):t._e(),[2,6].indexOf(t.attribute)>-1?n("be-dropdown",{staticClass:"h-f-btn h-unfollow",class:{special:t.specialBtn},attrs:{trigger:"hover"},on:{select:t.handleDropdownSelect}},[n("div",{attrs:{slot:"trigger"},slot:"trigger"},[n("i",{staticClass:"h-f-icon"}),t._v(t._s(t.btnState)+"\n            "),n("span",{staticClass:"icon icon-arrow"})]),n("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[n("be-dropdown-item",{attrs:{name:"setGroup"}},[t._v("设置分组")]),n("be-dropdown-item",{attrs:{name:"unfollow"}},[t._v("取消关注")])],1)],1):t._e(),1===t.attribute?n("span",{staticClass:"h-f-btn h-unfollow",on:{click:t.handleUnfollow}},[n("i",{staticClass:"h-f-icon"}),t._v("已悄悄关注\n        ")]):t._e(),t.attribute>=128?n("span",{staticClass:"h-f-btn h-unfollow",on:{click:t.removeFromBan}},[n("i",{staticClass:"h-f-icon"}),t._v("移除黑名单\n        ")]):t._e(),n("a",{directives:[{name:"rep",rawName:"v-rep",value:"space_chatButton_click",expression:"'space_chatButton_click'"}],staticClass:"h-f-btn h-message",attrs:{href:"//message.bilibili.com/#whisper/mid"+t._bili_space_info.mid,target:"_blank"}},[t._v("发消息")]),n("be-dropdown",{staticClass:"h-add-to-black",attrs:{trigger:"hover"},on:{select:t.handleDropdownSelect}},[n("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[n("be-dropdown-item",{attrs:{name:"ban"}},[t._v(t._s(t.attribute>=128?"移除":"加入")+"黑名单")]),n("be-dropdown-item",{attrs:{name:"silently"}},[t._v(t._s(t.silentlyFollowPrefix)+"悄悄关注")]),n("be-dropdown-item",{attrs:{name:"report"}},[t._v("个人信息举报")])],1)],1)],1):t._e()],1)],1),n("transition",{attrs:{name:"zoom"}},["owner"!==t._bili_space_state&&t.modeChanging?n("div",{staticClass:"h-guest-hint"},[t._v("\n      这是我的空间在"+t._s("fans"===t._bili_space_state?"我的粉丝":"新访客")+"眼中的样子\n      "),n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_finsihButton_click",expression:"'space_finsihButton_click'"}],staticClass:"h-v-host",on:{click:t.closeGuestMode}},[t._v("关闭预览")])]):t._e()]),t.isNavLoad?n("v-theme",{attrs:{"mall-active":t.themeShow},on:{"theme-close":function(e){t.themeShow=!1},"preview-toutu":t.previewToutu,"reset-toutu":t.resetToutu}}):t._e(),n("modal",{attrs:{show:t.report.show},on:{confirm:t.confirm,cancel:t.cancel}},[n("template",{slot:"title"},[t._v("个人信息举报")]),n("div",{staticClass:"report-popup",attrs:{slot:"body"},slot:"body"},[n("p",{staticClass:"report-popup-tip"},[t._v("举报内容（可多选）")]),n("ul",{staticClass:"report-popup-list clearfix"},t._l(t.report.items,(function(e){return n("li",{staticClass:"report-popup-item",class:{checked:t.report.checked.indexOf(e.id)>-1},on:{click:function(n){return t.handleCheckReport(e.id)}}},[n("em",{staticClass:"report-popup-item-checkbox"}),n("span",{staticClass:"report-popup-item-text"},[t._v(t._s(e.text))])])})),0)])],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"f-wrap"},[e("i",{staticClass:"f-icon"}),e("span",{staticClass:"f-txt"},[this._v("该账号封禁中")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fans-hover-tip"},[e("span",{staticClass:"tip-inner"},[this._v("已开通专属粉丝勋章")])])}],!1,null,null,null).exports);function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xt={data:function(){return{keyword:"",activePage:"index",currentPage:"index"}},mounted:function(){this.activePage=this.currentPage=this.getPath(this.$route)},methods:{slideTo:function(t){this.activePage=t},slideOut:function(){this.activePage=this.currentPage},getPath:function(t){var e=t.path.split("/")[2];return e&&""!==e?e:"index"},activeSearch:function(t){this.doSearch()},deactiveSearch:function(){var t=this;setTimeout((function(){t.keyword=""}),200)},doSearch:function(){var t=this.keyword;0!==t.length&&(window._search_keyword=t,rec("space_index_searchButton_click"),this.$router.push({name:"video",query:{keyword:t}}))},clickSetting:function(){var t="";switch(this.$route.name){case"index":case"follow":case"fans":case"ban":case"404":t="index";break;case"video":t="video";break;case"channelList":case"channelDetail":t="channel";break;case"favlist":t="favlist";break;case"bangumi":case"subscribe":case"cinema":t="subs";break;case"qzIndex":case"qzThreads":case"qzReplys":case"qzFav":t="qz";break;case"setting":t="settings"}rec("space_navigation_settings_click",{refertab:t})},navRec:function(t){var e=this.$route.name,n=this._bili_space_nav,i={};switch(e){case"index":case"follow":case"fans":case"ban":case"playlist":case"404":i.refertab="index";break;case"video":i.refertab="video";break;case"channelList":case"channelDetail":i.refertab="channel";break;case"favlist":i.refertab="favlist";break;case"bangumi":case"subscribe":case"cinema":i.refertab="subs";break;case"qzIndex":case"qzThreads":case"qzReplys":case"qzFav":i.refertab="qz";break;case"setting":i.refertab="settings"}switch(t){case"videoPage":i.tabnum=n.video;break;case"channelPage":i.tabnum="owner"===this._bili_space_state?n.channel.master:n.channel.guest;break;case"favlist":i.tabnum="owner"===this._bili_space_state?n.favourite.master:this._bili_space_settings.privacy.fav_video?n.favourite.guest:-1}"pugv"===t?rec("space_pugv_click",{up_mid:this._bili_space_mid}):rec("space_navigation_".concat(t,"_click"),i)}},filters:{overK:function(t){return void 0===t?0:t<1e3?t:"999+"},likeTitle:function(t){var e=String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return t+","}));return"视频、动态、专栏累计获赞".concat(e)},archiveTitle:function(t){var e=String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return t+","}));return"截止昨天，播放数总计为".concat(e)},articleTitle:function(t){var e=String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return t+","}));return"截止昨天，阅读数总计为".concat(e)}},computed:Lt(Lt({},Object(g.c)(["_bili_space_mid","_bili_space_info","_bili_space_state","_bili_space_settings","_bili_space_nav","isNavLoad","relations","isPlaylistAuthed","playNumber"])),{},{isTabShow:function(){var t={},e=this._bili_space_settings.privacy,n=this._bili_space_state;return t.video="owner"===n||1===e.channel||1===e.submited_video,t.subs="owner"===n||1===e.bangumi||1===e.tags,t.fav="owner"===n||1===e.fav_video,t.qz="owner"===n||1===e.groups,t.setting="owner"===n,t},subscribeLink:function(){var t=this._bili_space_nav,e=this._bili_space_settings.privacy,n=+t.bangumi,i=(t.tag,+t.cinema),a=this._bili_space_mid;return"owner"!==this._bili_space_state?e.bangumi&&n>0?"/".concat(a,"/bangumi"):e.bangumi&&i>0?"/".concat(a,"/cinema"):"/".concat(a,"/subs"):"/".concat(a,0!==n?"/bangumi":0!==i?"/cinema":"/subs")}}),watch:{$route:function(t){var e=this.getPath(t);this.activePage=this.currentPage=e}}};function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tt={name:"common-nav",mixins:[xt],data:function(){return{cursorStyle:{width:"0px",left:"0px"}}},mounted:function(){this.fetchRelationNumbers(_bili_space_mid),this.getUpStat(_bili_space_mid),this.getCursorStyle()},methods:jt(jt({},Object(g.b)(["fetchRelationNumbers","getUpStat"])),{},{getCursorStyle:function(){var t=this;this.$nextTick((function(){if(void 0!==t.activePage){var e=document.querySelector("#navigator .n-btn.n-"+t.activePage);t.cursorStyle.width=e.clientWidth+"px",t.cursorStyle.left=e.offsetLeft+"px"}}))}}),watch:{_bili_space_nav:function(t){t&&this.getCursorStyle()},isNavLoad:function(t){t&&this.getCursorStyle()},activePage:function(t){this.getCursorStyle()}}},Et=(n(433),Object(_t.a)(Tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"n",attrs:{id:"navigator"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"n-inner clearfix",on:{mouseleave:t.slideOut}},[n("div",{staticClass:"n-tab-links"},[n("router-link",{staticClass:"n-btn n-index n-fans n-404",class:{active:["index","","fans","404"].indexOf(t.currentPage)>-1},attrs:{to:{name:"index"}},nativeOn:{mouseover:function(e){return t.slideTo("index")},click:function(e){return t.navRec("index")}}},[n("span",{staticClass:"iconfont icon-ic_home"}),n("span",{staticClass:"n-text"},[t._v("主页")])]),n("router-link",{staticClass:"n-btn n-dynamic",class:{active:["dynamic"].indexOf(t.currentPage)>-1},attrs:{to:{name:"dynamic"}},nativeOn:{mouseover:function(e){return t.slideTo("dynamic")},click:function(e){return t.navRec("dynamicPage")}}},[n("span",{staticClass:"iconfont icon-ic_following"}),n("span",{staticClass:"n-text"},[t._v("动态")])]),n("router-link",{staticClass:"n-btn n-video n-audio n-article n-album",class:{active:["video","audio","article","album"].indexOf(t.currentPage)>-1},attrs:{to:{name:"video"}},nativeOn:{mouseover:function(e){return t.slideTo("video")},click:function(e){return t.navRec("videoPage")}}},[n("span",{staticClass:"iconfont icon-ic_video"}),n("span",{staticClass:"n-text"},[t._v("投稿")]),n("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.video+t._bili_space_nav.article+t._bili_space_nav.album+t._bili_space_nav.audio)))])]),t.isPlaylistAuthed?n("router-link",{staticClass:"n-btn n-playlist",class:{active:["playlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"playlistList"}},nativeOn:{mouseover:function(e){return t.slideTo("playlist")},click:function(e){return t.navRec("playlistPage")}}},[n("span",{staticClass:"iconfont icon-ic_playlist"}),n("span",{staticClass:"n-text"},[t._v("播单")]),n("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.playlist)))])]):t._e(),n("router-link",{staticClass:"n-btn n-channel",class:{active:["channel"].indexOf(t.currentPage)>-1},attrs:{to:{name:"channelList"}},nativeOn:{mouseover:function(e){return t.slideTo("channel")},click:function(e){return t.navRec("channelPage")}}},[n("span",{staticClass:"iconfont icon-ic_channel"}),n("span",{staticClass:"n-text"},[t._v("频道")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.channel.master:t._bili_space_nav.channel.guest))+"\n          ")])]),t._bili_space_nav.pugv?n("router-link",{staticClass:"n-btn n-pugv",class:{active:["pugv"].indexOf(t.currentPage)>-1},attrs:{to:{name:"pugv"}},nativeOn:{mouseover:function(e){return t.slideTo("pugv")},click:function(e){return t.navRec("pugv")}}},[n("span",{staticClass:"iconfont icon-ic_class1"}),n("span",{staticClass:"n-text"},[t._v("课程")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")(t._bili_space_nav.pugv))+"\n          ")])]):t._e(),t.isTabShow.fav?n("router-link",{staticClass:"n-btn n-favlist",class:{active:["favlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"fav"}},nativeOn:{mouseover:function(e){return t.slideTo("favlist")},click:function(e){return t.navRec("favlist")}}},[n("span",{staticClass:"iconfont icon-ic_collect"}),n("span",{staticClass:"n-text"},[t._v("收藏")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.favourite.master:t._bili_space_nav.favourite.guest))+"\n          ")])]):t._e(),t.isTabShow.subs?n("router-link",{staticClass:"n-btn n-bangumi n-subs n-cinema",class:{active:["bangumi","subs","cinema"].indexOf(t.currentPage)>-1},attrs:{to:{path:t.subscribeLink}},nativeOn:{mouseover:function(e){return t.slideTo("bangumi")},click:function(e){return t.navRec("subs")}}},[n("span",{staticClass:"iconfont icon-ic_sub"}),n("span",{staticClass:"n-text"},[t._v("订阅")])]):t._e(),t.isTabShow.setting?n("router-link",{staticClass:"n-btn n-setting",class:{active:["setting"].indexOf(t.currentPage)>-1},attrs:{to:{name:"setting"}},nativeOn:{mouseover:function(e){return t.slideTo("setting")},click:function(e){return t.clickSetting(e)}}},[n("span",{staticClass:"iconfont icon-ic_setting"}),n("span",{staticClass:"n-text"},[t._v("设置")])]):t._e()],1),n("div",{staticClass:"clearfix g-search search-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"space_input",attrs:{type:"text",placeholder:"搜索视频"},domProps:{value:t.keyword},on:{blur:t.deactiveSearch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_TopViedoWindow_searchViedo_click",expression:"'space_TopViedoWindow_searchViedo_click'"}],staticClass:"icon search-btn",on:{click:t.activeSearch}})]),n("div",{staticClass:"n-statistics"},[n("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-gz",attrs:{to:{name:"follow"},title:t._f("separate")(t.relations.following)}},[n("p",{staticClass:"n-data-k"},[t._v("关注数")]),n("p",{staticClass:"n-data-v space-attention",attrs:{id:"n-gz"}},[t._v(t._s(t._f("toWan")(t.relations.following)))])]),n("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-fs",attrs:{to:{name:"fans"},title:t._f("separate")(t.relations.follower)}},[n("p",{staticClass:"n-data-k"},[t._v("粉丝数")]),n("p",{staticClass:"n-data-v space-fans",attrs:{id:"n-fs"}},[t._v(t._s(t._f("toWan")(t.relations.follower)))])]),t.playNumber.likes>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("likeTitle")(t.playNumber.likes)}},[n("p",{staticClass:"n-data-k"},[t._v("获赞数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.likes)))])]):t._e(),t.playNumber.archive.view>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("archiveTitle")(t.playNumber.archive.view)}},[n("p",{staticClass:"n-data-k"},[t._v("播放数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.archive.view)))])]):t._e(),t.playNumber.article.view>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("articleTitle")(t.playNumber.article.view)}},[n("p",{staticClass:"n-data-k"},[t._v("阅读数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.article.view)))])]):t._e()],1)]),n("div",{staticClass:"n-cursor",style:t.cursorStyle})])])}),[],!1,null,null,null).exports);function $t(t,e){t.setAttribute("class",e)}var Ot=function(t,e){return t.className.split(" ").indexOf(e.trim())>-1},It=function(t,e){var n=t.className.split(" ");return e=e.trim(),Ot(t,e)||$t(t,1===n.length?e:[].concat(x()(n),[e]).join(" ")),t},Nt=function(t,e){var n=t.className.split(" "),i=n.indexOf(e.trim());return Ot(t,e)&&(n.splice(i,1),$t(t,n.join(" "))),t},At={name:"common-fixed-nav",mixins:[xt],data:function(){return{cursorStyle:{width:"0px",left:"0px"},avatar:"//static.hdslb.com/images/member/noface.gif"}},mounted:function(){var t=this,e=document.getElementById("navigator"),n=this.$el,i=e.getBoundingClientRect(),a=i.height,r=i.top;window.addEventListener("scroll",(function(){window.pageYOffset>r+a?It(n,"fixed"):Nt(n,"fixed")})),this.getCursorStyle(),this.$bus.$on("hideFixedNav",(function(){Nt(n,"fixed"),t.isForceHide=!0})).$on("showFixedNav",(function(){It(n,"fixed"),t.isForceHide=!1})),this.isNavLoad&&this._bili_space_info.face?this.avatar=this._bili_space_info.face.toWebP():this.avatar="//static.hdslb.com/images/member/noface.gif"},methods:{getCursorStyle:function(){var t=this;this.$nextTick((function(){if(void 0!==t.activePage){var e=document.querySelector("#navigator-fixed .n-btn.n-"+t.activePage);t.cursorStyle.width=e.clientWidth+"px",t.cursorStyle.left=e.offsetLeft+"px"}}))}},computed:{},watch:{_bili_space_nav:function(t){t&&this.getCursorStyle()},isNavLoad:function(t){t&&this.getCursorStyle()},activePage:function(t){this.getCursorStyle()}}},Rt=(n(434),Object(_t.a)(At,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"n n-fix",attrs:{id:"navigator-fixed"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"n-inner clearfix",on:{mouseleave:t.slideOut}},[n("div",{staticClass:"n-tab-links"},[n("router-link",{staticClass:"n-btn n-index n-fans n-404",class:{active:["index","","fans","404"].indexOf(t.currentPage)>-1},attrs:{to:{name:"index"}},nativeOn:{mouseover:function(e){return t.slideTo("index")},click:function(e){return t.navRec("index")}}},[n("span",{staticClass:"n-avatar"},[n("img",{attrs:{src:t._f("coversize")(t.avatar,"48x48"),alt:t._bili_space_info.name}})]),n("span",{staticClass:"n-text",staticStyle:{display:"inline-block"},attrs:{title:t._bili_space_info.name}},[t._v(t._s(t._bili_space_info.name))])]),n("router-link",{staticClass:"n-btn n-dynamic",class:{active:["dynamic"].indexOf(t.currentPage)>-1},attrs:{to:{name:"dynamic"}},nativeOn:{mouseover:function(e){return t.slideTo("dynamic")},click:function(e){return t.navRec("dynamicPage")}}},[n("span",{staticClass:"iconfont icon-ic_following"}),n("span",{staticClass:"n-text"},[t._v("动态")])]),n("router-link",{staticClass:"n-btn n-video n-audio n-article n-album",class:{active:["video","audio","article","album"].indexOf(t.currentPage)>-1},attrs:{to:{name:"video"}},nativeOn:{mouseover:function(e){return t.slideTo("video")},click:function(e){return t.navRec("videoPage")}}},[n("span",{staticClass:"iconfont icon-ic_video"}),n("span",{staticClass:"n-text"},[t._v("投稿")]),n("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.video+t._bili_space_nav.article+t._bili_space_nav.album+t._bili_space_nav.audio)))])]),t.isPlaylistAuthed?n("router-link",{staticClass:"n-btn n-playlist",class:{active:["playlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"playlistList"}},nativeOn:{mouseover:function(e){return t.slideTo("playlist")},click:function(e){return t.navRec("playlistPage")}}},[n("span",{staticClass:"iconfont icon-ic_playlist"}),n("span",{staticClass:"n-text"},[t._v("播单")]),n("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.playlist)))])]):t._e(),n("router-link",{staticClass:"n-btn n-channel",class:{active:["channel"].indexOf(t.currentPage)>-1},attrs:{to:{name:"channelList"}},nativeOn:{mouseover:function(e){return t.slideTo("channel")},click:function(e){return t.navRec("channelPage")}}},[n("span",{staticClass:"iconfont icon-ic_channel"}),n("span",{staticClass:"n-text"},[t._v("频道")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.channel.master:t._bili_space_nav.channel.guest))+"\n          ")])]),t._bili_space_nav.pugv?n("router-link",{staticClass:"n-btn n-pugv",class:{active:["pugv"].indexOf(t.currentPage)>-1},attrs:{to:{name:"pugv"}},nativeOn:{mouseover:function(e){return t.slideTo("pugv")},click:function(e){return t.navRec("pugv")}}},[n("span",{staticClass:"iconfont icon-ic_class1"}),n("span",{staticClass:"n-text"},[t._v("课程")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")(t._bili_space_nav.pugv))+"\n          ")])]):t._e(),t.isTabShow.fav?n("router-link",{staticClass:"n-btn n-favlist",class:{active:["favlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"fav"}},nativeOn:{mouseover:function(e){return t.slideTo("favlist")},click:function(e){return t.navRec("favlist")}}},[n("span",{staticClass:"iconfont icon-ic_collect"}),n("span",{staticClass:"n-text"},[t._v("收藏")]),n("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.favourite.master:t._bili_space_nav.favourite.guest))+"\n          ")])]):t._e(),t.isTabShow.subs?n("router-link",{staticClass:"n-btn n-bangumi n-subs n-cinema",class:{active:["bangumi","subs","cinema"].indexOf(t.currentPage)>-1},attrs:{to:{path:t.subscribeLink}},nativeOn:{mouseover:function(e){return t.slideTo("bangumi")},click:function(e){return t.navRec("subs")}}},[n("span",{staticClass:"iconfont icon-ic_sub"}),n("span",{staticClass:"n-text"},[t._v("订阅")])]):t._e(),t.isTabShow.setting?n("router-link",{staticClass:"n-btn n-setting",class:{active:["setting"].indexOf(t.currentPage)>-1},attrs:{to:{name:"setting"}},nativeOn:{mouseover:function(e){return t.slideTo("setting")},click:function(e){return t.clickSetting(e)}}},[n("span",{staticClass:"iconfont icon-ic_setting"}),n("span",{staticClass:"n-text"},[t._v("设置")])]):t._e()],1),n("div",{staticClass:"clearfix g-search search-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"space_input",attrs:{type:"text",placeholder:"搜索视频"},domProps:{value:t.keyword},on:{blur:t.deactiveSearch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),n("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_TopViedoWindow_searchViedo_click",expression:"'space_TopViedoWindow_searchViedo_click'"}],staticClass:"icon search-btn",on:{click:t.activeSearch}})]),n("div",{staticClass:"n-statistics"},[n("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-gz",attrs:{to:{name:"follow"},title:t._f("separate")(t.relations.following)}},[n("p",{staticClass:"n-data-k"},[t._v("关注数")]),n("p",{staticClass:"n-data-v space-attention",attrs:{id:"n-gz"}},[t._v(t._s(t._f("toWan")(t.relations.following)))])]),n("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-fs",attrs:{to:{name:"fans"},title:t._f("separate")(t.relations.follower)}},[n("p",{staticClass:"n-data-k"},[t._v("粉丝数")]),n("p",{staticClass:"n-data-v space-fans",attrs:{id:"n-fs"}},[t._v(t._s(t._f("toWan")(t.relations.follower)))])]),t.playNumber.likes>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("likeTitle")(t.playNumber.likes)}},[n("p",{staticClass:"n-data-k"},[t._v("获赞数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.likes)))])]):t._e(),t.playNumber.archive.view>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("archiveTitle")(t.playNumber.archive.view)}},[n("p",{staticClass:"n-data-k"},[t._v("播放数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.archive.view)))])]):t._e(),t.playNumber.article.view>0?n("div",{staticClass:"n-data n-bf",attrs:{title:t._f("articleTitle")(t.playNumber.article.view)}},[n("p",{staticClass:"n-data-k"},[t._v("阅读数")]),n("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.article.view)))])]):t._e()],1)]),n("div",{staticClass:"n-cursor",style:t.cursorStyle})])])}),[],!1,null,null,null).exports),Ft=null,Dt={name:"to-top",data:function(){return{keyframes:0,isVisible:!1,isClick:!1,lastTrace:0}},mounted:function(){var t=$(window).height(),e=$(".to-top"),n=this;$(window).off("scroll.toTop").on("scroll.toTop",(function(){var i=$(window).scrollTop();i-n.lastTrace>0?(n.isClick&&(e.removeClass("transition"),n.$nextTick((function(){e.removeClass("fly")})),clearInterval(Ft)),i>=t/2&&(!n.isVisible&&e.stop().fadeIn(100),n.isVisible=!0,n.keyframes=0,e.css("background-position-x","-40px")),n.isClick=!1):i<t/2&&(n.isVisible&&e.stop().fadeOut(100),n.isVisible=!1),n.lastTrace=i}))},methods:{fly:function(){if(!this.isClick){var t=this,e=$(".to-top");this.isClick=!0,Ft=setInterval((function(){t.keyframes++,e.css({"background-position-x":-(143*t.keyframes+40)+"px"}),5===t.keyframes&&(e.addClass("transition"),t.$nextTick((function(){e.addClass("fly")}))),6===t.keyframes&&(t.keyframes=0,clearInterval(Ft),$("html, body").stop().animate({scrollTop:0},"fast"))}),50)}}}},Ut=(n(435),Object(_t.a)(Dt,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"to-top",on:{click:this.fly}})}),[],!1,null,null,null).exports);function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mt={props:{id:{}},mounted:function(){window.addEventListener("message",this.handleShare,!1)},destroyed:function(){window.removeEventListener("message",this.handleShare,!1)},computed:Bt({},Object(g.c)(["favListDetails"])),methods:Bt(Bt({},Object(g.b)(["sharePlayList"])),{},{handleShare:function(t){var e=t.data;"dynamic-share-close"===e?this.$store.commit("SHOWFAVSHARE_SUCCESS",!1):"dynamic-share-succeed"===e&&(this.sharePlayList({rid:this.favListDetails.info.id,r_type:11,cnt_type:1}),this.$store.commit("SHAREPLAYLIST_SUCCESS"))}})},Gt=(n(436),Object(_t.a)(Mt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fav-share"},[e("div",{staticClass:"mask"}),e("iframe",{staticClass:"share-iframe",attrs:{name:"fav-share",width:"610",height:"425",src:"//t.bilibili.com/share/card/index?type=4300&rid="+this.favListDetails.info.id+"&repost_code=20000",frameborder:"0"}})])}),[],!1,null,null,null).exports);function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qt=null,zt=null,Yt={name:"app",mounted:function(){var t,e=this,i=this._bili_space_state;this.fetchNavNum({mid:this._bili_space_mid}).then((function(t){var n=t.video,a=e._bili_space_settings,r="owner"===i?t.channel.master:t.channel.guest,o="owner"===i?t.favourite.master:a.privacy.fav_video?t.favourite.guest:-1,s="owner"===i||a.privacy.tags?0:-1,c="owner"===i||a.privacy.groups?0:-1;rec("space_navigation_show",{tabstates:"video/".concat(n,"|channel/").concat(r,"|favlist/").concat(o,"|subs/").concat(s,"|qz/").concat(c)})})),"owner"!==i&&n.e(28).then((function(){var t=[n(677),n(678)];(function(t,n){qt=t,zt=n,e.startDanmu()}).apply(null,t)})).catch(n.oe),(t=new Image).onload=function(){window.supportWebP=t.width>0&&t.height>0},t.onerror=function(){window.supportWebP=!1},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",this.$bus.$on("watchlater",(function(t){e.$store.commit(k.bc,t)})),$.ajax({url:"//static.hdslb.com/cashier/dist/js/payPlugin.js",cache:!0,dataType:"script"}),window.rec=function(t,e){var n=e||t;window.spaceReport[t]=n}},methods:Wt(Wt({},Object(g.b)(["fetchNavNum","fetchRelation"])),{},{startDanmu:function(){"owner"!==this._bili_space_state?(zt&&new zt({video:".fakeDanmu-item",cover:".fakeDanmu-item .cover"}),qt&&new qt({video:".fakeDanmu-item",cover:".fakeDanmu-item .cover",ready:function(){rec("space_thumbnail_preview")}})):$("body").off(".preview")}}),watch:{_bili_space_state:function(){this.startDanmu()}},metaInfo:function(){var t=this._bili_space_info,e=t.name,n=t.sign,i=t.official;return{title:"".concat(e,"的个人空间 - 哔哩哔哩 ( ゜- ゜)つロ 乾杯~ Bilibili"),meta:[{name:"keywords",content:"".concat(e,",B站,弹幕,字幕,AMV,MAD,MTV,ANIME,动漫,动漫音乐,游戏,游戏解说,ACG,galgame,动画,番组,新番,初音,洛天依,vocaloid")},{name:"description",content:"".concat(e,"，").concat(n,"，").concat(i.desc,"，bilibili是国内知名的视频弹幕网站，这里有最及时的动漫新番，最棒的ACG氛围，最有创意的Up主。大家可以在这里找到许多欢乐。")}]}},computed:Wt(Wt({},Object(g.c)(["_bili_space_mid","_bili_space_mymid","_bili_login_info","_bili_space_info","_bili_space_settings","_bili_space_state","isNavLoad","isShowFavShare"])),{},{bgimg:function(){return this.isNavLoad?void 0!==this._bili_space_settings.theme.bgimg?{backgroundImage:"url(//i0.hdslb.com/"+this._bili_space_settings.theme.bgimg.toWebP()+")"}:void 0:""}}),components:{CommonHeader:Pt,CommonNav:Et,CommonFixedNav:Rt,toTop:Ut,favShare:Gt}},Kt=(n(437),Object(_t.a)(Yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t._bili_space_state],style:t.bgimg,attrs:{id:"app"}},[n("common-header"),t.isNavLoad?n("common-nav"):t._e(),t.isNavLoad?n("common-fixed-nav"):t._e(),t.isNavLoad?n("div",{staticClass:"s-space"},[n("router-view")],1):t._e(),n("to-top"),t.isShowFavShare?n("fav-share"):t._e()],1)}),[],!1,null,null,null).exports),Jt=(n(438),n(130));j.default.use(Jt.a);var Xt=new Jt.a({fallback:!1,mode:"history",routes:[{path:"/:v(v)?/:mid(\\d+)",alias:"/index",name:"index",component:function(t){return n.e(5).then(function(){var e=[n(681)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/bangumi",name:"bangumi",component:function(t){return Promise.all([n.e(2),n.e(21)]).then(function(){var e=[n(698)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/cinema",name:"cinema",component:function(t){return Promise.all([n.e(2),n.e(31)]).then(function(){var e=[n(691)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/subs",name:"subscribe",component:function(t){return n.e(26).then(function(){var e=[n(694)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/video",name:"video",component:function(t){return n.e(14).then(function(){var e=[n(685)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/audio",name:"audio",component:function(t){return n.e(13).then(function(){var e=[n(696)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/article",name:"article",component:function(t){return n.e(12).then(function(){var e=[n(699)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/dynamic",name:"dynamic",component:function(t){return Promise.all([n.e(29),n.e(16)]).then(function(){var e=[n(700)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/favlist",name:"fav",component:function(t){return Promise.all([n.e(0),n.e(6),n.e(10)]).then(function(){var e=[n(683)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/setting",name:"setting",component:function(t){return n.e(25).then(function(){var e=[n(692)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/playlist",component:function(t){return n.e(19).then(function(){var e=[n(687)];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"index",name:"playlistList",component:function(t){return n.e(24).then(function(){var e=[n(695)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"edit",component:function(t){return n.e(23).then(function(){var e=[n(703)];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"info",name:"playlistEditInfo",component:function(t){return n.e(9).then(function(){var e=[n(688)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"video",name:"playlistEditVideo",component:function(t){return n.e(7).then(function(){var e=[n(682)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"create",name:"playlistCreate",component:function(t){return n.e(8).then(function(){var e=[n(702)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/channel",component:function(t){return n.e(18).then(function(){var e=[n(693)];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"index",name:"channelList",component:function(t){return n.e(22).then(function(){var e=[n(690)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"detail",name:"channelDetail",component:function(t){return n.e(15).then(function(){var e=[n(684)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/fans",component:function(t){return n.e(30).then(function(){var e=[n(686)];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"fans",name:"fans",component:function(t){return n.e(1).then(function(){var e=[n(689)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"follow",name:"follow",component:function(t){return n.e(1).then(function(){var e=[n(689)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/album",name:"album",component:function(t){return Promise.all([n.e(0),n.e(17),n.e(11)]).then(function(){var e=[n(701)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/:v(v)?/:mid(\\d+)/pugv",name:"pugv",component:function(t){return n.e(20).then(function(){var e=[n(697)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]});Xt.afterEach((function(t,e){j.default.prototype.$isServer||(null!==e.name&&window.reportObserver.sendPV(),e.name!==t.name&&window.scrollTo(0,0))}));var Qt=Xt,Zt=n(180),te=n.n(Zt),ee=n(132);function ne(t){if(t<=0)return 0;if("--"===t)return"--";var e=Number(t);return e>99999999?Math.round(e/1e7)/10+"亿":e>9999?Math.round(e/1e3)/10+"万":e}function ie(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/&amp;|&#38;/g,"&").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&nbsp;|&#160;/g," ").replace(/&hellip;/g,"…").replace(/&mdash;/g,"—").replace(/&#039;/g,"'").replace(/&#39;/g,"'").replace(/&ldquo;/g,"“").replace(/&rdquo;/g,"”").replace(/&lsquo;/g,"‘").replace(/&rsquo;/g,"’"):""}function ae(t){return 1===String(t).length?"0"+t:t}Array.prototype.toObject||(Array.prototype.toObject=function(t,e){var n={};return this.forEach((function(i,a){var r=i[t];n[r]=void 0===e?i:i[e]})),n}),Date.now||(Date.now=function(){return(new Date).getTime()}),String.prototype.startWith||(String.prototype.startWith=function(t){return 0===this.indexOf(t)}),Array.prototype.remove||(Array.prototype.remove=function(t){for(var e=this.length,n=0;n<e;n++)if(this[n]===t)return this.splice(n,1)}),Number.prototype.format_date=function(){var t=new Date(1e3*this);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日"},Number.prototype.toWan=function(){return ne(this)},String.prototype.max=function(t){if(!t)return this;var e=String(this);return e.length>t?e.slice(0,t)+"...":this},String.prototype.contains=function(t){return this.indexOf(t)>-1},String.prototype.toWebP=function(t){if(void 0===this)return"";var e=String(this).replace(/https?:/,""),n=e;return e.startWith("/")||(n="/"+e),window.supportWebP&&n.contains("/bfs/")&&!n.contains(".gif")?e+"@"+(t||"100Q")+".webp":this},String.prototype.separate=function(){return this.replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return t+","}))},String.prototype.decodeHTML||(String.prototype.decodeHTML=function(){return ie(this)}),String.prototype.coversize=function(t){if(void 0===this)return"";var e=this.replace(/https?:/,""),n=e;n.startWith("/")||(n="/"+n);if(n.indexOf("noface")>-1||n.indexOf("transparent")>-1||n.indexOf("//activity.hdslb.com/")>-1||/\.gif$/.test(n))return e;t=t||"380x240";var i=".jpg";e.indexOf(".jpg")>-1?i=".jpg":e.indexOf(".png")>-1&&(i=".png");var a=!1;if(n.indexOf("/group1/")>-1||n.indexOf("/bfs/")>-1){if((a=/_\d+x\d+\.(jpg|jpeg|png)/.exec(e))&&(e=e.replace(a[0],"")),window.supportWebP&&n.indexOf("/bfs/")>-1&&".gif"!==i){var r=t.split("x")[0],o=t.split("x")[1];e+="@"+r+"w_"+o+"h_100Q_1c.webp"}else e+="_"+t+i;return e}return t=t.replace("x","_"),(a=/\.com\/(\d+_\d+)\//.exec(e))?e.replace(a[1],t):e.replace(".com",".com/"+t)},j.default.filter("format_date",(function(t){var e=new Date(1e3*t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"})),j.default.filter("toWebP",(function(t,e){if(void 0===t)return"";t=t.replace(/https?:/,"");var n=String(t),i=n;return n.startWith("/")||(i="/"+n),window.supportWebP&&i.contains("/bfs/")&&!i.contains(".gif")?n+"@"+(e||"100Q")+".webp":t})),j.default.filter("separate",(function(t){return String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return t+","}))})),j.default.filter("toWan",ne),j.default.filter("tohttps",(function(t){return void 0===t?"":t.replace(/https?:/,"")})),j.default.filter("coversize",(function(t,e){return void 0===t?"":t.coversize(e)})),j.default.filter("viewCountShorten",(function(t){return"--"===t||-1===t?"--":(t=Number(t),isNaN(t)?0:ne(t))})),j.default.filter("format_pubdate",(function(t,e){if(!t)return"0000-00-00";var n,i=/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2})(?::(\d{2}))?/.exec(t);if(i)n=new Date(i[1],parseInt(i[2])-1,i[3],i[4],i[5],i[6]);else if("Invalid Date"===(n=new Date(1e3*t)).toString())return String(t);return(e="string"==typeof e?e+"于":"")+te()(n)})),j.default.filter("format_expiretime",(function(t){var e=new Date(1e3*t),n=Date.now(),i=Math.floor((e-n)/864e5);return i>1?i+"天":"不足一天"})),j.default.filter("highlightSearchKeyword",(function(t){return void 0===window._search_keyword||(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),""!==window._search_keyword&&(t=t.replace(new RegExp("("+window._search_keyword+")","gi"),'<span class="search-keyword-highlight">$1</span>'))),t})),j.default.filter("videoStatus",(function(t){return t>=0||-6===t?"":"disabled"})),j.default.filter("videoDuration",(function(t){var e=ae(parseInt(t/3600)),n=ae(parseInt(t%3600/60)),i=ae(parseInt(t%3600%60));return isNaN(n)||isNaN(i)?"00:00":t<3600?n+":"+i:e+":"+n+":"+i})),j.default.filter("decodeHTML",(function(t){return ie(t)})),j.default.filter("decodeTitle",(function(t){return function(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/</g,"&lt;"):""}(t)})),j.default.filter("trimSpaceReturn",(function(t){return function(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/\s/g,""):""}(t)})),j.default.filter("videoValidLink",(function(t,e,n){return-1===ee.a.indexOf(n)?"javascript:;":j.default.prototype.$transformLink(t,e)})),j.default.filter("favVideoValidLink",(function(t,e,n,i){var a=i&&12===i?"//www.bilibili.com/audio/au"+t:j.default.prototype.$transformLink(t,e);return 1===n?"javascript:;":a}));var re=n(193),oe=n.n(re),se=n(181),ce=n.n(se),ue=new j.default,le=n(61)("jsonp"),de=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){var a=[],r=e.params||{};r.jsonp="jsonp";for(var o=0,s=Object.keys(r);o<s.length;o++){var c=s[o];a.push("".concat(c,"=").concat(r[c]))}e.param=a.join("&")+"&callback";var u,l,d=e.prefix||"__jp",f=e.name||d+fe++,p=e.param||"callback",m=null!=e.timeout?e.timeout:6e4,h=encodeURIComponent,v=document.getElementsByTagName("script")[0]||document.head;function _(){u.parentNode&&u.parentNode.removeChild(u),window[f]=pe,l&&clearTimeout(l)}m&&(l=setTimeout((function(){_(),i("400")}),m)),window[f]=function(t){le("jsonp got",t),_(),n(t)},t=(t+=(~t.indexOf("?")?"&":"?")+p+"="+h(f)).replace("?&","?"),le('jsonp req "%s"',t),(u=document.createElement("script")).src=t,u.onerror=function(){i("400")},v.parentNode.insertBefore(u,v)}))},fe=0;function pe(){}var me,he,ve,_e,be,ge,we,ye,Ce,Pe=n(183),Se=function(t){return t.top},Le=function(t){return t.masterpiece},xe=function(t){return t.isLoad.top},ke=function(t){return t.isLoad.masterpiece},je={state:{top:{},masterpiece:[],isLoad:{top:!1,masterpiece:!1},isSet:{top:!1,masterpiece:!1}},getters:r,actions:Pe,mutations:(me={},b()(me,k.wb,(function(t,e){t.top=e,t.isLoad.top=!0})),b()(me,k.V,(function(t,e){t.masterpiece=e,t.isLoad.masterpiece=!0})),b()(me,k.vb,(function(t){t.top={},t.isLoad.top=!0})),b()(me,k.U,(function(t){t.isLoad.masterpiece=!0})),b()(me,k.f,(function(t,e){var n=t.masterpiece,i=[];n.forEach((function(t,n){t.aid!==e&&i.push(t)})),t.masterpiece=i})),b()(me,k.g,(function(t){t.top={}})),me)},Te=function(t){return+t._bili_space_mid},Ee=function(t){return+t._bili_login_info.mid},$e=function(t){return t._bili_space_info},Oe=function(t){return t._bili_space_notice},Ie=function(t){return t._bili_space_settings},Ne=function(t){return t._bili_login_info},Ae=function(t){return t._bili_space_state},Re=function(t){return t._bili_space_is_login},Fe=function(t){return t._bili_space_watch_history},De=function(t){return t._bili_space_nav},Ue=function(t){return t._bili_space_vip},Ve=function(t){return t.playNumber},Be=function(t){return t.nav_load},Me=function(t){return t.watchlaterAids},Ge=function(t){return t._bili_init_state.space_info_success&&t._bili_init_state.space_settings_success},He=function(t){return t._bili_space_global_message},We=function(t){return 0!==t._bili_space_vip.type},qe=function(t){var e=t._bili_space_vip;return 0!==e.type&&2===e.status},ze=function(t){var e=t._bili_space_vip;return 0!==e.type&&1===e.status},Ye=function(t){var e=t._bili_space_vip;return 2===e.type&&1===e.status},Ke=function(t){return t._bili_space_vip.label.label_theme.includes("fool")},Je=function(t){var e=t._bili_login_info.vip,n=e.type,i=e.status,a=e.expire;return 1===i&&0!==n&&a<8},Xe={_bili_space_info:{level_info:{},official:{},theme:{},toutu:{},silence:0,fans_badge:!1,uname:"哔哩哔哩",sign:"非常努力地加载页面 (。・`ω´・)"},_bili_space_settings:{privacy:{bangumi:0,article:0,tags:0,fav_video:0,coins_video:0,groups:0,played_game:0,channel:0,submited_video:0,user_info:0},index_order_01:[{id:0,name:""}],index_order_02:[{id:0,name:""}],theme:"default",theme_preview_img_path:"",toutu:{sid:0,s_img:"",l_img:"",thumbnail_img:"",android_img:"",iphone_img:"",ipad_img:"",platform:1}},_bili_login_info:{birthday:"1900-00-00",coins:0,face:"",identification:0,jointime:"1465189421",level:0,maxstow:0,mid:0,mobile_verified:0,official_verify:{type:0,desc:"1"},rank:0,s_face:"",scores:0,security_level:1,sex:1,sign:"非常努力地加载页面 (。・`ω´・)",spacesta:2,telephone:"",name:"哔哩哔哩",vip:{}}},Qe={actions:i,getters:o,state:{_bili_guest_mode:!1,_bili_space_state:"loading",_bili_space_is_login:!1,_bili_space_info:Xe._bili_space_info,_bili_space_vip:{},_bili_space_notice:{id:0,content:"",url:""},_bili_space_mid:0,_bili_space_settings:Xe._bili_space_settings,_bili_login_info:Xe._bili_login_info,_bili_init_state:{space_info_success:!1,space_settings_success:!1},_bili_space_watch_history:[],_bili_space_nav:{bangumi:0,channel:{master:0,guest:0},favourite:{master:0,guest:0},tag:0,video:0,article:0,playlist:0},nav_load:!1,playNumber:{article:{view:0},archive:{view:0},likes:0},watchlaterAids:[]},mutations:(he={},b()(he,k.R,(function(t,e){var n=e.data,i=e.mid;1===n.silence&&(n.sign=""),t._bili_space_mid=i,t._bili_space_info=n,t._bili_space_vip=n.vip,t._bili_space_notice=n.sys_notice,t._bili_init_state.space_info_success=!0,t.nav_load=!0})),b()(he,k.pb,(function(t,e){var n=[],i=[];e.index_order.forEach((function(t,e){+t.id>20?i.push(t):6!=+t.id&&n.push(t)})),t._bili_space_settings=e,t._bili_space_settings.index_order_01=n,t._bili_space_settings.index_order_02=i,t._bili_init_state.space_settings_success=!0})),b()(he,k.ab,(function(t,e){e.vip.expire=Math.floor((e.vip.due_date-Date.now())/1e3/3600/24),t._bili_login_info=e,t._bili_space_is_login=!0})),b()(he,k.Z,(function(t){t._bili_login_info=Xe._bili_login_info,t._bili_space_is_login=!1,t._bili_space_state="visitor"})),b()(he,k.Yb,(function(t,e){t._bili_space_state=e})),b()(he,k.z,(function(t,e){t._bili_space_nav=e,t.nav_load=!0})),b()(he,k.y,(function(t){t.nav_load=!0})),b()(he,k.Eb,(function(t,e){sessionStorage.setItem("".concat(t._bili_login_info.mid,"_watch_history"),JSON.stringify(e)),t._bili_space_watch_history=e})),b()(he,k.dc,(function(t,e){t._bili_space_watch_history.push(e),sessionStorage.setItem("".concat(t._bili_login_info.mid,"_watch_history"),JSON.stringify(t._bili_space_watch_history))})),b()(he,k.Xb,(function(t,e){t._bili_space_state=e})),b()(he,k.a,(function(t,e){e===+t._bili_space_info.mid&&(t._bili_space_state="fans")})),b()(he,k.Mb,(function(t,e){e===+t._bili_space_info.mid&&(t._bili_space_state="visitor")})),b()(he,k.Jb,(function(t,e){t._bili_space_state="visitor"})),b()(he,k.Tb,(function(t,e){t._bili_space_info.sign=e})),b()(he,k.Rb,(function(t,e){var n=t._bili_space_settings.index_order.toObject("id"),i=[],a=[],r=e.split(",").map((function(t,e){return n[t]}));r.forEach((function(t,e){console.log(t.id),+t.id>20?a.push(t):6!=+t.id&&i.push(t)})),t._bili_space_settings.order=r,t._bili_space_settings.index_order_01=i,t._bili_space_settings.index_order_02=a})),b()(he,k.Sb,(function(t,e){var n=Object.getOwnPropertyNames(e)[0];t._bili_space_settings.privacy[n]=e[n]})),b()(he,k.xb,(function(t,e){t.playNumber=e})),b()(he,k.bc,(function(t,e){t.watchlaterAids=e})),he)},Ze=n(184),tn=function(t){return t.relations},en=function(t){return t.attribute},nn=function(t){return t.relationList},an=function(t){return t.knightsList},rn=function(t){return t.knightsCount},on=function(t){return t.isRelationListLoad},sn=function(t){return t.tags},cn=function(t){return t.userTag},un=function(t){return t.userTagList},ln=function(t){return t.defaultGroupCount},dn=function(t){return t.accRelation},fn={actions:Ze,getters:s,state:{relations:{following:0,whisper:0,black:0,follower:0},knightsList:[],knightsCount:0,relationList:[],defaultGroupCount:0,attribute:0,isFansListLoad:!1,userTag:[],userTagList:[],isLoad:!1,isUserTaglistLoad:!1,isKnightLoad:!1,isRelationListLoad:!1,accRelation:{relation:{},beRelation:{}}},mutations:(ve={},b()(ve,k.D,(function(t,e){t.relations=e})),b()(ve,k.ob,(function(t,e){t.relationList=e,t.isRelationListLoad=!0})),b()(ve,k.nb,(function(t){t.isRelationListLoad=!1})),b()(ve,k.mb,(function(t){t.relationList=[],t.isRelationListLoad=!0})),b()(ve,k.ac,(function(t,e){var n=e.mid,i=e.attribute,a=t.relationList.findIndex((function(t){return t.mid===n}));t.relationList[a].attribute=i})),b()(ve,k.Lb,(function(t,e){t.attribute=e})),b()(ve,k.Db,(function(t,e){t.relationList=e,t.isLoad=!0})),b()(ve,k.Cb,(function(t){t.isLoad=!1})),b()(ve,k.Bb,(function(t){t.isLoad=!0})),b()(ve,k.zb,(function(t){t.isUserTaglistLoad=!1})),b()(ve,k.Ab,(function(t,e){t.userTagList=e,t.isUserTaglistLoad=!0;var n=t.userTagList.find((function(t){return 0===t.tagid}));n&&(t.defaultGroupCount=n.count)})),b()(ve,k.yb,(function(t){t.isUserTaglistLoad=!0})),b()(ve,k.S,(function(t){t.isRelationListLoad=!1})),b()(ve,k.T,(function(t,e){e.list;var n=e.count;t.knightsCount=n,t.isRelationListLoad=!0})),b()(ve,k.Fb,(function(t,e){var n=e.relation,i=e.be_relation;t.accRelation.relation=n,t.accRelation.beRelation=i})),ve)},pn={actions:{fetchArticle:function(t,e){t.commit;return j.default.http.jsonp("//api.bilibili.com/x/space/article",{params:e}).then((function(t){var e=t.code,n=t.message,i=t.data;return 0===e?Promise.resolve(i):(j.default.$warn("获取用户专栏列表失败，".concat(n)),Promise.reject())}),(function(){return j.default.$warn("获取用户专栏列表失败，网络错误"),Promise.reject()}))},fetchArticleLists:function(t,e){t.commit;return j.default.http.jsonp("//api.bilibili.com/x/article/up/lists",{params:e}).then((function(t){var e=t.code,n=t.message,i=t.data;return 0===e?Promise.resolve(i):(j.default.$warn("获取用户专栏文集失败, ".concat(n)),Promise.reject())}),(function(){return j.default.$warn("获取用户专栏文集失败，网络错误"),Promise.reject()}))}}},mn={actions:{fetchBangumi:function(t,e){t.commit;return j.default.http.get("/ajax/Bangumi/getList",{params:e}).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve(i):(console.log("获取用户订阅番剧失败，".concat(i)),Promise.reject())}),(function(t){j.default.$warn("获取用户订阅番剧失败，网络错误"),Promise.reject()}))},fetchBangumiIds:function(t,e){t.commit;return j.default.http.get("/ajax/bangumi/myList",{params:e}).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve(i):Promise.reject()}),(function(t){return Promise.reject()}))}}},hn="//api.bilibili.com/x/playlist",vn=function(t,e){var n=t.commit;n(k.gb),j.default.http.jsonp(hn,{params:e}).then((function(t){var e=t.code,i=t.data,a=t.message;0==+e?(i.list.forEach((function(t){t.name=t.name.decodeHTML(),t.description=t.description.decodeHTML()})),n(k.hb,i)):(n(k.fb),j.default.$warn("请求播单列表失败，".concat(a)))}),(function(t){n(k.fb),j.default.$warn("请求播单列表失败，网络错误")}))},_n=function(t,e){var n=t.commit;return n(k.db),j.default.http.jsonp("".concat(hn,"/info"),{params:e}).then((function(t){var e=t.code,i=t.data,a=t.message;return 0==+e?(i.name=i.name.decodeHTML(),i.description=i.description.decodeHTML(),n(k.eb,i),Promise.resolve(i)):(n(k.cb),j.default.$warn("请求播单信息失败，".concat(a)),Promise.reject())}),(function(t){return n(k.cb),j.default.$warn("请求播单信息失败，网络错误"),Promise.reject()}))},bn=function(t,e){t.commit;return j.default.http.jsonp("".concat(hn,"/video"),{params:e}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0==+e?(n.list=n.list.map((function(t){return t.desc=t.desc.decodeHTML(),t.title=t.title.decodeHTML(),t.play_desc=t.play_desc.decodeHTML(),t})),Promise.resolve(n.list)):(j.default.$warn("请求播单视频列表失败，".concat(i)),Promise.resolve([]))}),(function(t){return j.default.$warn("请求播单视频列表失败，网络错误"),Promise.resolve([])}))},gn=function(t,e){t.commit;var n=e.pid,i=e.aid,a=e.sort;return j.default.http.post("".concat(hn,"/video/sort"),{pid:n,aid:i,sort:a}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$message("更改视频排序失败，请刷新后重试（".concat(i,"）"),"更改视频排序失败",{cancelButton:{show:!1},confirmButton:{text:"知道啦"}}),Promise.reject())}),(function(t){return j.default.$message("设置播单视频排序失败 ∑(っ °Д °;)っ，网络错误","更改视频排序失败",{cancelButton:{show:!1},confirmButton:{text:"知道啦"}}),Promise.reject()}))},wn=function(t,e){t.commit;return j.default.http.post("".concat(hn,"/del"),{pid:e}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$warn("删除播单失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("删除播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},yn=function(t,e){t.commit;var n=e.pid,i=e.aids;return j.default.http.post("".concat(hn,"/video/del"),{pid:n,aids:i}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$warn("删除播单视频失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("删除播单视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},Cn=function(t,e){t.commit;return j.default.http.post("".concat(hn,"/update"),e).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$warn("更新播单失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("更新播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},Pn=function(t,e){t.commit;return j.default.http.post("".concat(hn,"/add"),e).then((function(t){var e=t.data,n=e.code,i=e.message,a=e.data;return 0==+n?Promise.resolve(a.pid):(j.default.$warn("新建播单失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("新建播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},Sn=function(t,e){t.commit;var n=e.pid,i=e.aid,a=e.desc;return j.default.http.post("".concat(hn,"/video/desc/edit"),{pid:n,aid:i,desc:a}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$warn("更新视频描述失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("更新视频描述失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},Ln=function(t,e){t.commit;return j.default.http.post("".concat(hn,"/video/add"),e).then((function(t){var e=t.data,n=e.code,i=e.data,a=e.message;return 0==+n?Promise.resolve(i):(j.default.$warn("添加视频失败，".concat(a)),Promise.reject(a))}),(function(){return j.default.$warn("添加视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},xn=function(t,e){t.commit;return j.default.http.jsonp("".concat(hn,"/video/search"),{params:e}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0==+e?Promise.resolve(n):(j.default.$warn("搜索视频失败，".concat(i)),Promise.reject(i))}),(function(){return j.default.$warn("搜索视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},kn=function(t,e){t.commit;return j.default.http.post("".concat(hn,"/video/check"),e).then((function(t){var e=t.data,n=e.code,i=e.data,a=e.message;return 0==+n?Promise.resolve(i):(j.default.$warn("校验视频失败，".concat(a)),Promise.reject(a))}),(function(){return j.default.$warn("校验视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()}))},jn=function(t,e){t.commit;return j.default.http.post("//member.bilibili.com/x/vu/web/cover/up",{jsonp:"jsonp",cover:e}).then((function(t){var e=t.data,n=e.code,i=e.data,a=e.msg;return 0==+n?Promise.resolve(i):Promise.reject(a||"上传失败")}),(function(){return Promise.reject("上传失败，网络错误")}))},Tn=function(t,e){var n=t.commit,i=e.vmid;j.default.http.jsonp("".concat(hn,"/whitelist"),{params:{vmid:i}}).then((function(t){var e=t.code,i=t.data,a=t.message;0===e?i.power?n(k.bb,{auth:!0}):n(k.bb,{auth:!1}):(console.warn("播单白名单获取失败，"+a),n(k.bb,{auth:!1}))}),(function(){console.warn("播单白名单获取失败，网络错误"),n(k.bb,{auth:!1})}))},En=function(t,e){(0,t.commit)(k.bb,{auth:e})},$n=function(t){return t.playList},On=function(t){return t.isPlaylistLoad},In=function(t){return t.playlistInfo},Nn=function(t){return t.isPlaylistInfoLoad},An=function(t){return t.isPlaylistAuthed},Rn={state:{playList:{page:{num:0,size:0,total:0},list:[]},playlistInfo:{name:"",cover:"",description:"",owner:{name:""},stat:{view:0}},isPlaylistLoad:!1,isPlaylistInfoLoad:!1,isPlaylistAuthed:!1},getters:u,actions:c,mutations:(_e={},b()(_e,k.hb,(function(t,e){null===e.list?t.playList={page:e.page,list:[]}:t.playList=e,t.isPlaylistLoad=!0})),b()(_e,k.gb,(function(t){t.isPlaylistLoad=!1})),b()(_e,k.fb,(function(t){t.isPlaylistLoad=!0})),b()(_e,k.eb,(function(t,e){t.playlistInfo=e,t.isPlaylistInfoLoad=!0})),b()(_e,k.db,(function(t){t.isPlaylistInfoLoad=!1})),b()(_e,k.cb,(function(t){t.isPlaylistInfoLoad=!0})),b()(_e,k.bb,(function(t,e){t.isPlaylistAuthed=!1})),_e)},Fn="//api.bilibili.com/x/space/channel/",Dn=function(t,e){var n=t.commit,i=e.mid,a=e.guest,r=void 0!==a&&a;j.default.http.jsonp("".concat(Fn,"index"),{params:{mid:i,guest:r}}).then((function(t){var e=t.code,i=t.data,a=t.message;0===e?n(k.J,i):console.log("获取频道列表失败，".concat(a))}),(function(){j.default.$warn("获取频道列表失败，网络错误")}))},Un=function(t,e){var n=t.commit,i=e.mid,a=e.guest,r=void 0!==a&&a;j.default.http.jsonp("".concat(Fn,"list"),{params:{mid:i,guest:r}}).then((function(t){var e=t.code,i=t.data;0===e&&n(k.K,i)}))},Vn=function(t,e){var n=t.commit;j.default.http.jsonp("".concat(Fn,"video"),{params:e}).then((function(t){var e=t.code,i=t.data;0===e&&n(k.I,i.list)}))},Bn=function(t,e){var n=t.commit,i=e.name,a=e.intro,r=void 0===a?"":a;return j.default.http.post("".concat(Fn,"add"),{name:i,intro:r}).then((function(t){var e=t.data,i=e.code,a=e.message,r=e.data;return 0===i?(K({commit:n},{mid:_bili_space_mid}),Promise.resolve(r.cid)):(j.default.$warn("添加频道失败，".concat(a)),Promise.reject())}),(function(t){return j.default.$warn("添加视频失败，网络错误"),Promise.reject()}))},Mn=function(t,e){var n=t.commit;return j.default.http.post("".concat(Fn,"del"),e).then((function(t){var e=t.data,i=e.code,a=e.message;return 0===i?(K({commit:n},{mid:_bili_space_mid}),Promise.resolve()):(j.default.$warn("删除频道失败，".concat(a)),Promise.reject())}),(function(t){return j.default.$warn("删除视频失败，网络错误"),Promise.reject()}))},Gn=function(t,e){t.commit;return j.default.http.post("".concat(Fn,"edit"),e).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve():(j.default.$warn("编辑频道失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("编辑视频失败，网络错误"),Promise.reject()}))},Hn=function(t,e){t.commit;return j.default.http.post("".concat(Fn,"video/add"),e).then((function(t){var e=t.data,n=e.code,i=e.data,a=e.message;if(0===n){var r=i.length;return r>0&&j.default.$info("添加视频完成，共有 ".concat(r," 个视频添加失败")),Promise.resolve()}return j.default.$warn("添加频道视频失败，".concat(a)),Promise.reject()}),(function(t){return j.default.$warn("添加频道视频失败，网络错误"),Promise.reject()}))},Wn=function(t,e){t.commit;return j.default.http.post("".concat(Fn,"video/del"),e).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve():(j.default.$warn("删除频道视频失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("删除频道视频失败，网络错误"),Promise.reject()}))},qn=function(t,e){t.commit;return j.default.http.post("".concat(Fn,"video/sort"),e).then((function(t){var e=t.data,n=e.code,i=e.message;return 0===n?Promise.resolve():(j.default.$warn("排序失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("排序失败，网络错误"),Promise.reject()}))},zn=function(t,e){t.commit;var n=e.cid;return j.default.http.jsonp("".concat(Fn,"video/check"),{params:{cid:n}}).then((function(t){var e=t.code;return 0===e?Promise.resolve():53005===e?(j.default.$warn("操作视频失败，请先清理频道里的失效视频"),Promise.reject()):(j.default.$warn("操作视频失败，服务器或网络错误，请稍后重试"),Promise.reject())}),(function(){return j.default.$warn("操作视频失败，服务器或网络错误，请稍后重试"),Promise.reject()}))},Yn=function(t){return t.channels},Kn=function(t){return t.channelsWithArchives},Jn=function(t){return t.isChannelsLoad},Xn=function(t){return t.isChannelLoad},Qn=function(t){return t.channel},Zn=function(t){var e=t.channels,n=t.channelsWithArchives;return(0!==e.count||0!==n.length)&&(0===n.length?e.list:n).some((function(t){return t.count>0}))},ti={state:{channels:{count:0,list:[]},channelsWithArchives:[],cid:"",channel:{archives:[],cid:0,name:"频道",intro:"",mtime:1481268141,count:0},isChannelsLoad:!1,isChannelLoad:!1,isMoreChannelVideoLoad:!0,isUploading:!1},getters:d,actions:l,mutations:(be={},b()(be,k.K,(function(t,e){t.channels=e,t.isChannelsLoad=!0})),b()(be,k.J,(function(t,e){t.channelsWithArchives=e,t.isChannelsLoad=!0})),b()(be,k.I,(function(t,e){t.channel=e,t.isChannelLoad=!0})),be)},ei=n(17),ni={method:"get",url:"//api.bilibili.com/x/space/coin/video",withCredentials:!0},ii={actions:{fetchCoinVideos:function(t,e){t.commit;return Object(ei.a)("//api.bilibili.com/x/space/coin/video",{mid:e},_bili_space_mid).then((function(t){return Promise.resolve(t)}),(function(){return ni.params={vmid:e},j.default.http(ni).then((function(t){var n=t.data,i=n.code,a=n.data;return 0==+i?(Object(ei.c)("//api.bilibili.com/x/space/coin/video",{mid:e},a,_bili_space_mid),Promise.resolve(a)):Promise.reject()}),(function(t){return Promise.reject()}))}))}}},ai=n(185),ri={state:{favList:{count:0,list:[{cover:[]}]},myFavList:{count:0,list:[{cover:[]}]},favDetail:{pages:0,count:0,vlist:[],tlist:[]},topics:{page:0,total:0,pagesize:0,list:[]},articles:{favorites:[{stats:{},image_urls:[]}],page:{pn:1,ps:16,total:0}},playlists:{page:{},list:[]},favNavList:{defaultFav:{},fav:[],archive:[],visitor:[],playlist:0,topic:0,article:0,album:0,movie:0,pugv:0,arc:0},createdList:{list:[],pn:1,ps:16,count:0},collectedList:{list:[],pn:1,ps:16,count:0},myCreatedList:{list:[],pn:1,ps:20,count:0},modalAddFavList:[],favListDetails:{info:{cnt_info:{},upper:{}},medias:[]},tlist:[],idPlaylistListLoad:!1,isFavDetailLoad:!1,isFavListLoad:!1,isMyFavListLoad:!1,isArticleListLoad:!1,isFarNavListLoad:!1,isTopicLoad:!1,delInvalidVideoStateNum:2,isShowFavShare:!1,isCreatedFavLoad:!1,isAddFavLoad:!1},getters:n(186),actions:ai,mutations:(ge={},b()(ge,k.F,(function(t){t.isArticleListLoad=!1})),b()(ge,k.G,(function(t,e){t.articles=e,t.isArticleListLoad=!0})),b()(ge,k.E,(function(t){t.isArticleListLoad=!0})),b()(ge,k.P,(function(t){t.isFavListLoad=!1})),b()(ge,k.Q,(function(t,e){t.favList=e,t.isFavListLoad=!0})),b()(ge,k.O,(function(t){t.isFavListLoad=!0})),b()(ge,k.gb,(function(t){t.idPlaylistListLoad=!1})),b()(ge,k.hb,(function(t,e){t.playlists.page=e.page,t.playlists.list=e.list,t.idPlaylistListLoad=!0})),b()(ge,k.fb,(function(t){t.idPlaylistListLoad=!0})),b()(ge,k.k,(function(t,e){t.delInvalidVideoStateNum=e})),b()(ge,k.X,(function(t){t.isMyFavListLoad=!1})),b()(ge,k.Y,(function(t,e){t.myFavList=e,t.isMyFavListLoad=!0})),b()(ge,k.W,(function(t){t.isMyFavListLoad=!0})),b()(ge,k.tb,(function(t,e){t.isTopicLoad=!1})),b()(ge,k.ub,(function(t,e){t.topics=e,t.isTopicLoad=!0})),b()(ge,k.sb,(function(t,e){t.isTopicLoad=!1})),b()(ge,k.u,(function(t){t.isFavDetailLoad=!1})),b()(ge,k.v,(function(t,e){t.favDetail=e,t.isFavDetailLoad=!0})),b()(ge,k.t,(function(t){t.favDetail={pages:0,count:0,vlist:[],tlist:[]},t.isFavDetailLoad=!0})),b()(ge,k.h,(function(t,e){var n=t.favList.list,i=t.favList.count,a=n.findIndex((function(t){return t.fid===e}));void 0!==a&&(t.favList.list=[].concat(x()(n.slice(0,a)),x()(n.slice(a+1))),t.favList.count=i-1)})),b()(ge,k.Qb,(function(t,e,n){t.favList.list.forEach((function(i,a){i.fid===e&&(t.favList.list[a].state=0===n?2:3)}))})),b()(ge,k.Nb,(function(t,e,n){t.favList.list.forEach((function(i,a){i.fid===e&&(t.favList.list[a].name=n)}))})),b()(ge,k.l,(function(t,e){var n=e.split(","),i=[];t.favDetail.vlist.forEach((function(t,e){-1===n.indexOf(String(t.aid))&&i.push(t)})),t.favDetail.count-=n.length,t.favDetail.vlist=i})),b()(ge,k.e,(function(t,e){var n=e.tar_media_id,i=e.resources,a=t.createdList.list,r=i.split(",").length;a.map((function(t){t.id===n&&(t.media_count=t.media_count+r)})),t.createdList.list=a})),b()(ge,k.Ib,(function(t,e){var n=e.src_media_id,i=e.tar_media_id,a=e.resources,r=t.createdList.list,o=a.split(",").length;r.map((function(t){t.id===n&&(t.media_count=t.media_count-o),t.id===i&&(t.media_count=t.media_count+o)})),t.createdList.list=r})),b()(ge,k.j,(function(t,e){var n=e.resources,i=e.media_id,a=t.createdList.list,r=n.split(",").length;a.map((function(t){t.id===i&&(t.media_count=t.media_count-r)})),t.createdList.list=a})),b()(ge,k.M,(function(t){t.isFarNavListLoad=!1})),b()(ge,k.N,(function(t,e){var n=e.data,i=n.album,a=n.archive,r=n.article,o=n.playlist,s=n.topic,c=n.movie,u=n.pugv,l=n.arc;t.favNavList.archive=a,t.favNavList.playlist=o,t.favNavList.topic=s,t.favNavList.article=r,t.favNavList.album=i,t.favNavList.movie=c,t.favNavList.pugv=u,t.favNavList.arc=l,t.isFarNavListLoad=!0})),b()(ge,k.L,(function(t){t.isFarNavListLoad=!0})),b()(ge,k.Zb,(function(t,e){t.favNavList.pugv=e})),b()(ge,k.Ob,(function(t,e){t.favNavList.album=e})),b()(ge,k.Pb,(function(t,e){t.favNavList.movie=e})),b()(ge,k.w,(function(t,e){t.tlist=e})),b()(ge,k.o,(function(t){t.isCreatedFavLoad=!1})),b()(ge,k.p,(function(t,e){var n=e.list,i=void 0===n?[]:n,a=e.pn,r=e.ps,o=e.count;t.createdList.list=i||[],t.createdList.pn=a,t.createdList.ps=r,t.createdList.count=o,t.isCreatedFavLoad=!0,t.modalAddFavList=x()(i)})),b()(ge,k.n,(function(t){t.isCreatedFavLoad=!0})),b()(ge,k.m,(function(t,e){var n=e.list,i=void 0===n?[]:n,a=e.pn,r=e.ps,o=e.count,s=e.isReSet,c=void 0!==s&&s;t.collectedList.list=i&&!c?[].concat(x()(t.collectedList.list),x()(e.list)):x()(i),t.collectedList.pn=a,t.collectedList.ps=r,t.collectedList.count=o})),b()(ge,k.r,(function(t){t.isFavDetailLoad=!1})),b()(ge,k.s,(function(t,e){t.favListDetails.info=e.info,t.favListDetails.medias=e.medias?e.medias:[],t.isFavDetailLoad=!0})),b()(ge,k.q,(function(t){t.isFavDetailLoad=!0})),b()(ge,k.i,(function(t,e){var n=t.createdList.list,i=t.createdList.count,a=n.findIndex((function(t){return t.id===e}));void 0!==a&&(t.createdList.list=[].concat(x()(n.slice(0,a)),x()(n.slice(a+1))),t.createdList.count=i-1,t.modalAddFavList=[].concat(x()(n.slice(0,a)),x()(n.slice(a+1))))})),b()(ge,k.Wb,(function(t,e){t.favListDetails.info.cnt_info.thumb_up=e.likes,t.favListDetails.info.like_state=e.like_state})),b()(ge,k.c,(function(t){var e=t.favListDetails.info.cnt_info.collect;t.favListDetails.info.cnt_info.collect=e+1,t.favListDetails.info.fav_state=1})),b()(ge,k.d,(function(t){var e=t.favListDetails.info.cnt_info.collect;t.favListDetails.info.cnt_info.collect=e-1,t.favListDetails.info.fav_state=0})),b()(ge,k.Kb,(function(t,e){var n=t.collectedList.list,i=t.collectedList.count,a=n.findIndex((function(t){return t.id===e}));void 0!==a&&(t.collectedList.list=[].concat(x()(n.slice(0,a)),x()(n.slice(a+1))),t.collectedList.count=i-1)})),b()(ge,k.Vb,(function(t,e){t.isShowFavShare=e})),b()(ge,k.x,(function(t,e){var n=e.list,i=void 0===n?[]:n,a=e.pn,r=e.ps,o=e.count;t.myCreatedList.list=i,t.myCreatedList.pn=a,t.myCreatedList.ps=r,t.myCreatedList.count=o})),b()(ge,k.Ub,(function(t){var e=t.favListDetails.info.cnt_info.share;t.favListDetails.info.cnt_info.share=e+1})),b()(ge,k.Gb,(function(t,e){t.isAddFavLoad=e})),b()(ge,k.Hb,(function(t,e){var n=t.createdList.list,i=t.modalAddFavList,a=t.myCreatedList.list;e.isOwner?(n.splice(1,0,e.data),i.push(e.data),t.createdList.list=n,t.modalAddFavList=i):(a.push(e.data),t.myCreatedList.list=a)})),ge)},oi="//api.bilibili.com/x/space/lastplaygame",si={actions:{getNotice:function(t,e){t.commit;return j.default.http.get("//api.bilibili.com/x/space/notice",{params:{mid:e}}).then((function(t){var e=t.data,n=e.code,i=e.data;return 0==+n?Promise.resolve(i):Promise.reject()}),(function(t){return Promise.reject()}))},setNotice:function(t,e){t.commit;return j.default.http.post("//api.bilibili.com/x/space/notice/set",{notice:e}).then((function(t){var e=t.data,n=e.code,i=e.message;if(!([61001,61002].indexOf(+n)>-1))return 0==+n?Promise.resolve(n):(j.default.$warn("修改公告失败，".concat(i)),Promise.reject());$.getScript("//static.hdslb.com/common/js/identityDialog.js",(function(){IdentityDialog(n,i)}))}),(function(t){return j.default.$warn("修改公告失败，网络错误"),Promise.reject()}))},getLastPlay:function(t,e){t.commit;var n={method:"get",url:oi,params:{mid:e},withCredentials:!0};return Object(ei.a)(oi,{mid:e},_bili_space_mid).then((function(t){return Promise.resolve(t)}),(function(){return j.default.http(n).then((function(t){var n=t.data,i=n.code,a=n.data;return 0==+i?(Object(ei.c)(oi,{mid:e},a,_bili_space_mid),Promise.resolve(a)):Promise.reject()}),(function(t){return Promise.reject()}))}))},getRoomInfo:function(t,e){t.commit;return j.default.http.get("//api.live.bilibili.com/room/v1/Room/getRoomInfoOld",{params:{mid:e}}).then((function(t){var e=t.data,n=e.code,i=e.data;return 0===n&&i.roomStatus?Promise.resolve(i):Promise.reject()}),(function(t){return Promise.reject()}))},getElecInfo:function(t,e){t.commit;return j.default.http.jsonp("//elec.bilibili.com/api/query.rank.do",{params:{mid:e,type:"jsonp"}}).then((function(t){var e=t.code,n=t.data;return 0===e?Promise.resolve(n):Promise.reject()}),(function(t){return Promise.reject()}))},getShop:function(t){t.commit;return j.default.http.jsonp("//api.bilibili.com/x/space/shop").then((function(t){var e=t.code,n=t.data;return 0===e?Promise.resolve(n):Promise.reject()}),(function(t){return Promise.reject()}))}}},ci={actions:{fetchPersonalTags:function(t,e){t.commit;return j.default.http.get("//api.bilibili.com/x/space/acc/tags",{params:{mid:e}}).then((function(t){var e=t.data,n=e.code,i=e.data;return 0==+n?Promise.resolve(i):Promise.reject()}),(function(t){return Promise.reject()}))},setPersonalTags:function(t,e){t.commit;var n=e.tags;return j.default.http.post("//api.bilibili.com/x/space/acc/tags/set",{tags:n}).then((function(t){var e=t.data,n=e.code,i=e.message;return 0==+n?Promise.resolve():(j.default.$warn("设置标签失败，".concat(i)),Promise.reject())}),(function(t){return j.default.$warn("设置标签失败，网络错误"),Promise.reject()}))},setIndexOrder:function(t,e){var n=t.commit;j.default.http.post("/ajax/settings/setIndexOrder",{index_order:e}).then((function(t){var i=t.data,a=i.status,r=i.data;a?n(k.Rb,e):j.default.$warn("设置模块排序失败，".concat(r))}),(function(t){j.default.$warn("设置模块排序失败，网络错误")}))},setPrivacy:function(t,e){var n=t.commit;j.default.http.post("/ajax/settings/setPrivacy",e).then((function(t){var i=t.data,a=i.status,r=i.data;a?n(k.Sb,e):j.default.$warn("设置模块公开性失败，".concat(r))}),(function(t){j.default.$warn("设置模块公开性失败，网络错误")}))}}},ui={actions:{fetchTags:function(t,e){t.commit;return j.default.http.get("/ajax/tags/getSubList",{params:{mid:e}}).then((function(t){var e=t.data,n=e.status,i=e.data;return n?Promise.resolve(i):(console.error("获取订阅标签失败，".concat(i)),Promise.reject())}),(function(){return console.error("获取订阅标签失败，网络错误"),Promise.reject()}))},unSubTag:function(t,e){var n=t.commit;return j.default.http.post("/ajax/tags/cancelSub",{tag_id:e}).then((function(t){var e=t.data,i=e.status,a=e.data;return i?(K({commit:n},{mid:_bili_space_mid}),Promise.resolve()):(j.default.$warn("取消订阅标签失败，".concat(a)),Promise.reject())}),(function(t){return j.default.$warn("取消订阅标签失败，网络错误"),Promise.reject()}))}}},li=function(t){return t.topphoto},di=function(t){return t.skin},fi=function(t){return t.bcoin},pi=function(t){return t.isSkinLoad},mi=function(t){return t.isTopphotoLoad},hi=function(t){return t.isUploadSuccess},vi={state:{skin:[],topphoto:[],bcoin:0,isSkinLoad:!1,isTopphotoLoad:!1,isUploadSuccess:!1},getters:f,actions:a,mutations:(we={},b()(we,k.C,(function(t,e){t.topphoto=e,t.isTopphotoLoad=!0})),b()(we,k.A,(function(t,e){t.skin=e,t.isSkinLoad=!0})),b()(we,k.cc,(function(t,e){t.isUploadSuccess=!0})),b()(we,k.H,(function(t,e){t.bcoin=e})),we)},_i=function(t,e){var n=t.commit;return n(k.B),j.default.http.get("//api.bilibili.com/x/space/arc/search",{params:e,withCredentials:!0}).then((function(t){var e=t.data,i=e.data;return 0==+e.code?(n(k.rb,i),Promise.resolve()):(n(k.qb),Promise.reject())}),(function(){return n(k.qb),Promise.reject()}))},bi=function t(e,n){var i=e.commit;return j.default.http.get("//api.bilibili.com/x/space/arc/search",{params:n,withCredentials:!0}).then((function(e){var a=e.data,r=a.data,o=r.list,s=r.page;if(0==+a.code){var c=n.pn,u=Math.ceil(s.count/s.ps);return n.check_id?o.vlist.length>1?Promise.resolve({vlist:o.vlist,pages:u,count:s.count,pn:s.pn}):c<u?(n.pn++,t({commit:i},n)):Promise.resolve({vlist:o.vlist,pages:u,count:s.count,pn:s.pn}):Promise.resolve({vlist:o.vlist,pages:u,count:s.count,pn:s.pn})}return j.default.$warn("获取用户投稿视频失败"),Promise.reject()}),(function(){return j.default.$warn("获取用户投稿视频失败"),Promise.reject()}))},gi=function(t){(0,t.commit)(k.b)},wi=function(t){return t.submitVideos},yi=function(t){return t.isSubmitVideosLoad},Ci=function(t){return t.selectVideos},Pi=(ye={},b()(ye,k.rb,(function(t,e){var n=e.list,i=e.page;t.submitVideos.pages=Math.ceil(i.count/i.ps),t.submitVideos.count=i.count,t.submitVideos.tlist=n.tlist,t.submitVideos.vlist=n.vlist,t.isSubmitVideosLoad=!0})),b()(ye,k.qb,(function(t){t.isSubmitVideosLoad=!0})),b()(ye,k.B,(function(t){t.isSubmitVideosLoad=!1})),b()(ye,k.b,(function(t){t.selectVideos={pages:0,count:0,tlist:[],vlist:[]}})),ye),Si=function(t,e){var n=t.commit;n(k.kb),j.default.http.get("//api.bilibili.com/pugv/app/web/season/page",{params:e}).then((function(t){var e=t.data,i=e.code,a=e.data,r=a.items,o=a.page;0==+i?(n(k.kb),n(k.lb,{items:r,page:o})):n(k.jb)})).catch((function(){n(k.jb)}))},Li=function(t,e){var n=t.commit;j.default.http.get("//api.bilibili.com/pugv/app/web/favorite/page",{params:e}).then((function(t){var e=t.data,i=e.code,a=e.data,r=a.items,o=a.page;0==+i&&n(k.ib,{items:r,page:o})}))},xi=function(t,e){t.commit;var n=e.season_id;return j.default.http.post("//api.bilibili.com/pugv/app/web/favorite/del",{season_id:n}).then((function(t){return Promise.resolve(t.data)})).catch((function(){return console.log("请求取消课程收藏失败，网络错误"),Promise.reject()}))},ki=function(t){return t.list},ji=function(t){return t.page},Ti=function(t){return t.isLoading},Ei=function(t){return t.pugvList},$i=function(t){return t.pugvPage},Oi={init:Qe,top:je,relation:fn,article:pn,bangumi:mn,playlist:Rn,channel:ti,coin:ii,fav:ri,rightcol:si,settings:ci,tag:ui,theme:vi,video:{state:{submitVideos:{pages:0,count:0,tlist:[],vlist:[]},selectVideos:{pages:0,count:0,tlist:[],vlist:[]},isSubmitVideosLoad:!1},getters:m,actions:p,mutations:Pi},audio:{actions:{fetchAudio:function(t,e){t.commit;return j.default.http.get("//api.bilibili.com/audio/music-service/web/song/upper",{params:e}).then((function(t){var e=t.data,n=e.code,i=e.msg,a=e.data;return 0===n?Promise.resolve(null===a?{data:[],curPage:0,pageCount:0}:a):(j.default.$warn("获取用户音频列表失败，".concat(i)),Promise.reject())}),(function(){return j.default.$warn("获取用户音频列表失败，网络错误"),Promise.reject()}))}}},album:{actions:{fetchAlbum:function(t,e){t.commit;return j.default.http.jsonp("//api.bilibili.com/x/space/album/index",{params:e}).then((function(t){var e=t.code,n=t.message,i=t.data;return 0===e?Promise.resolve(i):(j.default.$warn("获取用户相簿列表失败，".concat(n)),Promise.reject())}),(function(){return j.default.$warn("获取用户相簿列表失败，网络错误"),Promise.reject()}))}}},pugv:{state:{list:[],page:{num:1,size:15,total:0},pugvList:[],pugvPage:{num:1,size:10,total:0},isLoading:!1},actions:h,getters:v,mutations:(Ce={},b()(Ce,k.kb,(function(t){t.isLoading=!t.isLoading})),b()(Ce,k.lb,(function(t,e){var n=e.items,i=e.page;t.list=n,t.page=i})),b()(Ce,k.jb,(function(t){t.isLoading=!1})),b()(Ce,k.ib,(function(t,e){var n=e.items,i=e.page;t.pugvList=n,t.pugvPage=i})),Ce)}};j.default.use(g.a);var Ii,Ni=new g.a.Store({modules:Oi,strict:!1}),Ai=[],Ri=[],Fi="@@clickoutsideContext",Di=0;function Ui(t,e,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&i.target&&a.target)||t.contains(i.target)||t.contains(a.target)||t===i.target||n.context.popperElm&&(n.context.popperElm.contains(i.target)||n.context.popperElm.contains(a.target))||(e.expression&&t[Fi].methodName&&n.context[t[Fi].methodName]?n.context[t[Fi].methodName]():t[Fi].bindingFn&&t[Fi].bindingFn())}}var Vi=n(194),Bi={name:"be-input",data:function(){return{currentValue:this.value}},props:{value:{type:[String,Number],default:""},type:{type:String,default:"input"},rows:{type:Number,default:4},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入内容"},maxlength:void 0,required:Boolean},watch:{value:function(t){this.currentValue=t}},methods:{handleInput:function(t){this.currentValue=t.target.value,this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)},handleFocus:function(){this.$emit("focus",this.currentValue)},handleBlur:function(){this.$emit("blur",this.currentValue)}}},Mi=(n(441),Object(_t.a)(Bi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"be-input":"input"===t.type,"be-textarea":"textarea"===t.type,"is-diabled":t.disabled,"be-input--append":t.$slots.append||t.maxlength}},["input"===t.type?n("input",t._b({staticClass:"be-input_inner",domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"input",t.$props,!1)):t._e(),"textarea"===t.type?n("textarea",t._b({staticClass:"be-textarea_inner",attrs:{rows:t.rows},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.$props,!1)):t._e(),t.maxlength?n("div",{staticClass:"be-input-word-counter"},[t._v(t._s(t.currentValue.length)+"/"+t._s(t.maxlength))]):t._e(),t.$slots.append?t._t("append"):t._e()],2)}),[],!1,null,null,null).exports),Gi={name:"modal",data:function(){return{visible:!1}},props:{name:{type:String,default:""},show:{type:Boolean,default:!1},title:{type:String,default:"提示"},body:{type:String,default:"这是一段内容"},mask:{type:Boolean,default:!0},cancelButton:{type:Object,default:function(){return{show:!0,type:"default",text:"取消"}}},confirmButton:{type:Object,default:function(){return{show:!0,type:"primary",text:"确定"}}}},mounted:function(){this.$slots.body||this.body||console.log("Modal至少需要输入一个内容！")},methods:{cancel:function(t){this.$emit("cancel",{name:this.name})},confirm:function(t){this.$emit("confirm",{name:this.name})}},computed:{styles:function(){var t={};return t.width=this.pWidth+"px",t}}},Hi=(n(187),Object(_t.a)(Gi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-container"},[t.mask?n("div",{staticClass:"modal-mask"}):t._e(),n("div",{staticClass:"modal-wrapper",style:t.styles},[n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-header"},[n("i",{staticClass:"modal-header-close iconfont icon-ic_close",on:{click:t.cancel}}),n("div",{staticClass:"modal-title"},[t.$slots.title?t._t("title"):n("p",[t._v(t._s(t.title))])],2)]),n("div",{staticClass:"modal-body"},[t.$slots.body?t._t("body"):n("p",[t._v(t._s(t.body))])],2),n("be-button-group",{staticClass:"modal-footer"},[t.confirmButton.show?n("be-button",{attrs:{type:t.confirmButton.type},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v(t._s(t.confirmButton.text))]):t._e(),t.cancelButton.show?n("be-button",{attrs:{type:t.cancelButton.type},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.cancelButton.text))]):t._e()],1)],1)])])])}),[],!1,null,null,null).exports),Wi={name:"be-toast",data:function(){return{text:"",show:!1}},methods:{destroyElement:function(){this.$destroy(),document.body.removeChild(this.$el)}},mounted:function(){var t=this;setTimeout((function(){t.show=!1,t.$el.addEventListener("transitionend",t.destroyElement)}),2e3)}},qi=(n(442),Object(_t.a)(Wi,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"be-toast"},[this._v(this._s(this.text))])])}),[],!1,null,null,null).exports),zi=j.default.extend(qi),Yi=function(t){var e=new zi({data:{text:t}});e.vm=e.$mount(),document.body.appendChild(e.vm.$el),e.show=!0},Ki=n(188),Ji=n.n(Ki),Xi={name:"modal",data:function(){return{show:!1,title:"提示",body:"",cancelButton:{show:!0,type:"default",text:"取消"},confirmButton:{show:!0,type:"primary",text:"确定"}}},mounted:function(){this.body||(this.body="操作失败",console.warn("请至少提供一个body参数"))},methods:{cancel:function(t){this.show=!1,this.$el.addEventListener("transitionend",this.destroyMessage),this.$emit("cancel")},confirm:function(t){this.show=!1,this.$emit("confirm")},destroyMessage:function(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}}},Qi=Object(_t.a)(Xi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-container"},[n("div",{staticClass:"modal-mask"}),n("div",{staticClass:"modal-wrapper",staticStyle:{width:"400px"}},[n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-header"},[n("i",{staticClass:"modal-header-close iconfont icon-ic_close",on:{click:t.cancel}}),n("div",{staticClass:"modal-title"},[n("p",[t._v(t._s(t.title))])])]),n("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.body)}}),n("be-button-group",{staticClass:"modal-footer"},[t.confirmButton.show?n("be-button",{attrs:{type:t.confirmButton.type},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v(t._s(t.confirmButton.text))]):t._e(),t.cancelButton.show?n("be-button",{attrs:{type:t.cancelButton.type},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.cancelButton.text))]):t._e()],1)],1)])])])}),[],!1,null,null,null).exports,Zi=j.default.extend(Qi),ta=function(t,e,n){var i={body:t};"object"===Ji()(e)&&(n=e,e=void 0),e&&(i.title=e);var a=new Zi({data:i});if(n){var r=n,o=r.cancelButton,s=r.confirmButton;o&&(a.cancelButton=Object.assign(a.cancelButton,o)),s&&(a.confirmButton=Object.assign(a.confirmButton,s))}return a.vm=a.$mount(),document.body.appendChild(a.vm.$el),a.show=!0,new Promise((function(t,e){a.vm.$on("confirm",t),a.vm.$on("cancel",e)}))},ea={warn:"错误提示",info:"信息提示",confirm:"确认提示"};["warn","info","confirm"].forEach((function(t){ta[t]=function(e){return ta(e,ea[t])}}));var na=ta,ia=n(195),aa=n.n(ia),ra="//api.bilibili.com/x/space/acc/info",oa=function(t){return j.default.http.jsonp("//api.bilibili.com/x/relation",{params:{fid:t}}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0===e?Promise.resolve(n):(console.log("单条获取用户关系失败，".concat(i)),Promise.reject())}),(function(t){return Promise.reject()}))},sa=function(t){return j.default.http.jsonp("//api.bilibili.com/x/relation/stat",{params:{vmid:t}}).then((function(t){var e=t.data,n=t.code,i=t.message;return 0===n?Promise.resolve(e):(console.log("用户关系数据获取失败，".concat(i)),Promise.resolve({following:0,whisper:0,black:0,follower:0}))}),(function(){return console.log("获取用户关系数据失败，网络错误"),Promise.reject()}))},ca=function(t,e){return j.default.http.post("//api.bilibili.com/x/relation/modify",{fid:t,act:e,re_src:11}).then((function(e){var n=e.data,i=n.code,a=n.message;return Object(ei.b)(ra,{mid:t},_bili_space_mid),[0,22004,22005].indexOf(i)>-1?Promise.resolve():22006===i?($.getScript("//static.hdslb.com/plugins/attentionLimitPopup/attentionLimitPopup.js",(function(){new window.attentionLimitPopup})),Promise.reject({code:i,message:a})):(j.default.$warn(a),Promise.reject({code:i,message:a}))}),(function(){return Promise.reject({code:404,message:"网络错误"})}))},ua=n(196),la={name:"card",data:function(){return{popper:null,timer:null,isLoaded:!1,isRendered:!1,data:{numbers:{},level:0,official:{},vip:{}},target:null,popperOptions:{},myMid:0,targetMid:0,upMid:0}},mounted:function(){var t=this;document.body.appendChild(this.$el),this.popper=new ua.a(this.target,this.$el,this.popperOptions),this.$nextTick((function(){this.popper.scheduleUpdate()})),this.isRendered=!0,this.unbind(),function(t,e){return Object(ei.a)(ra,{mid:t},_bili_space_mid,t).then((function(t){return Promise.resolve(t)}),(function(){return j.default.http({method:"get",url:ra,params:{mid:t},withCredentials:!0}).then((function(n){var i=n.data,a=i.data;if(0==+i.code){var r=a;return e?Promise.all([oa(t),sa(t)]).then((function(e){var n=aa()(e,2),i=n[0],a=n[1];return r.numbers=a,r.attribute=i.attribute,Object(ei.c)(ra,{mid:t},r,_bili_space_mid,t),Promise.resolve(r)})):sa(t).then((function(e){return r.numbers=e,r.attribute=0,Object(ei.c)(ra,{mid:t},r,_bili_space_mid,t),Promise.resolve(r)}))}return Promise.reject()}),(function(t){return Promise.reject()}))}))}(this.targetMid,!!this.myMid).then((function(e){t.data=e,t.isLoaded=!0,t.popper.scheduleUpdate()}),(function(){t.isLoaded=!0}))},methods:{unbind:function(){var t=this.target,e=this.$el;t.addEventListener("mouseleave",this.destroyElement),e.addEventListener("mouseleave",this.destroyElement),t.addEventListener("mouseenter",this.clearTimer),e.addEventListener("mouseenter",this.clearTimer)},destroyElement:function(){var t=this,e=this.$el,n=this.target;this.timer=setTimeout((function(){t.isRendered=!1,e.addEventListener("transitionend",(function(){n.removeEventListener("mouseenter",t.clearTimer),e.removeEventListener("mouseenter",t.clearTimer),t.$destroy(),e.parentNode.removeChild(e)}))}),300)},clearTimer:function(){clearTimeout(this.timer),this.timer=null},handleFollow:function(){var t=this,e=this.targetMid,n=this.myMid,i=this;0===n?window.UserStatus&&window.UserStatus.quickLogin((function(){(function(t){return j.default.http.jsonp("//api.bilibili.com/x/space/acc/relation",{params:{mid:t}}).then((function(t){var e=t.code,n=t.data,i=t.message;return 0===e?Promise.resolve(n):(console.log("单条获取用户被关注关系失败，".concat(i)),Promise.reject())}))})(e).then((function(t){var n=t.be_relation,a=t.relation;(n&&2==+n.attribute||0==+a.attribute)&&ca(e,1).then((function(){i.$toast("关注成功")})),setTimeout((function(){window.location.reload()}),500)})).catch((function(){window.location.reload()}))})):e===n?this.$emit("error",{code:2,message:"你时时刻刻都在关注你自己哦~"}):ca(e,1).then((function(){t.data.attribute=2,t.$emit("follow-success")}),(function(e){t.$emit("error",e)}))},handleUnfollow:function(){var t=this,e=this.targetMid;e===this.myMid?this.$emit("error",{code:3,message:"你不能取消关注你自己哦~"}):ca(e,2).then((function(){t.data.attribute=0,t.$emit("unfollow-success")}),(function(e){t.$emit("error",e)}))},unfollowEnter:function(t){t.target.innerText="取消关注"},unfollowLeave:function(t){t.target.innerText="已关注"}},computed:{cover:function(){var t=this.data,e=t.theme,n=t.top_photo;return e&&e.id?"//i0.hdslb.com/"+e.bg_img.toWebP():void 0===n?"":n.toWebP()},sexClass:function(){return"男"===this.data.sex?"male":"女"===this.data.sex?"female":"unknown"},vipRedNameCheck:function(){var t=this.data.vip,e=t.status,n=t.type,i=t.theme_type;return 2===n&&1===e&&1===i?"this-is-fools":1===e&&2===n?"this-is-vip":void 0}},filters:{userDesc:function(t){if(void 0===t||0===t.length)return"no-desc"}}},da=(n(446),Object(_t.a)(la,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isRendered,expression:"isRendered"}],ref:"card",attrs:{id:"id-card"}},[t.isLoaded?[n("div",{staticClass:"idc-theme-img",style:{backgroundImage:"url("+t.cover+")"}}),n("div",{staticClass:"idc-info clearfix"},[n("a",{staticClass:"idc-avatar-container",attrs:{href:"//space.bilibili.com/"+t.data.mid+"/",target:"_blank"}},[n("img",{staticClass:"idc-avatar",attrs:{alt:t.data.name,src:t._f("coversize")(t.data.face,"54x54")}}),[1,2,7].includes(t.data.official.role)?n("span",{staticClass:"user-auth-subscript avatar-m personal-auth",attrs:{"data-user-auth":"",title:"个人认证"}}):t._e(),[3,4,5,6].includes(t.data.official.role)?n("span",{staticClass:"user-auth-subscript avatar-m organization-auth",attrs:{"data-user-auth":"",title:"企业/团体认证"}}):t._e()]),n("div",{staticClass:"idc-content"},[n("div",[n("a",{staticClass:"idc-username",attrs:{href:"//space.bilibili.com/"+t.data.mid+"/",target:"_blank"}},[n("b",{staticClass:"idc-uname vip-name-check",class:t.vipRedNameCheck,attrs:{title:t.data.name}},[t._v(t._s(t.data.name))])]),n("span",{staticClass:"gender idc-gender icon",class:t.sexClass}),n("a",{staticClass:"m-level idc-m-level",attrs:{lvl:t.data.level,href:"//www.bilibili.com/html/help.html#k",target:"_blank"}})]),n("div",{staticClass:"idc-meta"},[n("span",{staticClass:"idc-meta-item"},[t._v("关注 "+t._s(t._f("toWan")(t.data.numbers.following)))]),n("span",{staticClass:"idc-meta-item"},[t._v("粉丝 "+t._s(t._f("toWan")(t.data.numbers.follower)))])])]),n("div",{staticClass:"tag-list idc-tag-list"}),0!==t.data.official.role?n("div",{staticClass:"idc-auth-description",class:t._f("userDesc")(t.data.official.title)},[t._v("\n          "+t._s(t._f("decodeHTML")(t.data.official.title))+"\n        ")]):n("div",{staticClass:"idc-sign"},[t._v(t._s(t._f("decodeHTML")(t.data.sign)))])]),n("be-button-group",{staticClass:"idc-action"},[-1===[2,6].indexOf(t.data.attribute)?n("be-button",{staticClass:"idc-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleFollow(e)}}},[t._v("+关注")]):n("be-button",{staticClass:"idc-btn",attrs:{type:"ghost"},on:{mouseenter:t.unfollowEnter,mouseleave:t.unfollowLeave},nativeOn:{click:function(e){return t.handleUnfollow(e)}}},[t._v("已关注")]),n("be-button",{staticClass:"idc-btn",attrs:{href:"//message.bilibili.com/#whisper/mid"+t.data.mid+"/"}},[t._v("发消息")])],1)]:n("div",{staticClass:"idc-laoding-text"},[t._v("正在加载中，请稍后...")])],2)])}),[],!1,null,null,null).exports),fa=j.default.extend(da),pa=function(){},ma=function(t){var e=t.target,n=t.targetMid,i=t.popperOptions,a=t.myMid,r=t.upMid,o=t.followSuccess,s=void 0===o?pa:o,c=t.unfollowSuccess,u=void 0===c?pa:c,l=t.error,d=void 0===l?pa:l,f=new fa({data:{target:e,targetMid:n,popperOptions:Object.assign({placement:"right-start"},i),myMid:a,upMid:r}});f.vm=f.$mount(),f.vm.$on("follow-success",s),f.vm.$on("unfollow-success",u),f.vm.$on("error",d)},ha=0,va={name:"be-tab",data:function(){return{uid:ha++,currentValue:"",left:0,width:0}},props:{tabs:{type:Array,default:function(){return[{link:"",active:!1,text:""}]}},value:{type:[String,Number],default:""}},mounted:function(){var t=this.$refs[this.activeTab.name][0];this.width=t.clientWidth,this.left=t.offsetLeft},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("input",this.currentValue)}},computed:{activeTab:function(){var t=this;return this.tabs.find((function(e){return e.name===t.value}))}},watch:{currentValue:function(t){var e=this.$refs[t][0];this.width=e.clientWidth,this.left=e.offsetLeft}}},_a=(n(447),Object(_t.a)(va,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"be-tab"},[n("ul",{staticClass:"be-tab-inner clearfix"},t._l(t.tabs,(function(e,i){return n("li",{key:i,ref:e.name,refInFor:!0,staticClass:"be-tab-item",class:{"is-active":e.name===t.value}},[n("input",{staticClass:"be-tab-input",attrs:{type:"radio",name:"be-tab-"+t.uid},domProps:{value:e.name},on:{change:t.handleChange}}),n("span",[t._v(t._s(e.alias))])])})),0),n("div",{staticClass:"be-tab-cursor",style:{transform:"translateX("+t.left+"px)",width:t.width+"px"}})])}),[],!1,null,null,null).exports),ba={name:"be-tooltip",data:function(){return{left:0,top:0,show:!1,text:"呦吼~",target:null}},mounted:function(){var t=this.$el,e=this.target;t.ownerDocument.defaultView.addEventListener("scroll",this.getPosition),e.addEventListener("mouseenter",this.startTooltip),e.addEventListener("mouseleave",this.destroyElement)},methods:{getPosition:function(){if(this.show&&null!==this.target){var t=this.target,e=t.getBoundingClientRect();this.left=e.left+(t.clientWidth-this.$el.clientWidth)/2,this.top=e.top-t.clientHeight-10}},destroyElement:function(){var t=this,e=this.$el,n=this.target;this.show=!1,e.addEventListener("transitionend",(function(){n.removeEventListener("mouseenter",t.startTooltip),n.removeEventListener("mouseleave",t.destroyElement),e.parentNode.removeChild(e),t.$destroy()}))},startTooltip:function(){this.show=!0,this.$nextTick(this.getPosition)}},watch:{show:function(t){t&&this.startTooltip()}}},ga=(n(448),Object(_t.a)(ba,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"be-tooltip",style:{left:this.left+"px",top:this.top+"px"}},[this._v(this._s(this.text))])])}),[],!1,null,null,null).exports),wa=j.default.extend(ga),ya=function(t,e){var n=new wa({data:{target:e,text:t}});return n.vm=n.$mount(),document.body.appendChild(n.vm.$el),n.show=!0,n},Ca=n(197),Pa=(n(449),{name:"be-scrollbar",props:{source:{type:Array,required:!0,default:function(){return[]}},options:{type:Object,default:function(){return{suppressScrollX:!0}}}},data:function(){return{ps:null}},mounted:function(){this.ps=new Ca.a(this.$refs.scrollbar,this.options)},beforeDestroy:function(){this.ps.destroy(),this.ps=null},methods:{psXReachStart:function(){this.$emit("ps-x-reach-start")},psYReachStart:function(){this.$emit("ps-y-reach-start")},psXReachEnd:function(){this.$emit("ps-x-reach-end")},psYReachEnd:function(){this.$emit("ps-y-reach-end")}},watch:{source:{deep:!0,handler:function(){this.$nextTick(this.ps.update)}}}}),Sa=(n(450),Object(_t.a)(Pa,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"scrollbar",staticClass:"be-scrollbar",on:{"ps-y-reach-end":this.psYReachEnd,"ps-x-reach-end":this.psXReachEnd,"ps-y-reach-start":this.psYReachStart,"ps-x-reach-start":this.psXReachStart}},[this._t("default")],2)}),[],!1,null,null,null).exports),La={name:"be-switch",props:{value:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},onLabel:String,offLabel:String,name:String},methods:{handleChange:function(){this.$emit("input",!this.value),this.$emit("change",{val:!this.value,name:this.name})}}},xa=(n(451),Object(_t.a)(La,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"be-switch-container",class:{"is-checked":t.value}},[n("input",{ref:"checkbox",staticClass:"be-switch-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:t.value},on:{change:t.handleChange}}),t._m(0),t.onLabel&&t.offLabel?n("div",{staticClass:"be-switch-label"},[n("span",[t._v(t._s(t.value?t.onLabel:t.offLabel))])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"be-switch"},[e("i",{staticClass:"be-switch-cursor"})])}],!1,null,null,null).exports),ka={name:"be-button",props:{type:{type:String,default:"default"},size:{type:String,default:"default"},fontColor:{type:String,default:""},icon:{type:String,default:""},color:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{iconClass:function(){var t=[];return this.icon?(t.push(this.icon),t):t},btnClass:function(){var t=[];switch(this.type){case"primary":t.push("primary");break;case"default":t.push("default");break;case"ghost":t.push("ghost");break;case"success":t.push("success");break;case"info":t.push("info");break;case"warning":t.push("warning");break;case"danger":t.push("danger")}switch(this.size){case"small":t.push("btn-small");break;case"large":t.push("btn-large")}return this.disabled&&t.push("btn-disabled"),t},styleList:function(){var t={};return this.color&&(t.background=this.color),this.fontColor&&(t.color=this.fontColor),t}}},ja=(n(452),Object(_t.a)(ka,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn",class:this.btnClass,style:this.styleList},[this.icon?e("i",{staticClass:"btn-icon",class:this.iconClass}):this._e(),e("span",{staticClass:"btn-content"},[this._t("default")],2)])}),[],!1,null,"7b0ffc38",null).exports),Ta={name:"be-button-group",props:{align:{type:String,default:"center"}},computed:{styleClass:function(){return"btn-"+this.align}}},Ea=(n(453),Object(_t.a)(Ta,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"btn-container",class:this.styleClass},[this._t("default")],2)}),[],!1,null,"1ea3cefa",null).exports);var $a,Oa={name:"be-pagination",props:{current:{type:Number,default:1,required:!0},total:{type:Number,default:0,required:!0}},data:function(){return{prefixCls:"be-pager"}},computed:{allPages:function(){var t=Math.ceil(this.total);return 0===t?1:t},simpleWrapClasses:function(){return["".concat("be-pager"),"".concat("be-pager","-simple")]},ElevatorClasses:function(){return["".concat("be-pager","-options-elevator")]},simplePagerClasses:function(){return"".concat("be-pager","-simple-pager")},wrapClasses:function(){return["".concat("be-pager"),{mini:!!this.size}]},prevClasses:function(){return["".concat("be-pager","-prev"),b()({},"".concat("be-pager","-disabled"),1===this.current)]},nextClasses:function(){return["".concat("be-pager","-next"),b()({},"".concat("be-pager","-disabled"),this.current===this.allPages)]},firstPageClasses:function(){return["".concat("be-pager","-item"),b()({},"".concat("be-pager","-item-active"),1===this.current)]},lastPageClasses:function(){return["".concat("be-pager","-item"),b()({},"".concat("be-pager","-item-active"),this.current===this.allPages)]}},methods:{changePageInput:function(t){var e=t.target.value.trim(),n=0;if(/^[1-9][0-9]*$/.test(e+"")&&(e=Number(e))!==this.current){var i=this.allPages;n=e>i?i:e}n&&(this.changePage(n),t.target.value="")},changePage:function(t){this.current!==t&&this.$emit("turn-page",t)},prev:function(){var t=this.current;if(t<=1)return!1;this.changePage(t-1)},next:function(){var t=this.current;if(t>=this.allPages)return!1;this.changePage(t+1)},fastPrev:function(){var t=this.current-5;t>0?this.changePage(t):this.changePage(1)},fastNext:function(){var t=this.current+5;t>this.allPages?this.changePage(this.allPages):this.changePage(t)}},watch:{current:function(){window.scrollTo(0,0)}}},Ia=(n(454),Object(_t.a)(Oa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{directives:[{name:"show",rawName:"v-show",value:t.total>1,expression:"total > 1"}],class:t.wrapClasses},[n("li",{class:t.prevClasses,attrs:{title:"上一页"},on:{click:t.prev}},[n("a",[t._v("上一页")])]),n("li",{class:t.firstPageClasses,attrs:{title:"第一页"},on:{click:function(e){return t.changePage(1)}}},[n("a",[t._v("1")])]),t.current-3>1?n("li",{class:[t.prefixCls+"-item-jump-prev"]}):t._e(),t.current-2>1?n("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current-2},on:{click:function(e){return t.changePage(t.current-2)}}},[n("a",[t._v(t._s(t.current-2))])]):t._e(),t.current-1>1?n("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current-1},on:{click:function(e){return t.changePage(t.current-1)}}},[n("a",[t._v(t._s(t.current-1))])]):t._e(),1!==t.current&&t.current!==t.allPages?n("li",{class:[t.prefixCls+"-item",t.prefixCls+"-item-active"],attrs:{title:t.current}},[n("a",[t._v(t._s(t.current))])]):t._e(),t.current+1<t.allPages?n("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current+1},on:{click:function(e){return t.changePage(t.current+1)}}},[n("a",[t._v(t._s(t.current+1))])]):t._e(),t.current+2<t.allPages?n("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current+2},on:{click:function(e){return t.changePage(t.current+2)}}},[n("a",[t._v(t._s(t.current+2))])]):t._e(),t.current+3<t.allPages?n("li",{class:[t.prefixCls+"-item-jump-next"]}):t._e(),t.allPages>1?n("li",{class:t.lastPageClasses,attrs:{title:"最后一页:"+t.allPages},on:{click:function(e){return t.changePage(t.allPages)}}},[n("a",[t._v(t._s(t.allPages))])]):t._e(),n("li",{class:t.nextClasses,attrs:{title:"下一页"},on:{click:t.next}},[n("a",[t._v("下一页")])]),n("span",{class:[t.prefixCls+"-total"]},[t._t("default",[t._v("共 "+t._s(t.total)+" 页，")])],2),n("span",{class:t.ElevatorClasses},[t._v("\n    跳至\n    "),n("input",{staticClass:"space_input",attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePageInput(e)}}}),t._v(" 页\n  ")])])}),[],!1,null,null,null).exports),Na=n(135),Aa={name:"be-dropdown",data:function(){return{isDropdown:!0,open:!1,timer:null}},props:{trigger:{type:String,default:"click",validator:function(t){return["","click","hover"].indexOf(t)>-1}},align:{type:String,default:"",validator:function(t){return["","right","left","middle"].indexOf(t)>-1}},append:{type:Boolean,default:!0}},provide:function(){return{dropdown:this}},methods:{handleMouseenter:Object(Na.debounce)(300,!0,(function(){"hover"===this.trigger&&(clearTimeout(this.timer),this.timer=null,this.open=!0)})),handleMouseleave:function(){"hover"===this.trigger&&(this.timer=setTimeout(this.hide,300))},handleClick:function(){"click"===this.trigger&&(this.open=!this.open,this.$emit("dropClick",this.open))},hide:function(){this.open=!1}}},Ra=(n(456),Object(_t.a)(Aa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],staticClass:"be-dropdown",on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave,click:t.handleClick}},[t.$slots.trigger?t._t("trigger"):n("div",{staticClass:"be-dropdown-trigger"},[n("i",{staticClass:"iconfont icon-ic_more",attrs:{title:"更多操作"}})]),t._t("menu"),t.$slots.trigger||t.$slots.menu?t._e():t._t("default")],2)}),[],!1,null,null,null).exports),Fa={name:"be-dropdown-item",props:{name:{type:[String,Number]},delimiter:{type:Boolean,default:!1}},methods:{handleSelect:function(){this.dropdown.$emit("select",this.name)}},computed:{dropdown:function(){for(var t=this.$parent;!t.isDropdown;)t=t.$parent;return t}}},Da=(n(457),Object(_t.a)(Fa,(function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"be-dropdown-item",class:{"be-dropdown-item-delimiter":this.delimiter},on:{click:this.handleSelect}},[this._t("default")],2)}),[],!1,null,null,null).exports),Ua={name:"be-dropdown-menu",data:function(){return{left:0,top:0,transformOrigin:"top"}},mounted:function(){this.$el.ownerDocument.defaultView.addEventListener("scroll",this.getPosition)},computed:{dropdown:function(){for(var t=this.$parent;!t.isDropdown;)t=t.$parent;return t},open:function(){return this.dropdown.open},align:function(){return this.dropdown.align}},methods:{getPosition:function(){if(this.open){var t=this.dropdown.$el,e=t.getBoundingClientRect(),n=this.$el.clientWidth,i=this.$el.clientHeight,a=t.clientWidth,r=t.clientHeight,o=e.left,s=e.top+r+10;switch(this.transformOrigin="top",this.align){case"right":default:o+=a-n;break;case"left":break;case"middle":o+=(a-n)/2}s+i>document.body.clientHeight&&(s=e.top-i-10,this.transformOrigin="bottom"),this.left=o,this.top=s}}},watch:{open:function(t){t&&this.$nextTick(this.getPosition)}}},Va=(n(458),[Mi,Hi,_a,Sa,xa,ja,Ea,Ia,Ra,Da,Object(_t.a)(Ua,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"zoom"}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.open,expression:"open"}],staticClass:"be-dropdown-menu",class:["menu-align-"+this.align],style:{left:this.left+"px",top:this.top+"px",transformOrigin:this.transformOrigin}},[this._t("default")],2)])}),[],!1,null,null,null).exports,n(133).a]);j.default.config.silent=!0,j.default.config.productionTip=!1,j.default.prototype.$bus=ue,function(t){t.directive("rec",{bind:function(e,n){t.prototype.$isServer||e.addEventListener("click",(function(){rec(n.value)}),!1)}})}($a=j.default),function(t){t.directive("rep",{bind:function(e,n){t.prototype.$isServer||e.addEventListener("click",(function(t){window.spaceReport[n.value]="",window.reportObserver.forceCommit()}),!1)}})}($a),function(t){t.directive("watchlater",{bind:function(e,n){var i=n.value,a=n.modifiers,r=a.tip,o=a.channel,s=a.video,c=i.cid,u=i.count;o&&e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),UserStatus.userInfo.isLogin?t.http.jsonp("//api.bilibili.com/x/v2/history/toview/remaining").then((function(e){var n=e.data.count;if(0!==n){var i=n>=u?"你即将添加本频道的 ".concat(u," 个视频到稍后再看，点击确认进行批量添加哦"):"稍后再看列表的库存不足啦，继续添加只能收录该频道前面的部分";t.$confirm(i).then((function(){t.http.post("/ajax/channel/addAllToView",{cid:c,mid:_bili_space_mid}).then((function(e){var n=e.data,i=n.status,a=n.data;i?t.$toast("添加稍后再看成功^_^"):t.$warn("添加稍后再看失败，".concat(a))}),(function(){t.$warn("添加稍后再看失败，网络错误")}))}))}else t.$warn("你的稍后再看列表库存满啦")}),(function(){t.$warn("添加稍后再看失败，网络错误")})):window.UserStatus&&window.UserStatus.quickLogin((function(){window.location.reload()}))})),s&&e.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var a=i.aid,r=Ai.indexOf(a),o=r>-1;window.UserStatus.userInfo.isLogin?o?(rec("add_watchlater",{source:"space",action:"del"}),t.http.post("//api.bilibili.com/x/v2/history/toview/del",{aid:a,viewed:!1}).then((function(n){var i=n.data,a=i.code,o=i.message;0===a?(Ai.splice(r,1),ue.$emit("watchlater",JSON.parse(JSON.stringify(Ai))),t.$tooltip("已从稍后再看列表中移除",e)):(o||(o="移除失败，请稍后重试"),t.$tooltip(o,e))}),(function(n){t.$tooltip("移除失败，请稍后重试",e)}))):(rec("add_watchlater",{source:"space"}),t.http.post("//api.bilibili.com/x/v2/history/toview/add",{aid:a}).then((function(n){var i=n.data,r=i.code,o=i.message;0===r?(Ai.push(a),ue.$emit("watchlater",JSON.parse(JSON.stringify(Ai))),t.$tooltip("已加稍后再看",e)):(o||(o="添加失败，请稍后重试"),t.$tooltip(o,e))}),(function(n){t.$tooltip("添加失败，请稍后重试",e)}))):window.UserStatus&&window.UserStatus.quickLogin((function(){window.location.reload()}))}),!1),r&&e.addEventListener("mouseenter",(function(){t.$tooltip(e.className.split(" ").indexOf("has-select")>-1?"移除稍后再看":"稍后再看",e)}))}})}($a),function(t){t.prototype.$isServer||(document.addEventListener("mousedown",(function(t){return Ii=t}),!1),document.addEventListener("mouseup",(function(t){Ri.forEach((function(e){return e[Fi].documentHandler(t,Ii)}))}),!1)),t.directive("clickoutside",{bind:function(t,e,n){Ri.push(t);var i=Di++,a=e.expression,r=e.value;/\W/gi.test(a),t[Fi]={id:i,documentHandler:Ui(t,e,n),methodName:a,bindingFn:r}},update:function(t,e,n){var i=e.expression,a=e.value;t[Fi].documentHandler=Ui(t,e,n),t[Fi].methodName=i,t[Fi].bindingFn=a},unbind:function(t){for(var e=Ri.length,n=0;n<e;n++)if(Ri[n][Fi].id===t[Fi].id){Ri.splice(n,1);break}delete t[Fi]}})}($a),function(t){t.directive("sortable",{bind:function(t,e){new Vi.a(t,e.value)}})}($a),function(t){var e=t.prototype.$isServer;t.directive("hlkeyword",(function(t,n){var i=n.value;if(e)t.innerHTML=i;else{if(void 0===window._search_keyword)return void(t.innerHTML=i);i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"),""!==window._search_keyword&&(i=i.replace(new RegExp("("+window._search_keyword+")","gi"),'<span class="search-keyword-highlight">$1</span>')),t.innerHTML=i}}))}($a),function(t){Va.map((function(e){t.component(e.name,e)})),t.prototype.$toast=Yi,t.prototype.$card=ma,t.prototype.$message=na,t.prototype.$tooltip=ya,t.prototype.$warn=na.warn,t.prototype.$info=na.info,t.prototype.$confirm=na.confirm,t.$toast=Yi,t.$message=na,t.$tooltip=ya,t.$warn=na.warn,t.$info=na.info,t.$confirm=na.confirm}(j.default),j.default.use(oe.a),j.default.config.keyCodes.comma=188;var Ba=/^\/\/api.bilibili.com/,Ma=function(t){var e,n=t.method,i=t.url,a=t.data,r=void 0===a?{}:a,o=t.params,s=void 0===o?{}:o,c=t.headers;return n=n.toLowerCase(),Ba.test(i)&&("post"===n?r.jsonp="jsonp":s.jsonp="jsonp"),"post"===n&&(j.default.prototype.$isServer?r.csrf=function(t){var e={};void 0!==t&&t.split(";").forEach((function(t){var n=t.split("=")[0].trim(),i=t.split("=")[1];e[n]=i}));return e}(c.cookie).bili_jct:r.csrf=(e="bili_jct",decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null),t.withCredentials=!0,t.data=ce.a.stringify(r)),t.params=s,R(t)};Ma.get=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.url=t,e.method="get",Ma(e)},Ma.post=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ma({url:t,data:e,method:"post"})},Ma.jsonp=de,j.default.http=Ma;n(198),n(199);var Ga=n(131);Sentry.init({dsn:"http".concat("s","://16fc99b7243643c09cc4680b7fe3fcd8@api.bilibili.com/x/traceback/10"),debug:!1,release:"6b205c198ff52b3196d0e868f6c77459b5b9f786",environment:"production",sampleRate:.2,integrations:[new Ga.TrackingReport({env:"production"}),new Ga.BiliIntegration({}),new Sentry.Integrations.Vue({Vue:j.default,attachProps:!0,logErrors:!1})]});var Ha,Wa,qa={app:new j.default({router:Qt,store:Ni,ssrContext:Ha,render:function(t){return t(Kt)}}),router:Qt,store:Ni},za=qa.app,Ya=qa.router,Ka=qa.store;Wa=window.__BILI_CONFIG__&&window.__BILI_CONFIG__.show_bv,j.default.prototype.$isbv=Wa,j.default.prototype.$transformId=function(t,e){return Wa&&e||t},j.default.prototype.$transformLink=function(t,e){return Wa?"//www.bilibili.com/video/".concat(e||"av"+t):"//www.bilibili.com/video/av".concat(t)},Ya.onReady((function(){if(window.__INITIAL_STATE__){Ka.replaceState(window.__INITIAL_STATE__);var t=[Ka.dispatch("fetchMyInfo",{mid:mid}),Ka.dispatch("fetchPlaylistAuth",{vmid:mid}),Ka.dispatch("fetchRelation",mid)];Promise.all(t).then((function(t){if("owner"!==Ka.state.init._bili_space_state){var e=t[2].attribute,n="";n=0===Ka.state.init._bili_space_mymid?"visitor":[2,6].indexOf(+e)>-1?"fans":"visitor",Ka.commit("RELATION_WITH_UPER",+e),Ka.commit("UPADTE_USER_STATE",n)}}))}else{var e=Ya.getMatchedComponents();e&&0!==e.length||(window.location.href="//www.bilibili.com/404.html");var n=document.cookie,i=window._bili_space_mid,a=e.filter((function(t){return t.asyncData})).map((function(t){return t.asyncData(Ka,{cookie:n,mid:i})})).concat([Ka.dispatch("fetchMyInfo",{mid:i}),Ka.dispatch("fetchRelation",i).catch((function(t){return!1})),Ka.dispatch("fetchBeRelation",i).catch((function(t){return!1}))]);Promise.all(a).then((function(t){if("owner"!==Ka.state.init._bili_space_state&&t[2]){var e=t[2].attribute,n="";n=0===Ka.state.init._bili_space_mymid?"visitor":[2,6].indexOf(+e)>-1?"fans":"visitor",Ka.commit("RELATION_WITH_UPER",+e),Ka.commit("UPADTE_USER_STATE",n),Ka.commit("GET_ACCRELATION_SUCCESS",t[3])}za.$mount("#space-app")})).catch()}window&&window.document.getElementById("app")&&za.$mount("#app")}))},76:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){},89:function(t,e,n){},90:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){}});
//# sourceMappingURL=space.6b205c198ff52b3196d0e868f6c77459b5b9f786.js.map